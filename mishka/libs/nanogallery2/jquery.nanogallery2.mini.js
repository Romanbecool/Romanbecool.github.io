!function(t){"use strict";function e(){function e(t,e,i){this.thumbnailIdx=t,this.width=0,this.height=0,this.top=0,this.left=0,this.row=0,this.imageWidth=e,this.imageHeight=i,this.resizedContentWidth=0,this.resizedContentHeight=0,this.displayed=!1,this.neverDisplayed=!0,this.inDisplayArea=!1}function i(t){this.imageIdx=t,this.imageNumber=0}function n(){fe.albumListHidden.length>0?jQuery.nanogallery2["data_"+fe.O.kind](fe,"GetHiddenAlbums",fe.albumListHidden,a):ne()||a()}function a(){if(""!=fe.O.openOnStart){var t=o(fe.O.openOnStart);"0"!=t.imageID?W(t.imageID,t.albumID):r("-1",t.albumID)}else r("-1",0)}function o(t){var e={albumID:"0",imageID:"0"},i=t.split("/");return i.length>0&&(e.albumID=i[0],i.length>1&&(e.imageID=i[1])),e}function r(t,e){fe.VOM.viewerDisplayed&&qt(null);var i=NGY2Item.GetIdx(fe,e);fe.GOM.curNavLevel=0==i?"l1":"lN",fe.galleryResizeEventEnabled=!1,-1==i&&(NGY2Item.New(fe,"","",e,"0","album"),i=fe.I.length-1),fe.I[i].contentIsLoaded?(gt(),fe.GOM.pagination.currentPage=0,ae(e,""),b(i)):Q(e,r,t,e)}function l(){switch(fe.galleryDisplayMode.Get()){case"PAGINATION":fe.layout.support.rows&&fe.galleryMaxRows.Get()>0&&m(fe.GOM.albumIdx);break;case"MOREBUTTON":fe.$E.conTnBottom.off("click");var t=fe.GOM.items.length-fe.GOM.itemsDisplayed;0==t?fe.$E.conTnBottom.empty():(fe.$E.conTnBottom.html('<div class="nGY2GalleryMoreButton"><div class="nGY2GalleryMoreButtonAnnotation">+'+t+" "+fe.O.icons.galleryMoreButton+"</div></div>"),fe.$E.conTnBottom.on("click",function(t){fe.GOM.displayedMoreSteps++,I()}))}}function s(t){var e="";fe.O.breadcrumbHideIcons||(e=fe.O.icons.breadcrumbAlbum,0==t&&(e=fe.O.icons.breadcrumbHome));var i=jQuery('<div class="oneItem">'+e+fe.I[t].title+"</div>").appendTo(fe.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));fe.O.breadcrumbOnlyCurrentLevel?0==t?jQuery(i).data("albumID","0"):jQuery(i).data("albumID",fe.I[t].albumID):jQuery(i).data("albumID",fe.I[t].GetID()),i.click(function(){r("-1",jQuery(this).data("albumID"))})}function u(t){var e=jQuery('<div class="oneItem">'+(fe.O.RTL?fe.O.icons.breadcrumbSeparatorRtl:fe.O.icons.breadcrumbSeparator)+"</div>").appendTo(fe.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));jQuery(e).data("albumIdx",t),e.click(function(){var t=jQuery(this).data("albumIdx");r("-1",fe.I[t].GetID())})}function c(t){if(fe.GOM.navigationBar.$newContent=jQuery('<div class="nGY2Navigationbar"></div>'),1==fe.O.displayBreadcrumb&&!fe.O.thumbnailAlbumDisplayImage){var e=0,i=[];if(0!=t){var n=fe.I.length;i.push(t);var a=t;for(e++;0!=fe.I[a].albumID&&-1!=fe.I[a].albumID;)for(l=1;l<n;l++)if(fe.I[l].GetID()==fe.I[a].albumID){a=l,i.push(a),e++;break}}fe.O.breadcrumbAutoHideTopLevel&&0==e||h(i)}if(0!=fe.galleryFilterTags.Get()){var o=fe.I[t].albumTagList.length;if(o>0){for(var l=0;l<o;l++){var s=fe.I[t].albumTagList[l],u=fe.O.icons.navigationFilterUnselected,c="Unselected";jQuery.inArray(s,fe.I[t].albumTagListSel)>=0&&(c="Selected",u=fe.O.icons.navigationFilterSelected),jQuery('<div class="nGY2NavigationbarItem nGY2NavFilter'+c+'">'+u+" "+s+"</div>").appendTo(fe.GOM.navigationBar.$newContent).click(function(){var e=jQuery(this),i=e.text().replace(/^\s*|\s*$/,"");if(e.hasClass("nGY2NavFilterUnselected"))fe.I[t].albumTagListSel.push(i);else{var n=jQuery.inArray(i,fe.I[t].albumTagListSel);-1!=n&&fe.I[t].albumTagListSel.splice(n,1)}e.toggleClass("nGY2NavFilters-oneTagUnselected nGY2NavFilters-oneTagSelected"),r("-1",fe.I[t].GetID())})}jQuery('<div class="nGY2NavigationbarItem nGY2NavFilterSelectAll">'+fe.O.icons.navigationFilterSelectedAll+"</div>").appendTo(fe.GOM.navigationBar.$newContent).click(function(){var e=fe.I[t].albumTagList.length;fe.I[t].albumTagListSel=[];for(var i=0;i<e;i++){var n=fe.I[t].albumTagList[i];fe.I[t].albumTagListSel.push(n)}r("-1",fe.I[t].GetID())})}}}function h(t){if(jQuery('<div class="nGY2NavigationbarItem nGY2Breadcrumb"></div>').appendTo(fe.GOM.navigationBar.$newContent),fe.O.breadcrumbOnlyCurrentLevel)if(0==t.length)s(0);else{t.length;u(1==t.length?0:t[0]),s(t[0])}else if(s(0),t.length>0){u(0);for(var e=t.length-1;e>=0;e--)s(t[e]),e>0&&u(t[e-1])}}function m(e){if(fe.$E.conTnBottom.children().remove(),0!=fe.GOM.items.length){var i=Math.ceil((fe.GOM.items[fe.GOM.items.length-1].row+1)/fe.galleryMaxRows.Get());if(1!=i&&(fe.GOM.pagination.currentPage>i-1&&(fe.GOM.pagination.currentPage=i-1),f(),0!=fe.GOM.displayInterval.len)){"NUMBERS"==fe.O.galleryPaginationMode&&fe.GOM.pagination.currentPage>0&&jQuery('<div class="nGY2PaginationPrev">'+fe.O.icons.paginationPrevious+"</div>").appendTo(fe.$E.conTnBottom).click(function(t){g()});var n=0,a=i;if("NUMBERS"!=fe.O.galleryPaginationMode)n=0;else{fe.O.paginationVisiblePages;var o=fe.O.paginationVisiblePages;if(o>=i)n=0;else{var r=0;r=d(o)?(o+1)/2:o/2,fe.GOM.pagination.currentPage<r?(n=0,(a=o-1)>i&&(a=i-1)):(a=(n=fe.GOM.pagination.currentPage-r)+o)>i&&(a=i-1),a-n<o&&(n=a-o)<0&&(n=0)}}for(var l=n;l<a;l++){var s="",u="";switch(fe.O.galleryPaginationMode){case"NUMBERS":s="nGY2paginationItem",u=l+1;break;case"DOTS":s="nGY2paginationDot";break;case"RECTANGLES":s="nGY2paginationRectangle"}l==fe.GOM.pagination.currentPage&&(s+="CurrentPage");var c=jQuery('<div class="'+s+'">'+u+"</div>").appendTo(fe.$E.conTnBottom);c.data("pageNumber",l),c.click(function(e){fe.GOM.pagination.currentPage=jQuery(this).data("pageNumber"),t("html, body").animate({scrollTop:0},"slow"),ee("pageChanged"),L(!0)})}"NUMBERS"==fe.O.galleryPaginationMode&&fe.GOM.pagination.currentPage+1<i&&jQuery('<div class="nGY2PaginationNext">'+fe.O.icons.paginationNext+"</div>").appendTo(fe.$E.conTnBottom).click(function(t){p()})}}}function d(t){return t%2==1}function p(){fe.GOM.albumIdx;var e=0;H(),fe.galleryMaxRows.Get()>0&&(e=(fe.GOM.items[fe.GOM.items.length-1].row+1)/fe.galleryMaxRows.Get());var i=Math.ceil(e),n=fe.GOM.pagination.currentPage;n<i-1?n++:n=0,fe.GOM.pagination.currentPage=n,t("html, body").animate({scrollTop:0},"slow"),ee("pageChanged"),L(!0)}function g(){fe.GOM.albumIdx;var e=0;H(),fe.galleryMaxRows.Get()>0&&(e=(fe.GOM.items[fe.GOM.items.length-1].row+1)/fe.galleryMaxRows.Get());var i=Math.ceil(e),n=fe.GOM.pagination.currentPage;n>0?n--:n=i-1,fe.GOM.pagination.currentPage=n,t("html, body").animate({scrollTop:0},"slow"),ee("pageChanged"),L(!0)}function f(){switch(fe.GOM.displayInterval.from=0,fe.GOM.displayInterval.len=fe.I.length,fe.galleryDisplayMode.Get()){case"PAGINATION":if(fe.layout.support.rows){var t=fe.GOM.items.length,e=fe.GOM.pagination.currentPage*fe.galleryMaxRows.Get(),i=e+fe.galleryMaxRows.Get(),n=-1;fe.GOM.displayInterval.len=0;for(a=0;a<t;a++)(o=fe.GOM.items[a]).row>=e&&o.row<i&&(-1==n&&(fe.GOM.displayInterval.from=a,n=a),fe.GOM.displayInterval.len++)}break;case"MOREBUTTON":if(fe.layout.support.rows){var t=fe.GOM.items.length,i=fe.O.galleryDisplayMoreStep*(fe.GOM.displayedMoreSteps+1);fe.GOM.displayInterval.len=0;for(a=0;a<t;a++)(o=fe.GOM.items[a]).row<i&&fe.GOM.displayInterval.len++}break;case"ROWS":if(fe.layout.support.rows){var t=fe.GOM.items.length,i=fe.galleryMaxRows.Get();fe.galleryLastRowFull.Get()&&-1!=fe.GOM.lastFullRow&&i>fe.GOM.lastFullRow+1&&(i=fe.GOM.lastFullRow+1),fe.GOM.displayInterval.len=0;for(a=0;a<t;a++)(o=fe.GOM.items[a]).row<i&&fe.GOM.displayInterval.len++}break;default:case"FULLCONTENT":if(fe.layout.support.rows&&fe.galleryLastRowFull.Get()&&-1!=fe.GOM.lastFullRow){var t=fe.GOM.items.length,i=fe.GOM.lastFullRow+1;fe.GOM.displayInterval.len=0;for(var a=0;a<t;a++){var o=fe.GOM.items[a];o.row<i&&fe.GOM.displayInterval.len++}}}}function b(t){if(ee("galleryRenderStart"),null!==fe.O.fnGalleryRenderStart&&("function"==typeof fe.O.fnGalleryRenderStart?fe.O.fnGalleryRenderStart(t):window[fe.O.fnGalleryRenderStart](t)),fe.layout.SetEngine(),fe.galleryResizeEventEnabled=!1,fe.GOM.albumIdx=-1,fe.GOM.lastDisplayedIdx=-1,void 0!==fe.$E.conTnBottom&&fe.$E.conTnBottom.empty(),c(t),fe.GOM.firstDisplay)fe.GOM.firstDisplay=!1,setTimeout(function(){v(t)},fe.O.galleryRenderDelay);else{var e=!1;0==fe.GOM.navigationBar.$newContent.children().length&&(e=!0),(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},duration:200,easing:"easeInQuart",attachment:{h:e},step:function(t,e){fe.$E.conTnParent.css({opacity:t.opacity}),e.h&&fe.$E.conNavigationBar.css({opacity:t.opacity})},finish:function(e,i){fe.$E.conTnParent.css({opacity:0}),i.h&&fe.$E.conNavigationBar.css({opacity:0,display:"none"});var n=me(),a=fe.$E.base.offset().top;a<n.t&&jQuery("html, body").animate({scrollTop:a},200),v(t)}})}}function v(t){var e=fe.$E.conNavigationBar.children().length;fe.$E.conNavigationBar.empty(),fe.GOM.navigationBar.$newContent.children().clone(!0,!0).appendTo(fe.$E.conNavigationBar),fe.$E.conNavigationBar.children().length>0&&0==e?(fe.$E.conNavigationBar.css({opacity:0,display:"block"}),(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},duration:200,easing:"easeInQuart",step:function(t,e){fe.$E.conNavigationBar.css({opacity:t.opacity})},finish:function(e,i){fe.$E.conNavigationBar.css({opacity:1}),y(t)}})):y(t)}function y(t){fe.GOM.lastZIndex=parseInt(fe.$E.base.css("z-index")),isNaN(fe.GOM.lastZIndex)&&(fe.GOM.lastZIndex=0),fe.$E.conTnParent.css({opacity:0}),fe.$E.conTn.off().empty();for(var e=fe.I.length,i=0;i<e;i++){var n=fe.I[i];n.hovered=!1,n.$elt=null,n.$Elts=[],n.eltTransform=[],n.eltFilter=[],n.width=0,n.height=0,n.left=0,n.top=0,n.resizedContentWidth=0,n.resizedContentHeight=0,n.thumbnailImgRevealed=!1}null==fe.CSStransformName?fe.$E.conTn.css("left","0px"):fe.$E.conTn.css(fe.CSStransformName,"translateX(0px)"),fe.$E.conTnParent.css({left:0,opacity:1}),O(t)}function O(t){var e=new Date;fe.GOM.items=[],fe.GOM.displayedMoreSteps=0;var i=0;"onBottom"==fe.O.thumbnailLabel.get("position")?(i=k(),fe.tn.labelHeight[fe.GOM.curNavLevel]=i):fe.tn.labelHeight[fe.GOM.curNavLevel]=0,fe.GOM.albumIdx=t,ee("galleryRenderEnd"),null!==fe.O.fnGalleryRenderEnd&&("function"==typeof fe.O.fnGalleryRenderEnd?fe.O.fnGalleryRenderEnd(t):window[fe.O.fnGalleryRenderEnd](t)),G()?(T(),F(),L(!1),fe.galleryResizeEventEnabled=!0):fe.galleryResizeEventEnabled=!0,fe.O.debugMode&&console.log("GalleryRenderPart3: "+(new Date-e))}function I(t){var e=new Date;if(fe.galleryResizeEventEnabled=!1,0==T(t))return fe.galleryResizeEventEnabled=!0,void(fe.O.debugMode&&console.log("GalleryResize1: "+(new Date-e)));fe.O.debugMode&&console.log("GalleryResizeSetLayout: "+(new Date-e)),L(!1),fe.O.debugMode&&console.log("GalleryResizeFull: "+(new Date-e))}function G(){for(var t="",i=!1,n=fe.I[fe.GOM.albumIdx].GetID(),a=fe.I.length,o=0,r=0;r<a;r++){var l=fe.I[r];if(l.isToDisplay(n)){var s=l.thumbImg().width,u=l.thumbImg().height;!fe.layout.prerequisite.imageSize||0!=s&&0!=u||(i=!0,t+='<img src="'+l.thumbImg().src+'" data-idx="'+o+'" data-albumidx="'+fe.GOM.albumIdx+'">'),0==u&&(u=fe.tn.defaultSize.getHeight()),0==s&&(s=fe.tn.defaultSize.getWidth());var c=new e(r,s,u);fe.GOM.items.push(c),o++}}if(ee("galleryObjectModelBuilt"),null!==fe.O.fnGalleryObjectModelBuilt&&("function"==typeof fe.O.fnGalleryObjectModelBuilt?fe.O.fnGalleryObjectModelBuilt():window[fe.O.fnGalleryObjectModelBuilt]()),i){var h=jQuery(t),m=ngimagesLoaded(h);return h=null,m.on("progress",function(t,e){if(e.isLoaded){var i=e.img.getAttribute("data-idx");if(e.img.getAttribute("data-albumidx")==fe.GOM.albumIdx){var n=fe.GOM.items[i];n.imageWidth=e.img.naturalWidth,n.imageHeight=e.img.naturalHeight;var a=fe.I[n.thumbnailIdx];if(a.thumbs.width[fe.GOM.curNavLevel][fe.GOM.curWidth]=n.imageWidth,a.thumbs.height[fe.GOM.curNavLevel][fe.GOM.curWidth]=n.imageHeight,"GRID"==fe.layout.engine&&!0===fe.tn.opt.Get("crop")&&null!==a.$getElt(".nGY2GThumbnailImg"))if(a.thumbImg().height>a.thumbImg().width)a.$getElt(".nGY2GThumbnailImg").css({width:fe.tn.settings.getW()+"px"});else{var o=fe.tn.settings.getH()/a.thumbImg().height;fe.tn.settings.getH();if(a.thumbImg().width*o>=fe.tn.settings.getW()){var r=(a.thumbImg().width*o-fe.tn.settings.getW())/2;a.$getElt(".nGY2GThumbnailImg").css({height:fe.tn.settings.getH()+"px",left:r+"px"})}else{var l=fe.tn.settings.getW()/a.thumbImg().width,s=a.thumbImg().width*l;a.$getElt(".nGY2GThumbnailImg").css({width:s+"px"})}}fe.GalleryResizeThrottled();var u=a.thumbs.width.l1;for(var c in u)u.hasOwnProperty(c)&&c!=fe.GOM.curWidth&&fe.tn.settings.width.l1[c]==fe.tn.settings.getW()&&fe.tn.settings.height.l1[c]==fe.tn.settings.getH()&&(a.thumbs.width.l1[c]=n.imageWidth,a.thumbs.height.l1[c]=n.imageHeight);u=a.thumbs.width.lN;for(var c in u)u.hasOwnProperty(c)&&c!=fe.GOM.curWidth&&fe.tn.settings.width.lN[c]==fe.tn.settings.getW()&&fe.tn.settings.height.lN[c]==fe.tn.settings.getH()&&(a.thumbs.width.lN[c]=n.imageWidth,a.thumbs.height.lN[c]=n.imageHeight)}}}),fe.galleryResizeEventEnabled=!0,!1}return!0}function T(t){var e=!0,i=fe.$E.conTnParent.width();switch(fe.GOM.displayArea={width:0,height:0},fe.layout.engine){case"JUSTIFIED":e=x(i,t);break;case"CASCADING":e=M(i,t);break;case"GRID":default:e=S(i)}return ee("galleryLayoutApplied"),null!==fe.O.fnGalleryLayoutApplied&&("function"==typeof fe.O.fnGalleryLayoutApplied?fe.O.fnGalleryLayoutApplied():window[fe.O.fnGalleryLayoutApplied]()),e}function M(t,e){fe.$E.conTnParent.width();var i=0,n=0,a=[],o=Y(t),r=0,l=fe.tn.opt.Get("gutterHeight"),s=fe.tn.defaultSize.getOuterWidth(),u=fe.GOM.items.length;r="justified"==fe.O.thumbnailAlignment?1==(o=Math.min(o,u))?0:(t-o*s)/(o-1):fe.tn.opt.Get("gutterWidth"),n=0,i=0;var c=2*fe.tn.borderWidth,h=2*fe.tn.borderHeight;fe.GOM.lastFullRow=-1;for(var m=0;m<u;m++){var d=fe.GOM.items[m];if(d.imageHeight>0&&d.imageWidth>0){var p=0,g=0,f=d.imageHeight/d.imageWidth;if(d.resizedContentWidth=s-c,d.resizedContentHeight=d.resizedContentWidth*f,d.height=d.resizedContentHeight+h+fe.tn.labelHeight.get(),d.width=s,d.row=0,0==n)p=i*(s+r),a[i]=d.height+l,++i>=o&&(i=0,n++);else{for(var b=0,v=a[0],y=1;y<o;y++)a[y]+5<v&&(v=a[y],b=y);g=a[b],p=b*(s+r),a[b]=g+d.height+l}var O=p;fe.O.RTL&&(O=w-p-s),d.left=O,d.top=g}}return fe.GOM.displayArea.width=o*(s+r)-r,!0}function x(t,e){for(var i=0,n=0,a=0,o=[],r=0,l=[],s=!1,u=0,c=fe.tn.opt.Get("gutterWidth"),h=fe.tn.opt.Get("gutterHeight"),m=0,d=0,p=!1,g=!1,f=fe.tn.defaultSize.getOuterHeight(),b=2*fe.tn.borderWidth,v=2*fe.tn.borderHeight,y=1,O=fe.GOM.items.length,w=0;w<O;w++)if((E=fe.GOM.items[w]).imageWidth>0){var I=E.imageWidth/E.imageHeight,G=Math.floor(f*I);if(s&&(s=!1,r++,i=0,p=!1,g=!1,y=1),E.imageHeight>E.imageWidth?p=!0:g=!0,i+c+G<t-y*b){i+=G+c,l[r]=f;var T=Math.max(p?m:0,g?d:0);T>0&&(l[r]=Math.min(l[r],T)),o[r]=w}else{var M=(t-y*b)/(i+=c+G),x=Math.floor(f*M);l[r]=x,p&&(m=Math.max(m,x)),g&&(d=Math.max(d,x)),o[r]=w,s=!0}u++,y++}r=0,a=0,n=0,u=0,fe.GOM.lastFullRow=0;for(w=0;w<O;w++){if(!((E=fe.GOM.items[w]).imageWidth>0))return!1;var I=E.imageWidth/E.imageHeight,G=Math.floor(I*l[r]);w==o[r]&&(o.length!=r+1?G=t-n-b:n+c+G+b>t&&(G=t-n-b));var S=parseInt(l[r]);G=parseInt(G),E.resizedContentWidth=G,E.resizedContentHeight=S,E.width=G+b,E.height=S+fe.tn.labelHeight.get()+v,E.row=r,E.top=a;var L=n;fe.O.RTL&&(L=t-n-E.width),E.left=L,n+=E.width+c,w==o[r]&&(a+=E.height+h,fe.GOM.lastFullRow=r-1,r++,n=0),u++}var C=0;if(void 0!==e&&-1!=fe.GOM.albumIdx){var k=fe.GOM.items[e];fe.I[k.thumbnailIdx];k.width+=40,k.height+=40;for(w=0;w<O;w++){var E=fe.GOM.items[w];E.imageWidth>0&&(E.row==k.row?(C=40,k.thumbnailIdx!=E.thumbnailIdx&&(E.top+=30,E.width-=20,E.height-=20)):0==E.row||(E.top+=C))}}return fe.GOM.displayArea.width=t,!0}function S(t){var e=0,i=0,n=0,a=fe.tn.opt.Get("gutterHeight"),o=Y(t),r=0,l=[],s=0,u=t,c=fe.tn.defaultSize.getOuterWidth(),h=fe.tn.defaultSize.getOuterHeight()+fe.tn.labelHeight.get(),m=fe.GOM.items.length;if(n="justified"==fe.O.thumbnailAlignment?1==(o=Math.min(o,m))?0:(t-o*c)/(o-1):fe.tn.opt.Get("gutterWidth"),fe.O.RTL){for(p=0;p<m&&0==i;p++)e=s*(c+n),l[s]=e,r=e,++s>=o&&(s=0,i+=h+a);u=r+c,i=0,s=0}fe.GOM.lastFullRow=0;for(var d=0,p=0;p<m;p++){0==i?(e=s*(c+n),l[s]=e,r=e+c):e=l[s];var g=e;fe.O.RTL&&(g=parseInt(u)-e-c);var f=fe.GOM.items[p];f.top=i,f.left=g,f.height=h,f.width=c,f.row=d,i,++s>=o&&(s=0,i+=h+a,fe.GOM.lastFullRow=d,d++)}return fe.GOM.displayArea.width=r,!0}function L(t){null==fe.CSStransformName?fe.$E.conTn.css("left","0px"):fe.$E.conTn.css(fe.CSStransformName,"translateX(0px)");var e=fe.GOM.items.length;fe.GOM.itemsDisplayed=0;var i=0,n=me();fe.GOM.cache.viewport=n;var a=fe.$E.conTnParent.offset();fe.GOM.cache.containerOffset=a,f();for(p=0;p<e;p++){var o=fe.GOM.items[p];p>=fe.GOM.displayInterval.from&&i<fe.GOM.displayInterval.len?(o.inDisplayArea=!0,t&&(o.neverDisplayed=!0),fe.GOM.itemsDisplayed++,i++):o.inDisplayArea=!1}l();var r=[],s=[];fe.GOM.clipArea.top=-1,i=0;var u=-1;fe.GOM.clipArea.height=0;for(p=0;p<e;p++)if((o=fe.GOM.items[p]).inDisplayArea){if(-1==fe.GOM.clipArea.top&&(fe.GOM.clipArea.top=o.top),fe.GOM.clipArea.height=Math.max(fe.GOM.clipArea.height,o.top-fe.GOM.clipArea.top+o.height),o.neverDisplayed){var c=a.top+(o.top-fe.GOM.clipArea.top);c+o.height>=n.t-50&&c<=n.t+n.h+50&&(null==(m=fe.I[o.thumbnailIdx]).$elt&&A(m,o.thumbnailIdx,p,p+1==e),r.push({idx:p,delay:i}),i++)}else s.push({idx:p,delay:0});u=p}else o.displayed=!1,null!=(m=fe.I[o.thumbnailIdx]).$elt&&m.$elt.css({opacity:0,display:"none"});var h=fe.$E.conTnParent.width();if(fe.GOM.displayArea.width==fe.GOM.displayAreaLast.width&&fe.GOM.clipArea.height==fe.GOM.displayAreaLast.height||(fe.$E.conTn.width(fe.GOM.displayArea.width).height(fe.GOM.clipArea.height),fe.GOM.displayAreaLast.width=fe.GOM.displayArea.width,fe.GOM.displayAreaLast.height=fe.GOM.clipArea.height),h!=fe.$E.conTnParent.width()&&(T(),L(t)),fe.layout.support.rows&&("ROWS"==fe.galleryDisplayMode.Get()||"FULLCONTENT"==fe.galleryDisplayMode.Get()&&fe.galleryLastRowFull.Get()&&-1!=fe.GOM.lastFullRow)&&(fe.GOM.lastDisplayedIdxNew=u<e-1?u:-1,-1!=fe.GOM.lastDisplayedIdx)){var m=fe.I[fe.GOM.items[fe.GOM.lastDisplayedIdx].thumbnailIdx];m.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("")}for(var d=r.length,p=0;p<d;p++)C(r[p].idx,p);for(var g=s.length,p=0;p<g;p++)C(s[p].idx,p);"NONE"==fe.tn.opt.Get("displayTransition")?fe.galleryResizeEventEnabled=!0:setTimeout(function(){fe.galleryResizeEventEnabled=!0},d*fe.tn.opt.Get("displayInterval")),ee("galleryDisplayed")}function C(t,e){var i=0,n=fe.GOM.items[t],a=fe.GOM.items[t].thumbnailIdx,o=fe.I[a];if(n.neverDisplayed){l=n.top-fe.GOM.clipArea.top;fe.tn.opt.Get("stacks")>0?(o.$elt.last().css({display:"block"}),o.$elt.css({top:l,left:n.left})):o.$elt.css({display:"block",top:l,left:n.left}),i=l,!0===fe.O.thumbnailWaitImageLoaded&&ngimagesLoaded(o.$getElt(".nGY2TnImg")).on("progress",function(t,e){if(e.isLoaded){var i=e.img.getAttribute("data-idx");e.img.getAttribute("data-albumidx")==fe.GOM.albumIdx&&fe.I[i].ThumbnailImageReveal()}}),R(t,e),n.displayed=!0,n.neverDisplayed=!1}else{var r=fe.GOM.cache.containerOffset.top+o.top,l=fe.GOM.cache.containerOffset.top+(n.top-fe.GOM.clipArea.top);i=n.top-fe.GOM.clipArea.top;var s=fe.GOM.cache.viewport;fe.O.thumbnailDisplayOutsideScreen||r+n.height>=s.t-s.h&&r<=s.t+2*s.h||l+n.height>=s.t-s.h&&l<=s.t+2*s.h?n.displayed?o.top==n.top&&o.left==n.left||(1==fe.O.galleryResizeAnimation?(new NGTweenable).tween({from:{top:o.top,left:o.left,height:o.height,width:o.width},to:{top:i,left:n.left,height:n.height,width:n.width},attachment:{$e:o.$elt},duration:300,delay:e*fe.tn.opt.Get("displayInterval"),easing:"easeOutQuart",step:function(t,e){e.$e.css(t)},finish:function(t,e){e.$e.css(t),this.dispose()}}):o.$elt.css({top:i,left:n.left})):(n.displayed=!0,o.$elt.css({display:"block",top:i,left:n.left,opacity:1}),P(o)):(n.displayed=!1,o.$elt.css({display:"none"}))}if(o.left=n.left,o.top=i,o.width==n.width&&o.height==n.height||(o.$elt.css({width:n.width,height:n.height}),o.width=n.width,o.height=n.height,o.resizedContentWidth==n.resizedContentWidth&&o.resizedContentHeight==n.resizedContentHeight||("albumUp"==o.kind||(o.$getElt(".nGY2GThumbnailImg").css({height:n.resizedContentHeight,width:n.resizedContentWidth}),o.$getElt(".nGY2GThumbnailImage").css({height:n.resizedContentHeight,width:n.resizedContentWidth})),o.resizedContentWidth=n.resizedContentWidth,o.resizedContentHeight=n.resizedContentHeight)),fe.GOM.lastDisplayedIdxNew==t&&fe.layout.support.rows){if("ROWS"==fe.galleryDisplayMode.Get()&&fe.galleryMaxRows.Get()>0||"FULLCONTENT"==fe.galleryDisplayMode.Get()&&fe.galleryLastRowFull.Get()&&-1!=fe.GOM.lastFullRow){var u=fe.GOM.items.length-t-1;"0"!=o.albumID&&fe.O.thumbnailLevelUp&&u--}fe.O.thumbnailOpenImage&&u>0&&o.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("+"+u),fe.GOM.lastDisplayedIdx=t}}function k(){var t=[],e=0;if(0==fe.O.thumbnailLabel.get("display"))return 0;var i="";1==fe.O.thumbnailLabel.get("displayDescription")&&(i="aAzZjJ"),t[e++]='<div class="nGY2GThumbnail '+fe.O.theme+'" style="display:block;visibility:hidden;position:absolute;top:-9999px;left:-9999px;" ><div class="nGY2GThumbnailSub">',1==fe.O.thumbnailLabel.get("display")&&(t[e++]='  <div class="nGY2GThumbnailLabel" '+fe.tn.style.getLabel()+">",t[e++]='    <div class="nGY2GThumbnailAlbumTitle" '+fe.tn.style.getTitle()+">aAzZjJ</div>",t[e++]='    <div class="nGY2GThumbnailDescription" '+fe.tn.style.getDesc()+">"+i+"</div>",t[e++]="  </div>"),t[e++]="</div></div>";var n=jQuery(t.join("")).appendTo(fe.$E.conTn),a=n.find(".nGY2GThumbnailLabel").outerHeight(!0);return n.remove(),a}function E(){var t=fe.tn.opt.Get("stacks");if(0==t)return"";for(var e="",i=0;i<t;i++)e='<div class="nGY2GThumbnailStack " style="display:none;"></div>'+e;return e}function D(t,e,i){var n=[],a=0;n[a++]=E()+'<div class="nGY2GThumbnail" style="display:none;opacity:0;" >',n[a++]='  <div class="nGY2GThumbnailSub">';var o=fe.tn.defaultSize.getHeight(),r=fe.tn.defaultSize.getWidth();n[a++]='    <div class="nGY2GThumbnailImage" style="width:'+r+"px;height:"+o+'px;"><img class="nGY2GThumbnailImg" src="'+fe.emptyGif+'" alt="" style="max-width:'+r+"px;max-height:"+o+'px;" ></div>',n[a++]='    <div class="nGY2GThumbnailAlbumUp" style="width:'+r+"px;height:"+o+'px;">'+fe.O.icons.thumbnailAlbumUp+"</div>",n[a++]="  </div>",n[a++]="</div>";var l=jQuery(n.join("")).appendTo(fe.$E.conTn);t.$elt=l,l.data("index",i),t.$getElt(".nGY2GThumbnailImg").data("index",i)}function A(t,e,i,n){if(t.eltTransform=[],t.eltFilter=[],t.hoverInitDone=!1,t.$Elts=[],"albumUp"!=t.kind){var a=[],o=0;a[o++]=E()+'<div class="nGY2GThumbnail" style="display:none;opacity:0;"><div class="nGY2GThumbnailSub '+(fe.O.thumbnailSelectable&&t.selected?"nGY2GThumbnailSubSelected":"")+'">';var r=t.thumbImg().src,l=V(t),s=$(t),u=fe.emptyGif;null!=t.imageDominantColors&&(u=t.imageDominantColors);var c="";null!=t.imageDominantColor&&(c="background:"+t.imageDominantColor+";");var h="opacity:1;";switch(1==fe.O.thumbnailWaitImageLoaded&&(h="opacity:0;"),fe.layout.engine){case"CASCADING":a[o++]='<div class="nGY2GThumbnailImage" style="width:'+fe.tn.settings.getW()+"px;"+c+'">',a[o++]='  <img class="nGY2GThumbnailImg nGY2TnPreview" src="'+u+'" style="max-width:'+fe.tn.settings.getW()+'px;">',a[o++]='  <img class="nGY2GThumbnailImg nGY2TnImg" src="'+r+'" alt="'+l+'" style="max-width:'+fe.tn.settings.getW()+"px;"+h+'" data-idx="'+e+'" data-albumidx="'+fe.GOM.albumIdx+'">',a[o++]="</div>";break;case"JUSTIFIED":a[o++]='<div class="nGY2GThumbnailImage" style="height:'+fe.tn.settings.getH()+"px;"+c+'">',a[o++]='  <img class="nGY2GThumbnailImg nGY2TnPreview" src="'+u+'" >',a[o++]='  <img class="nGY2GThumbnailImg nGY2TnImg" src="'+r+'" alt="'+l+'" style="'+h+'" data-idx="'+e+'" data-albumidx="'+fe.GOM.albumIdx+'">',a[o++]="</div>";break;default:var m="max-width:"+fe.tn.settings.getW()+"px;max-height:"+fe.tn.settings.getH()+"px;",d="";if(1==fe.tn.opt.Get("crop")&&t.thumbImg().height>0&&t.thumbImg().width>0)if(t.thumbImg().height>t.thumbImg().width)m="width:"+fe.tn.settings.getW()+"px;";else{var p=fe.tn.settings.getH()/t.thumbImg().height;fe.tn.settings.getH();if(t.thumbImg().width*p>=fe.tn.settings.getW()){var g=-(t.thumbImg().width*p-fe.tn.settings.getW())/2;m="height:"+fe.tn.settings.getH()+"px;left:"+g+"px;",d="width:"+t.thumbImg().width+"px;"}else{var f=fe.tn.settings.getW()/t.thumbImg().width;m="width:"+t.thumbImg().width*f+"px;"}}a[o++]='<div class="nGY2GThumbnailImage" style="width:'+fe.tn.settings.getW()+"px;height:"+fe.tn.settings.getH()+"px;"+c+'">',a[o++]='  <img class="nGY2GThumbnailImg nGY2TnPreview" src="'+u+'"  style="'+m+d+'">',a[o++]='  <img class="nGY2GThumbnailImg nGY2TnImg" src="'+r+'" alt="'+l+'" style="'+m+h+'" data-idx="'+e+'" data-albumidx="'+fe.GOM.albumIdx+'" >',a[o++]="</div>"}a[o++]='<div class="nGY2GThumbnailCustomLayer"></div>',1==fe.O.thumbnailLabel.get("display")&&(a[o++]='  <div class="nGY2GThumbnailLabel" '+fe.tn.style.getLabel(t)+">","album"==t.kind?a[o++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailAlbumTitle" '+fe.tn.style.getTitle()+">"+fe.O.icons.thumbnailAlbum+l+"</div>":a[o++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailImageTitle" '+fe.tn.style.getTitle()+">"+fe.O.icons.thumbnailImage+l+"</div>",a[o++]='    <div class="nGY2GThumbnailDescription" '+fe.tn.style.getDesc()+">"+s+"</div>",a[o++]="  </div>"),a[o++]=N(t,n),a[o++]="</div>",a[o++]="</div>";var b=jQuery(a.join("")).appendTo(fe.$E.conTn);t.$elt=b,b.data("index",i),t.$getElt(".nGY2GThumbnailImg").data("index",i),null!==fe.O.fnThumbnailInit&&("function"==typeof fe.O.fnThumbnailInit?fe.O.fnThumbnailInit(b,t,i):window[fe.O.fnThumbnailInit](b,t,i)),"image gallery by nanogallery2 [build]"!=t.title&&z(i)}else D(t,e,i)}function N(t,e){var i=_(t,"topLeft");return i+=_(t,"topRight"),i+=_(t,"bottomLeft"),i+=_(t,"bottomRight"),i+='<div class="nGY2GThumbnailIconsFullThumbnail"></div>'}function _(t,e){var i="",n=fe.tn.toolbar.get(t),a={xs:0,sm:1,me:2,la:3,xl:4},o=0;if(""!=n[e]){var r="top:0; right:0; text-align:right;";switch(e){case"topLeft":r="top:0; left:0; text-align:left;:";break;case"bottomRight":r="bottom:0; right:0; text-align:right;";break;case"bottomLeft":r="bottom:0; left:0; text-align:left;"}i+='  <ul class="nGY2GThumbnailIcons" style="'+r+'">';for(var l=n[e].split(","),s=l.length,u=0;u<s;u++){var c=l[u].replace(/^\s*|\s*$/,""),h=c.substring(0,2).toLowerCase(),m=c,d=!0;if(/xs|sm|me|la|xl/i.test(h)&&(a[h]>a[fe.GOM.curWidth]&&(d=!1),m=c.substring(2)),d){var p=u+1<s?"&nbsp;":"";switch(m){case"COUNTER":"album"==t.kind&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconImageCounter"></div>',i+='      <div class="nGY2GThumbnailIconText">'+fe.O.icons.thumbnailCounter+Math.max(t.getContentLength(!1),t.numberItems)+p+"</div>",i+="    </li>",o++);break;case"COUNTER2":"album"==t.kind&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconTextBadge">'+fe.O.icons.thumbnailCounter+Math.max(t.getContentLength(!1),t.numberItems)+p+"</div>",i+="    </li>",o++);break;case"SHARE":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+fe.O.icons.thumbnailShare+"</div>",i+="    </li>",o++;break;case"DOWNLOAD":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+fe.O.icons.thumbnailDownload+"</div>",i+="    </li>",o++;break;case"INFO":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+fe.O.icons.thumbnailInfo+"</div>",i+="    </li>",o++;break;case"CART":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+fe.O.icons.thumbnailCart+"</div>",i+="    </li>",o++;break;case"DISPLAY":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="DISPLAY">',i+='      <div class="nGY2GThumbnailIconImageShare">'+fe.O.icons.thumbnailDisplay+"</div>",i+="    </li>",o++;break;case"CUSTOM1":case"CUSTOM2":case"CUSTOM3":case"CUSTOM4":case"CUSTOM5":case"CUSTOM6":case"CUSTOM7":case"CUSTOM8":case"CUSTOM9":case"CUSTOM10":var g=m.replace("CUSTOM","");i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m.toLowerCase()+'">',i+='      <div class="nGY2GThumbnailIconImageShare">'+fe.O.icons["thumbnailCustomTool"+g]+"</div>",i+="    </li>",o++;break;case"FEATURED":!0===t.featured&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconImageFeatured">'+fe.O.icons.thumbnailFeatured+"</div>",i+="    </li>",o++);break;case"SELECT":1==fe.O.thumbnailSelectable&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="TOGGLESELECT">',!0===t.selected?i+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailSelected">'+fe.O.icons.thumbnailSelected+"</div>":i+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailUnselected">'+fe.O.icons.thumbnailUnselected+"</div>",i+="    </li>",o++)}}}i+="  </ul>"}return o>0?i:""}function V(t){var e=t.title;return 1==fe.O.thumbnailLabel.get("display")&&(void 0!==e&&0!=e.length||(e="&nbsp;"),""!=fe.i18nTranslations.thumbnailImageTitle&&(e=fe.i18nTranslations.thumbnailImageTitle),fe.O.thumbnailLabel.get("titleMaxLength")>3&&e.length>fe.O.thumbnailLabel.get("titleMaxLength")&&(e=e.substring(0,fe.O.thumbnailLabel.get("titleMaxLength"))+"...")),e}function $(t){var e="";return 1==fe.O.thumbnailLabel.get("displayDescription")&&(e="album"==t.kind?""!=fe.i18nTranslations.thumbnailImageDescription?fe.i18nTranslations.thumbnailAlbumDescription:t.description:""!=fe.i18nTranslations.thumbnailImageDescription?fe.i18nTranslations.thumbnailImageDescription:t.description,fe.O.thumbnailLabel.get("descriptionMaxLength")>3&&e.length>fe.O.thumbnailLabel.get("descriptionMaxLength")&&(e=e.substring(0,fe.O.thumbnailLabel.get("descriptionMaxLength"))+"..."),0==e.length&&(e="&nbsp;")),e}function Y(t){var e=fe.tn.defaultSize.getOuterWidth(),i=0;return i="justified"==fe.O.thumbnailAlignment?Math.floor(t/e):Math.floor((t+fe.tn.opt.Get("gutterWidth"))/(e+fe.tn.opt.Get("gutterWidth"))),fe.O.maxItemsPerLine>0&&i>fe.O.maxItemsPerLine&&(i=fe.O.maxItemsPerLine),i<1&&(i=1),i}function R(t,e){var i=fe.GOM.items[t],n=fe.I[fe.GOM.items[t].thumbnailIdx];if("NONE"==fe.tn.opt.Get("displayTransition"))n.$elt.css({opacity:1}),P(n);else{if(null==n.$elt)return;var a=fe.GOM.cache.containerOffset.top+(i.top-fe.GOM.clipArea.top),o=fe.GOM.cache.viewport;if(a+(i.top-fe.GOM.clipArea.top)>=o.t-50&&a<=o.t+o.h+50){var r=e*fe.tn.opt.Get("displayInterval");return void("CUSTOM"==fe.tn.opt.Get("displayTransition")?"lN"==fe.GOM.curNavLevel?fe.O.fnThumbnailDisplayEffect(n.$elt,n,t,r):fe.O.fnThumbnailL1DisplayEffect(n.$elt,n,t,r):ye[fe.tn.opt.Get("displayTransition")](n,r))}n.$elt.css({opacity:1}),P(n)}}function P(t){var e=fe.tn.opt.Get("stacks");if(e>0){t.$elt.css({display:"block"});for(var i=.9,n=e-1;n>=0;n--)t.$elt.eq(n).css("opacity",i),i-=.2}}function F(){var t=fe.galleryDisplayTransitionDuration.Get();switch(fe.galleryDisplayTransition.Get()){case"ROTATEX":fe.$E.base.css({perspective:"1000px","perspective-origin":"50% 0%"}),(e=new NGTweenable).tween({from:{rotate:50},to:{rotate:0},duration:t,easing:"easeOutCirc",step:function(t,e){fe.$E.conTnParent.css(fe.CSStransformName,"rotateX("+t.rotate+"deg)")}});break;case"SLIDEUP":var e=new NGTweenable;e.tween({from:{y:200},to:{y:0},duration:t,easing:"easeOutCirc",step:function(t,e){fe.$E.conTnParent.css(fe.CSStransformName,"translateY("+t.y+"px)")}})}}function z(t){var e=fe.GOM.items[t],i=fe.I[e.thumbnailIdx];if(null!=i.$elt){null!==fe.O.fnThumbnailHoverInit&&("function"==typeof fe.O.fnThumbnailHoverInit?fe.O.fnThumbnailHoverInit($e,i,t):window[fe.O.fnThumbnailHoverInit]($e,i,t));for(var n=fe.tn.buildInit.get(),a=0;a<n.length;a++)switch(n[a].property){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":i.CSSTransformSet(n[a].element,n[a].property,n[a].value),i.CSSTransformApply(n[a].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":i.CSSFilterSet(n[a].element,n[a].property,n[a].value),i.CSSFilterApply(n[a].element);break;default:(r=i.$getElt(n[a].element)).css(n[a].property,n[a].value)}for(var o=fe.tn.hoverEffects.get(),a=0;a<o.length;a++)if(!0===o[a].firstKeyframe)switch(o[a].type){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":i.CSSTransformSet(o[a].element,o[a].type,o[a].from),i.CSSTransformApply(o[a].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":i.CSSFilterSet(o[a].element,o[a].type,o[a].from),i.CSSFilterApply(o[a].element);break;default:var r=i.$getElt(o[a].element);r.css(o[a].type,o[a].from)}i.hoverInitDone=!0}}function B(){if(-1!=fe.GOM.albumIdx)for(var t=fe.GOM.items.length,e=0;e<t;e++)z(e),fe.I[fe.GOM.items[e].thumbnailIdx].hovered=!1}function U(t){if(-1!=fe.GOM.albumIdx&&fe.galleryResizeEventEnabled){var e=fe.GOM.items[t],i=fe.I[e.thumbnailIdx];if("albumUp"!=i.kind&&null!=i.$elt){i.hovered=!0,null!==fe.O.fnThumbnailHover&&("function"==typeof fe.O.fnThumbnailHover?fe.O.fnThumbnailHover(i.$elt,i,t):window[fe.O.fnThumbnailHover](i.$elt,i,t));var n=fe.tn.hoverEffects.get();try{for(var a=0;a<n.length;a++)!0===n[a].hoverin&&i.animate(n[a],0,!0)}catch(t){be(fe,"error on hover: "+t.message)}}}}function H(){if(-1!=fe.GOM.albumIdx)for(var t=fe.GOM.items.length,e=0;e<t;e++)fe.GOM.items[e].inDisplayArea?j(e):fe.I[fe.GOM.items[e].thumbnailIdx].hovered}function j(t){if(-1!=fe.GOM.albumIdx&&fe.galleryResizeEventEnabled){var e=fe.GOM.items[t],i=fe.I[e.thumbnailIdx];if("albumUp"!=i.kind&&i.hovered&&(i.hovered=!1,null!=i.$elt)){null!==fe.O.fnThumbnailHoverOut&&("function"==typeof fe.O.fnThumbnailHoverOut?fe.O.fnThumbnailHoverOut(i.$elt,i,t):window[fe.O.fnThumbnailHoverOut](i.$elt,i,t));var n=fe.tn.hoverEffects.get();try{for(var a=0;a<n.length;a++)!0===n[a].hoverout&&i.animate(n[a],0,!1)}catch(t){be(fe,"error on hoverOut: "+t.message)}}}}function W(t,e){fe.O.debugMode&&console.log("#DisplayPhoto : "+e+"-"+t);var i=NGY2Item.GetIdx(fe,e);fe.GOM.curNavLevel=0==i?"l1":"lN",-1==i&&(NGY2Item.New(fe,"","",e,"0","album"),i=fe.I.length-1);var n=NGY2Item.GetIdx(fe,t);-1!=n?(fe.O.debugMode&&console.log("#DisplayPhoto : "+n),xt(n)):Q(e,W,t,e)}function Q(t,e,i,n){NGY2Item.GetIdx(fe,t);switch(fe.O.kind){case"":X(e,i,n);break;default:jQuery.nanogallery2["data_"+fe.O.kind](fe,"AlbumGetContent",t,e,i,n)}}function X(t,e,i){if(void 0!==fe.O.items&&null!==fe.O.items)Z();else{if(!(fe.O.$markup.length>0))return void be(fe,"error: no image to process.");J(fe.O.$markup),fe.O.$markup=[]}null!==t&&void 0!==t&&t(e,i,null)}function q(t){switch(t=t.toLowerCase()){case"http://":case"https://":case"file://":return!0}return!1}function Z(){var t=!1;fe.I[0].contentIsLoaded=!0,jQuery.each(fe.O.items,function(e,i){var n="";void 0===(n=se(i,"title"))&&(n="");var a="";void 0!==i["src"+ue().toUpperCase()]?a+=i["src"+ue().toUpperCase()]:a+=i.src,q(a)||(a=fe.O.itemsBaseURL+a);var o="";q(o=void 0!==i.srct&&i.srct.length>0?i.srct:a)||(o=fe.O.itemsBaseURL+o);var r="";q(r=void 0!==i.srct2x&&i.srct2x.length>0?i.srct2x:""!=o?o:a)||(r=fe.O.itemsBaseURL+r),""!=fe.O.thumbnailLabel.get("title")&&(n=GetImageTitle(a));var l="";void 0===(l=se(i,"description"))&&(l="");var s=se(i,"tags");void 0===s&&(s="");var u=0;void 0!==i.albumID&&(u=i.albumID,t=!0);var c=null;void 0!==i.ID&&(c=i.ID);var h="image";void 0!==i.kind&&i.kind.length>0&&(h=i.kind);var m=NGY2Item.New(fe,n,l,c,u,h,s);m.src=a,void 0!==i.imageDominantColors&&(m.imageDominantColors=i.imageDominantColors),void 0!==i.imageDominantColor&&(m.imageDominantColor=i.imageDominantColor),void 0!==i.destURL&&i.destURL.length>0&&(m.destinationURL=i.destURL),void 0!==i.downloadURL&&i.downloadURL.length>0&&(m.downloadURL=i.downloadURL);var d=0;void 0!==i.imgtWidth&&i.imgtWidth>0&&(d=i.imgtWidth);var p=0;void 0!==i.imgtHeight&&i.imgtHeight>0&&(p=i.imgtHeight),m.thumbs={url:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},width:{l1:{xs:d,sm:d,me:d,la:d,xl:d},lN:{xs:d,sm:d,me:d,la:d,xl:d}},height:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}}},void 0!==i.imageWidth&&(m.imageWidth=i.width),void 0!==i.imageHeight&&(m.imageHeight=i.height),void 0!==i.exifModel&&(m.exif.model=i.exifModel),void 0!==i.exifFlash&&(m.exif.flash=i.exifFlash),void 0!==i.exifFocalLength&&(m.exif.focallength=i.exifFocalLength),void 0!==i.exifFStop&&(m.exif.fstop=i.exifFStop),void 0!==i.exifExposure&&(m.exif.exposure=i.exifExposure),void 0!==i.exifIso&&(m.exif.iso=i.exifIso),void 0!==i.exifTime&&(m.exif.time=i.exifTime),void 0!==i.exifLocation&&(m.exif.exifLocation=i.exifTime),null!==i.customData&&(m.customData=K(i.customData)),m.contentIsLoaded=!0,null!==fe.O.fnProcessData&&("function"==typeof fe.O.fnProcessData?fe.O.fnProcessData(m,"api",i):window[fe.O.fnProcessData](m,"api",i))})}function J(t){var e=!1,i=0;fe.I[0].contentIsLoaded=!0,jQuery.each(t,function(t,n){var a={"data-ngdesc":"","data-ngid":null,"data-ngkind":"image","data-ngtags":null,"data-ngdest":"","data-ngthumbimgwidth":0,"data-ngthumbimgheight":0,"data-ngimagewidth":0,"data-ngimageheight":0,"data-ngimagedominantcolors":null,"data-ngimagedominantcolor":null,"data-ngexifmodel":"","data-ngexifflash":"","data-ngexiffocallength":"","data-ngexiffstop":"","data-ngexifexposure":"","data-ngexifiso":"","data-ngexiftime":"","data-ngexiflocation":""};[].forEach.call(n.attributes,function(t){a[t.name.toLowerCase()]=t.value});var o="";a.hasOwnProperty("data-ngthumb")&&(q(o=a["data-ngthumb"])||(o=fe.O.itemsBaseURL+o));var r="";a.hasOwnProperty("data-ngthumb2x")&&(q(r=a["data-ngthumb2x"])||(r=fe.O.itemsBaseURL+r));var l="",s=ue().toUpperCase();a.hasOwnProperty("data-ngsrc"+s)&&(l=a["data-ngsrc"+s]),""==l&&(l=a.href),q(l)||(l=fe.O.itemsBaseURL+l);var u=a["data-ngdesc"],c=a["data-ngid"],h=a["data-ngkind"],m=a["data-ngtags"],d="0";a.hasOwnProperty("data-ngalbumid")&&(d=a["data-ngalbumid"],e=!0);var p=jQuery(n).text();""!=fe.O.thumbnailLabel.get("title")&&void 0!=fe.O.thumbnailLabel.get("title")&&(p=GetImageTitle(l));var g=NGY2Item.New(fe,p,u,c,d,h,m);""!=p&&i++,g.src=l,g.imageDominantColors=a["data-ngimagedominantcolors"],g.imageDominantColor=a["data-ngimagedominantcolors"],g.destinationURL=a["data-ngdest"],g.downloadURL=a["data-ngdownloadurl"];var f=parseInt(a["data-ngthumbimgwidth"]),b=parseInt(a["data-ngthumbimgheight"]);g.thumbs={url:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},width:{l1:{xs:f,sm:f,me:f,la:f,xl:f},lN:{xs:f,sm:f,me:f,la:f,xl:f}},height:{l1:{xs:b,sm:b,me:b,la:b,xl:b},lN:{xs:b,sm:b,me:b,la:b,xl:b}}},g.imageWidth=parseInt(a["data-ngimagewidth"]),g.imageHeight=parseInt(a["data-ngimageheight"]),g.exif.model=a["data-ngexifmodel"],g.exif.flash=a["data-ngexifflash"],g.exif.focallength=a["data-ngexiffocallength"],g.exif.fstop=a["data-ngexiffstop"],g.exif.exposure=a["data-ngexifexposure"],g.exif.iso=a["data-ngexifiso"],g.exif.time=a["data-ngexiftime"],g.exif.location=a["data-ngexiflocation"],g.contentIsLoaded=!0,void 0!==jQuery(n).data("customdata")&&(g.customData=K(jQuery(n).data("customdata"))),void 0!==jQuery(n).data("ngcustomdata")&&(g.customData=K(jQuery(n).data("ngcustomdata"))),null!==fe.O.fnProcessData&&("function"==typeof fe.O.fnProcessData?fe.O.fnProcessData(g,"markup",n):window[fe.O.fnProcessData](g,"markup",n))}),0==i&&(fe.O.thumbnailLabel.display=!1)}function K(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();for(var i in t)e[i]=K(t[i]);return e}function tt(){function t(t,e,i){fe.tn.opt.lN[i]=fe.O[t],fe.tn.opt.l1[i]=fe.O[t],"number"==Oe(fe.O[e])&&(fe.tn.opt.l1[i]=fe.O[e])}function e(t,e,i){if(null!=fe.O[t])if("number"==Oe(fe.O[t]))lt(i,"l1",fe.O[t],"u"),e||lt(i,"lN",fe.O[t],"u");else{var n=fe.O[t].split(" "),a="auto";"auto"!=n[0].substring(0,4)&&(a=parseInt(n[0]));s="u";"C"==n[0].charAt(n[0].length-1)&&(s="c"),lt(i,"l1",a,s),e||lt(i,"lN",a,s);for(var o=1;o<n.length;o++){var r=n[o].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(r)){var l=n[o].substring(2),a="auto";"auto"!=l.substring(0,4)&&(a=parseInt(l));var s="u";"C"==l.charAt(l.length-1)&&(s="c"),fe.tn.settings[i].l1[r]=a,fe.tn.settings[i].l1[r+"c"]=s,e||(fe.tn.settings[i].lN[r]=a,fe.tn.settings[i].lN[r+"c"]=s)}}}}if("PICASA"==fe.O.kind.toUpperCase()&&(fe.O.kind="google2"),"GOOGLE"==fe.O.kind.toUpperCase()&&(fe.O.kind="google2"),fe.GOM.curWidth=ue(),jQuery.extend(!0,fe.tn.toolbar.image,fe.O.thumbnailToolbarImage),jQuery.extend(!0,fe.tn.toolbar.album,fe.O.thumbnailToolbarAlbum),fe.tn.toolbar.image.topLeft=fe.tn.toolbar.image.topLeft.toUpperCase(),fe.tn.toolbar.album.topLeft=fe.tn.toolbar.album.topLeft.toUpperCase(),fe.tn.toolbar.image.topRight=fe.tn.toolbar.image.topRight.toUpperCase(),fe.tn.toolbar.album.topRight=fe.tn.toolbar.album.topRight.toUpperCase(),fe.tn.toolbar.image.bottomLeft=fe.tn.toolbar.image.bottomLeft.toUpperCase(),fe.tn.toolbar.album.bottomLeft=fe.tn.toolbar.album.bottomLeft.toUpperCase(),fe.tn.toolbar.image.bottomRight=fe.tn.toolbar.image.bottomRight.toUpperCase(),fe.tn.toolbar.album.bottomRight=fe.tn.toolbar.album.bottomRight.toUpperCase(),fe.O.thumbnailLabel.get=function(t){return"l1"==fe.GOM.curNavLevel&&void 0!==fe.O.thumbnailL1Label&&void 0!==fe.O.thumbnailL1Label[t]?fe.O.thumbnailL1Label[t]:fe.O.thumbnailLabel[t]},fe.O.thumbnailLabel.set=function(t,e){"l1"==fe.GOM.curNavLevel&&void 0!==fe.O.thumbnailL1Label&&void 0!==fe.O.thumbnailL1Label[t]?fe.O.thumbnailL1Label[t]=e:fe.O.thumbnailLabel[t]=e},""!=fe.O.blackList&&(fe.blackList=fe.O.blackList.toUpperCase().split("|")),""!=fe.O.whiteList&&(fe.whiteList=fe.O.whiteList.toUpperCase().split("|")),void 0!==fe.O.albumList2&&null!==fe.O.albumList2&&fe.O.albumList2.constructor===Array)for(var i=fe.O.albumList2.length,n=0;n<i;n++)-1!==fe.O.albumList2[n].indexOf("&authkey")||-1!==fe.O.albumList2[n].indexOf("?authkey")?fe.albumListHidden.push(fe.O.albumList2[n]):fe.albumList.push(fe.O.albumList2[n]);if(void 0!==fe.O.albumList2&&"string"==typeof fe.O.albumList2&&(-1!==fe.O.albumList2.indexOf("&authkey")?fe.albumListHidden.push(fe.O.albumList2):fe.albumList.push(fe.O.albumList2)),fe.albumListHidden.length>0&&(fe.O.locationHash=!1),fe.tn.opt.lN.crop=fe.O.thumbnailCrop,fe.tn.opt.l1.crop=fe.O.thumbnailCrop,null!=fe.O.thumbnailL1Crop&&(fe.tn.opt.l1.crop=fe.O.thumbnailL1Crop),t("thumbnailStacks","thumbnailL1Stacks","stacks"),t("thumbnailStacksTranslateX","thumbnailL1StacksTranslateX","stacksTranslateX"),t("thumbnailStacksTranslateY","thumbnailL1StacksTranslateY","stacksTranslateY"),t("thumbnailStacksTranslateZ","thumbnailL1StacksTranslateZ","stacksTranslateZ"),t("thumbnailStacksRotateX","thumbnailL1StacksRotateX","stacksRotateX"),t("thumbnailStacksRotateY","thumbnailL1StacksRotateY","stacksRotateY"),t("thumbnailStacksRotateZ","thumbnailL1StacksRotateZ","stacksRotateZ"),t("thumbnailStacksScale","thumbnailL1StacksScale","stacksScale"),t("thumbnailGutterWidth","thumbnailL1GutterWidth","gutterWidth"),t("thumbnailGutterHeight","thumbnailL1GutterHeight","gutterHeight"),fe.galleryDisplayMode.lN=fe.O.galleryDisplayMode.toUpperCase(),fe.galleryDisplayMode.l1=fe.O.galleryDisplayMode.toUpperCase(),null!=fe.O.galleryL1DisplayMode&&(fe.galleryDisplayMode.l1=fe.O.galleryL1DisplayMode.toUpperCase()),fe.galleryMaxRows.lN=fe.O.galleryMaxRows,fe.galleryMaxRows.l1=fe.O.galleryMaxRows,"number"==Oe(fe.O.galleryL1MaxRows)&&(fe.galleryMaxRows.l1=fe.O.galleryL1MaxRows),fe.galleryLastRowFull.lN=fe.O.galleryLastRowFull,fe.galleryLastRowFull.l1=fe.O.galleryLastRowFull,null!=fe.O.galleryL1LastRowFull&&(fe.galleryLastRowFull.l1=fe.O.galleryL1LastRowFull),fe.gallerySorting.lN=fe.O.gallerySorting.toUpperCase(),fe.gallerySorting.l1=fe.gallerySorting.lN,null!=fe.O.galleryL1Sorting&&(fe.gallerySorting.l1=fe.O.galleryL1Sorting.toUpperCase()),fe.galleryDisplayTransition.lN=fe.O.galleryDisplayTransition.toUpperCase(),fe.galleryDisplayTransition.l1=fe.galleryDisplayTransition.lN,null!=fe.O.galleryL1DisplayTransition&&(fe.galleryDisplayTransition.l1=fe.O.galleryL1DisplayTransition.toUpperCase()),fe.galleryDisplayTransitionDuration.lN=fe.O.galleryDisplayTransitionDuration,fe.galleryDisplayTransitionDuration.l1=fe.galleryDisplayTransitionDuration.lN,null!=fe.O.galleryL1DisplayTransitionDuration&&(fe.galleryDisplayTransitionDuration.l1=fe.O.galleryL1DisplayTransitionDuration),fe.galleryMaxItems.lN=fe.O.galleryMaxItems,fe.galleryMaxItems.l1=fe.O.galleryMaxItems,"number"==Oe(fe.O.galleryL1MaxItems)&&(fe.galleryMaxItems.l1=fe.O.galleryL1MaxItems),fe.galleryFilterTags.lN=fe.O.galleryFilterTags,fe.galleryFilterTags.l1=fe.O.galleryFilterTags,null!=fe.O.galleryL1FilterTags&&(fe.galleryFilterTags.l1=fe.O.galleryL1FilterTags),fe.O.galleryPaginationMode=fe.O.galleryPaginationMode.toUpperCase(),"number"==Oe(fe.O.slideshowDelay)&&fe.O.slideshowDelay>=2e3?fe.VOM.slideshowDelay=fe.O.slideshowDelay:ve(fe,'Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"boolean"==typeof fe.O.thumbnailDisplayTransition&&(!0===fe.O.thumbnailDisplayTransition?(fe.tn.opt.lN.displayTransition="FADEIN",fe.tn.opt.l1.displayTransition="FADEIN"):(fe.tn.opt.lN.displayTransition="NONE",fe.tn.opt.l1.displayTransition="NONE")),""!==fe.O.fnThumbnailDisplayEffect&&(fe.tn.opt.lN.displayTransition="CUSTOM",fe.tn.opt.l1.displayTransition="CUSTOM"),""!==fe.O.fnThumbnailL1DisplayEffect&&(fe.tn.opt.l1.displayTransition="CUSTOM"),"string"==typeof fe.O.thumbnailDisplayTransition&&(1==(a=fe.O.thumbnailDisplayTransition.split("_")).length&&(fe.tn.opt.lN.displayTransition=fe.O.thumbnailDisplayTransition.toUpperCase(),fe.tn.opt.l1.displayTransition=fe.O.thumbnailDisplayTransition.toUpperCase()),2==a.length&&(fe.tn.opt.lN.displayTransition=a[0].toUpperCase(),fe.tn.opt.l1.displayTransition=a[0].toUpperCase(),fe.tn.opt.lN.displayTransitionStartVal=Number(a[1]),fe.tn.opt.l1.displayTransitionStartVal=Number(a[1])),3==a.length&&(fe.tn.opt.lN.displayTransition=a[0].toUpperCase(),fe.tn.opt.l1.displayTransition=a[0].toUpperCase(),fe.tn.opt.lN.displayTransitionStartVal=Number(a[1]),fe.tn.opt.l1.displayTransitionStartVal=Number(a[1]),fe.tn.opt.lN.displayTransitionEasing=a[2],fe.tn.opt.l1.displayTransitionEasing=a[2])),"string"==typeof fe.O.thumbnailL1DisplayTransition){var a=fe.O.thumbnailL1DisplayTransition.split("_");1==a.length&&(fe.tn.opt.l1.displayTransition=fe.O.thumbnailL1DisplayTransition.toUpperCase()),2==a.length&&(fe.tn.opt.l1.displayTransition=a[0].toUpperCase(),fe.tn.opt.l1.displayTransitionStartVal=Number(a[1])),3==a.length&&(fe.tn.opt.l1.displayTransition=a[0].toUpperCase(),fe.tn.opt.l1.displayTransitionStartVal=Number(a[1]),fe.tn.opt.l1.displayTransitionEasing=a[2])}if(t("thumbnailDisplayTransitionDuration","thumbnailL1DisplayTransitionDuration","displayTransitionDuration"),t("thumbnailDisplayInterval","thumbnailL1DisplayInterval","displayInterval"),void 0!==fe.O.thumbnailSizeSM&&(fe.O.breakpointSizeSM=fe.O.thumbnailSizeSM),void 0!==fe.O.thumbnailSizeME&&(fe.O.breakpointSizeME=fe.O.thumbnailSizeME),void 0!==fe.O.thumbnailSizeLA&&(fe.O.breakpointSizeLA=fe.O.thumbnailSizeLA),void 0!==fe.O.thumbnailSizeXL&&(fe.O.breakpointSizeXL=fe.O.thumbnailSizeXL),void 0!==fe.O.thumbnailL1BuildInit2)for(var o=fe.O.thumbnailL1BuildInit2.split("|"),n=0;n<o.length;n++)3==(r=o[n].trim().split("_")).length&&((l=ot()).element=it(r[0],""),l.property=r[1],l.value=r[2],fe.tn.buildInit.level1.push(l));if(void 0!==fe.O.thumbnailBuildInit2)for(var o=fe.O.thumbnailBuildInit2.split("|"),n=0;n<o.length;n++){var r=o[n].trim().split("_");if(3==r.length){var l=ot();l.element=it(r[0],""),l.property=r[1],l.value=r[2],fe.tn.buildInit.std.push(l)}}var s=fe.O.thumbnailL1HoverEffect2;if(void 0!==s)switch(Oe(s)){case"string":for(var u=s.split("|"),n=0;n<u.length;n++){h=at();null!=(h=et(u[n].trim(),h))&&fe.tn.hoverEffects.level1.push(h)}break;case"object":h=at();null!=(h=et((h=jQuery.extend(h,s)).name,h))&&fe.tn.hoverEffects.level1.push(h);break;case"array":for(n=0;n<s.length;n++){h=at();null!=(h=et((h=jQuery.extend(h,s[n])).name,h))&&fe.tn.hoverEffects.level1.push(h)}break;case"null":break;default:be(fe,'incorrect parameter for "thumbnailL1HoverEffect2".')}fe.tn.hoverEffects.level1=nt(fe.tn.hoverEffects.level1);var c=fe.O.thumbnailHoverEffect2;switch(Oe(c)){case"string":for(var u=c.split("|"),n=0;n<u.length;n++){h=at();null!=(h=et(u[n].trim(),h))&&fe.tn.hoverEffects.std.push(h)}break;case"object":h=at();null!=(h=et((h=jQuery.extend(h,c)).name,h))&&fe.tn.hoverEffects.std.push(h);break;case"array":for(n=0;n<c.length;n++){var h=at();null!=(h=et((h=jQuery.extend(h,c[n])).name,h))&&fe.tn.hoverEffects.std.push(h)}break;case"null":break;default:be(fe,'incorrect parameter for "thumbnailHoverEffect2".')}switch(fe.tn.hoverEffects.std=nt(fe.tn.hoverEffects.std),0==fe.tn.hoverEffects.std.length&&(0==fe.tn.hoverEffects.level1.length&&(fe.O.touchAnimationL1=!1),fe.O.touchAnimation=!1),0!=fe.O.thumbnailHeight&&""!=fe.O.thumbnailHeight||(fe.O.thumbnailHeight="auto"),0!=fe.O.thumbnailWidth&&""!=fe.O.thumbnailWidth||(fe.O.thumbnailWidth="auto"),0!=fe.O.thumbnailL1Height&&""!=fe.O.thumbnailL1Height||(fe.O.thumbnailL1Height="auto"),0!=fe.O.thumbnailL1Width&&""!=fe.O.thumbnailL1Width||(fe.O.thumbnailL1Width="auto"),e("thumbnailWidth",!1,"width"),e("thumbnailL1Width",!0,"width"),e("thumbnailHeight",!1,"height"),e("thumbnailL1Height",!0,"height"),fe.O.thumbnailBorderHorizontal=parseInt(fe.O.thumbnailBorderHorizontal),fe.O.thumbnailBorderVertical=parseInt(fe.O.thumbnailBorderVertical),fe.O.thumbnailLabelHeight=parseInt(fe.O.thumbnailLabelHeight),fe.layout.SetEngine(),fe.O.kind){case"":break;default:jQuery.nanogallery2["data_"+fe.O.kind](fe,"Init")}}function et(t,e){var i=["easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","bounce"],n=t.split("_");if(n.length>=4){if(e.name="",e.type=n[1],e.from=n[2],e.to=n[3],n.length>=5)for(var a=4;a<n.length;a++){for(var o=n[a],r=!1,l=0;l<i.length;l++)if(o==i[l]){r=!0,e.easing=o;break}if(!0!==r)if("HOVERIN"!=(o=o.toUpperCase()))if("HOVEROUT"!=o)if("KEYFRAME"!=o){var s=parseInt(o.replace(/[^0-9\.]/g,""),10);if(s>0){if(o.indexOf("DURATION")>=0){e.duration=s;continue}if(o.indexOf("DURATIONBACK")>=0){e.durationBack=s;continue}if(o.indexOf("DELAY")>=0){e.delay=s;continue}if(o.indexOf("DELAYBACK")>=0){e.delayBack=s;continue}e.duration=s}}else e.firstKeyframe=!1;else e.hoverin=!1;else e.hoverout=!1}e.element=it(n[0],e.type)}else e.name=t;return e}function it(t,e){var i=t;switch(t){case"image":i="blur"==e||"brightness"==e||"grayscale"==e||"sepia"==e||"contrast"==e||"opacity"==e||"saturate"==e?".nGY2GThumbnailImg":".nGY2GThumbnailImage";break;case"thumbnail":i=".nGY2GThumbnail";break;case"label":i=".nGY2GThumbnailLabel";break;case"title":i=".nGY2GThumbnailTitle";break;case"description":i=".nGY2GThumbnailDescription";break;case"tools":i=".nGY2GThumbnailIcons";break;case"customlayer":i=".nGY2GThumbnailCustomLayer"}return i}function nt(t){for(var e=[],i=0;i<t.length;i++)switch(t[i].name.toUpperCase()){case"BORDERLIGHTER":n=tinycolor(st().thumbnail.borderColor);name="thumbnail_borderColor_"+n.toRgbString()+"_"+n.lighten(50).toRgbString(),e.push(et(name,t[i]));break;case"BORDERDARKER":var n=tinycolor(st().thumbnail.borderColor);name="thumbnail_borderColor_"+n.toRgbString()+"_"+n.darken(50).toRgbString(),e.push(et(name,t[i]));break;case"SCALE120":e.push(et("thumbnail_scale_1.00_1.20",t[i]));break;case"LABELAPPEAR":case"LABELAPPEAR75":e.push(et("label_opacity_0.00_1.00",t[i]));break;case"TOOLSAPPEAR":e.push(et("tools_opacity_0_1",t[i]));break;case"TOOLSSLIDEDOWN":e.push(et("tools_translateY_-100%_0%",t[i]));break;case"TOOLSSLIDEUP":e.push(et("tools_translateY_100%_0%",t[i]));break;case"LABELOPACITY50":e.push(et("label_opacity_1.00_0.50",t[i]));break;case"SCALELABELOVERIMAGE":e.push(et("label_scale_0.00_1.00",t[i]));a=K(t[i]);e.push(et("image_scale_1.00_0.00",a));break;case"OVERSCALE":case"OVERSCALEOUTSIDE":name="label_scale_0_100",e.push(et("label_scale_2.00_1.00",t[i]));var a=K(t[i]);e.push(et("label_opacity_0.00_1.00",a)),a=K(t[i]),e.push(et("image_scale_1.00_0.00",a)),a=K(t[i]),e.push(et("image_opacity_1.00_0.00",a));break;case"DESCRIPTIONAPPEAR":e.push(et("description_opacity_0_1",t[i]));break;case"SLIDERIGHT":e.push(et("image_translateX_0%_100%",t[i])),e.push(et("label_translateX_-100%_0%",K(t[i])));break;case"SLIDELEFT":e.push(et("image_translateX_0%_-100%",t[i])),e.push(et("label_translateX_100%_0%",K(t[i])));break;case"SLIDEUP":e.push(et("image_translateY_0%_-100%",t[i])),e.push(et("label_translateY_100%_0%",K(t[i])));break;case"SLIDEDOWN":e.push(et("image_translateY_0%_100%",t[i])),e.push(et("label_translateY_-100%_0%",K(t[i])));break;case"IMAGESCALE150":case"IMAGESCALE150OUTSIDE":e.push(et("image_scale_1.00_1.50",t[i]));break;case"IMAGESCALEIN80":e.push(et("image_scale_1.20_1.00",t[i]));break;case"IMAGESLIDERIGHT":e.push(et("image_translateX_0%_100%",t[i]));break;case"IMAGESLIDELEFT":e.push(et("image_translateX_0%_-100%",t[i]));break;case"IMAGESLIDEUP":e.push(et("image_translateY_0%_-100%",t[i]));break;case"IMAGESLIDEDOWN":e.push(et("image_translateY_0%_100%",t[i]));break;case"LABELSLIDEUP":case"LABELSLIDEUPTOP":e.push(et("label_translateY_100%_0%",t[i]));break;case"LABELSLIDEUPDOWN":e.push(et("label_translateY_0%_100%",t[i]));break;case"DESCRIPTIONSLIDEUP":e.push(et("description_translateY_110%_0%",t[i]));break;case"IMAGEBLURON":e.push(et("image_blur_2.00px_0.00px",t[i]));break;case"IMAGEBLUROFF":e.push(et("image_blur_0.00px_2.00px",t[i]));break;case"IMAGEGRAYON":e.push(et("image_grayscale_0%_100%",t[i]));break;case"IMAGEGRAYOFF":e.push(et("image_grayscale_100%_0%",t[i]));break;case"IMAGESEPIAON":e.push(et("image_sepia_100%_1%",t[i]));break;case"IMAGESEPIAOFF":e.push(et("image_sepia_1%_100%",t[i]));break;default:e.push(t[i])}return e}function K(t){if(null===t||"object"!=typeof t)return t;var e=t.constructor();for(var i in t)e[i]=K(t[i]);return e}function at(){return{name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null}}function ot(){return{element:"",property:"",value:""}}function rt(){switch(fe.O.thumbnailLabel.position){case"onBottom":fe.tn.style.lN.annotation="top:0; position:relative;",fe.tn.style.l1.annotation="top:0; position:relative;","CASCADING"==fe.layout.engine&&(fe.tn.style.lN.label="top:auto; bottom:0; position:relative;",fe.tn.style.l1.label="top:auto; bottom:0; position:relative;",fe.O.thumbnailLabel.titleMultiLine&&(fe.tn.style.lN.title="white-space:normal;",fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailLabel.descriptionMultiLine&&(fe.tn.style.lN.desc="white-space:normal;",fe.tn.style.l1.desc="white-space:normal;"));break;case"overImageOnTop":fe.tn.style.lN.annotation="top:0; bottom:0;",fe.tn.style.l1.annotation="top:0; bottom:0;",fe.tn.style.l1.label="top:0; position:absolute;",fe.tn.style.lN.label="top:0; position:absolute;",fe.O.thumbnailLabel.titleMultiLine&&(fe.tn.style.lN.title="white-space:normal;",fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailLabel.descriptionMultiLine&&(fe.tn.style.lN.desc="white-space:normal;",fe.tn.style.l1.desc="white-space:normal;");break;case"overImageOnMiddle":fe.tn.style.lN.annotation="top:0; bottom:0;",fe.tn.style.lN.label="top:0; bottom:0;",fe.tn.style.l1.annotation="top:0; bottom:0;",fe.tn.style.l1.label="top:0; bottom:0;",fe.tn.style.lN.title="position:absolute; bottom:50%;",fe.tn.style.l1.title="position:absolute; bottom:50%;",fe.tn.style.lN.desc="position:absolute; top:50%;",fe.tn.style.l1.desc="position:absolute; top:50%;",fe.O.thumbnailLabel.titleMultiLine&&(fe.tn.style.lN.title+="white-space:normal;",fe.tn.style.l1.title+="white-space:normal;"),fe.O.thumbnailLabel.descriptionMultiLine&&(fe.tn.style.lN.desc+="white-space:normal;",fe.tn.style.l1.desc+="white-space:normal;");break;case"custom":break;case"overImageOnBottom":default:fe.O.thumbnailLabel.position="overImageOnBottom",fe.tn.style.lN.annotation="bottom:0;",fe.tn.style.lN.label="bottom:0; position:absolute;",fe.tn.style.l1.annotation="bottom:0;",fe.tn.style.l1.label="bottom:0; position:absolute;",fe.O.thumbnailLabel.titleMultiLine&&(fe.tn.style.lN.title="white-space:normal;",fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailLabel.descriptionMultiLine&&(fe.tn.style.lN.desc="white-space:normal;",fe.tn.style.l1.desc="white-space:normal;")}switch(fe.O.thumbnailLabel.align){case"right":fe.tn.style.l1.label+="text-align:right;",fe.tn.style.lN.label+="text-align:right;";break;case"left":fe.tn.style.l1.label+="text-align:left;",fe.tn.style.lN.label+="text-align:left;";break;default:fe.tn.style.l1.label+="text-align:center;",fe.tn.style.lN.label+="text-align:center;"}if(void 0!=fe.O.thumbnailLabel.titleFontSize&&""!=fe.O.thumbnailLabel.titleFontSize&&(fe.tn.style.lN.title+="font-size:"+fe.O.thumbnailLabel.titleFontSize+";",fe.tn.style.l1.title+="font-size:"+fe.O.thumbnailLabel.titleFontSize+";"),void 0!=fe.O.thumbnailLabel.descriptionFontSize&&""!=fe.O.thumbnailLabel.descriptionFontSize&&(fe.tn.style.lN.desc+="font-size:"+fe.O.thumbnailLabel.descriptionFontSize+";",fe.tn.style.l1.desc+="font-size:"+fe.O.thumbnailLabel.descriptionFontSize+";"),fe.O.thumbnailL1Label&&fe.O.thumbnailL1Label.display){switch(fe.O.thumbnailL1Label.position){case"onBottom":fe.tn.style.l1.annotation="top:0; position:relative;","CASCADING"==fe.layout.engine&&(fe.tn.style.l1.label="top:auto; bottom:0;",fe.O.thumbnailL1Label.titleMultiLine&&(fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailL1Label.descriptionMultiLine&&(fe.tn.style.l1.desc="white-space:normal;"));break;case"overImageOnTop":fe.tn.style.l1.annotation="top:0; bottom:0;",fe.tn.style.l1.label="top:0; bottom:0;",fe.O.thumbnailL1Label.titleMultiLine&&(fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailL1Label.descriptionMultiLine&&(fe.tn.style.l1.desc="white-space:normal;");break;case"overImageOnMiddle":fe.tn.style.l1.annotation="top:0; bottom:0;",fe.tn.style.l1.label="top:0; bottom:0;",fe.tn.style.l1.title="position:absolute; bottom:50%;",fe.tn.style.l1.desc="position:absolute; top:50%;",fe.O.thumbnailL1Label.titleMultiLine&&(fe.tn.style.l1.title+="white-space:normal;"),fe.O.thumbnailL1Label.descriptionMultiLine&&(fe.tn.style.l1.desc+="white-space:normal;");break;case"custom":fe.tn.style.l1.annotation="",fe.O.thumbnailL1Label.titleMultiLine&&(fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailL1Label.descriptionMultiLine&&(fe.tn.style.l1.desc="white-space:normal;");break;case"overImageOnBottom":default:fe.O.thumbnailL1Label.position="overImageOnBottom",fe.tn.style.l1.annotation="bottom:0;",fe.tn.style.l1.label="bottom:0;",fe.O.thumbnailL1Label.titleMultiLine&&(fe.tn.style.l1.title="white-space:normal;"),fe.O.thumbnailL1Label.descriptionMultiLine&&(fe.tn.style.l1.desc="white-space:normal;")}switch(fe.O.thumbnailL1Label.align){case"right":fe.tn.style.l1.label+="text-align:right;";break;case"left":fe.tn.style.l1.label+="text-align:left;";break;default:fe.tn.style.l1.label+="text-align:center;"}void 0!=fe.O.thumbnailL1Label.titleFontSize&&""!=fe.O.thumbnailL1Label.titleFontSize&&(fe.tn.style.l1.title+="font-size:"+fe.O.thumbnailL1Label.titleFontSize+";"),void 0!=fe.O.thumbnailL1Label.descriptionFontSize&&""!=fe.O.thumbnailL1Label.descriptionFontSize&&(fe.tn.style.l1.desc+="font-size:"+fe.O.thumbnailL1Label.titleFontSize+";")}fe.tn.borderWidth=fe.O.thumbnailBorderHorizontal,fe.tn.borderHeight=fe.O.thumbnailBorderVertical;for(var t=["xs","sm","me","la","xl"],e=0;e<t.length;e++)if("auto"!=(n=fe.tn.settings.width.lN[t[e]]))fe.tn.defaultSize.width.lN[t[e]]=n,fe.tn.defaultSize.width.l1[t[e]]=n;else{i=fe.tn.settings.height.lN[t[e]];fe.tn.defaultSize.width.lN[t[e]]=i,fe.tn.defaultSize.width.l1[t[e]]=i}for(e=0;e<t.length;e++)if("auto"!=(i=fe.tn.settings.height.lN[t[e]]))fe.tn.defaultSize.height.lN[t[e]]=i,fe.tn.defaultSize.height.l1[t[e]]=i;else{n=fe.tn.settings.width.lN[t[e]];fe.tn.defaultSize.height.lN[t[e]]=n,fe.tn.defaultSize.height.l1[t[e]]=n}for(var t=["xs","sm","me","la","xl"],e=0;e<t.length;e++)if("auto"!=(n=fe.tn.settings.width.l1[t[e]]))fe.tn.defaultSize.width.l1[t[e]]=n;else{var i=fe.tn.settings.height.l1[t[e]];fe.tn.defaultSize.width.l1[t[e]]=i}for(e=0;e<t.length;e++)if("auto"!=(i=fe.tn.settings.height.l1[t[e]]))fe.tn.defaultSize.height.l1[t[e]]=i;else{var n=fe.tn.settings.width.l1[t[e]];fe.tn.defaultSize.height.l1[t[e]]=n}}function lt(t,e,i,n){fe.tn.settings[t][e].xs=i,fe.tn.settings[t][e].sm=i,fe.tn.settings[t][e].me=i,fe.tn.settings[t][e].la=i,fe.tn.settings[t][e].xl=i,fe.tn.settings[t][e].xsc=n,fe.tn.settings[t][e].smc=n,fe.tn.settings[t][e].mec=n,fe.tn.settings[t][e].lac=n,fe.tn.settings[t][e].xlc=n}function st(){var t=null;switch(Oe(fe.O.colorScheme)){case"object":t=fe.colorScheme_dark,jQuery.extend(!0,t,fe.O.colorScheme);break;case"string":switch(fe.O.colorScheme){case"light":t=fe.colorScheme_light;break;case"default":case"dark":case"none":default:t=fe.colorScheme_dark}break;default:t=fe.colorScheme_dark}return t}function ut(){var t=null,e="";switch(Oe(fe.O.colorScheme)){case"object":t=fe.colorScheme_dark,jQuery.extend(!0,t,fe.O.colorScheme),e="nanogallery_colorscheme_custom_"+fe.baseEltID;break;case"string":switch(fe.O.colorScheme){case"light":t=fe.colorScheme_light,e="nanogallery_colorscheme_light_"+fe.baseEltID;break;case"default":case"dark":case"none":default:t=fe.colorScheme_dark,e="nanogallery_colorscheme_dark_"+fe.baseEltID}break;default:return void be(fe,"Error in colorScheme parameter.")}var i="."+e+" ",n=i+".nGY2Navigationbar { background:"+t.navigationBar.background+"; }\n";void 0!==t.navigationBar.border&&""!==t.navigationBar.border&&(n+=i+".nGY2Navigationbar { border:"+t.navigationBar.border+"; }\n"),void 0!==t.navigationBar.borderTop&&""!==t.navigationBar.borderTop&&(n+=i+".nGY2Navigationbar { border-top:"+t.navigationBar.borderTop+"; }\n"),void 0!==t.navigationBar.borderBottom&&""!==t.navigationBar.borderBottom&&(n+=i+".nGY2Navigationbar { border-bottom:"+t.navigationBar.borderBottom+"; }\n"),void 0!==t.navigationBar.borderRight&&""!==t.navigationBar.borderRight&&(n+=i+".nGY2Navigationbar { border-right:"+t.navigationBar.borderRight+"; }\n"),void 0!==t.navigationBar.borderLeft&&""!==t.navigationBar.borderLeft&&(n+=i+".nGY2Navigationbar { border-left:"+t.navigationBar.borderLeft+"; }\n"),n+=i+".nGY2Breadcrumb { background:"+t.navigationBreadcrumb.background+"; border-radius:"+t.navigationBreadcrumb.borderRadius+"; }\n",n+=i+".nGY2Breadcrumb .oneItem  { color:"+t.navigationBreadcrumb.color+"; }\n",n+=i+".nGY2Breadcrumb .oneItem:hover { color:"+t.navigationBreadcrumb.colorHover+"; }\n",n+=i+".nGY2NavFilterUnselected { color:"+t.navigationFilter.color+"; background:"+t.navigationFilter.background+"; border-radius:"+t.navigationFilter.borderRadius+"; }\n",n+=i+".nGY2NavFilterSelected { color:"+t.navigationFilter.colorSelected+"; background:"+t.navigationFilter.backgroundSelected+"; border-radius:"+t.navigationFilter.borderRadius+"; }\n",n+=i+".nGY2NavFilterSelectAll { color:"+t.navigationFilter.colorSelected+"; background:"+t.navigationFilter.background+"; border-radius:"+t.navigationFilter.borderRadius+"; }\n",n+=i+".nGY2GThumbnail { background:"+t.thumbnail.background+"; border-color:"+t.thumbnail.borderColor+"; border-top-width:"+fe.O.thumbnailBorderVertical+"px; border-right-width:"+fe.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+fe.O.thumbnailBorderVertical+"px; border-left-width:"+fe.O.thumbnailBorderHorizontal+"px;}\n",n+=i+".nGY2GThumbnailStack { background:"+t.thumbnail.stackBackground+"; }\n",n+=i+".nGY2GThumbnailImage { background:"+t.thumbnail.background+"; }\n",n+=i+".nGY2GThumbnailAlbumUp { background:"+t.thumbnail.background+"; color:"+t.thumbnail.titleColor+"; }\n",n+=i+".nGY2GThumbnailIconsFullThumbnail { color:"+t.thumbnail.titleColor+"; }\n",n+=i+".nGY2GThumbnailLabel { background:"+t.thumbnail.labelBackground+"; opacity:"+t.thumbnail.labelOpacity+"; }\n",n+=i+".nGY2GThumbnailImageTitle  { color:"+t.thumbnail.titleColor+"; background-color:"+t.thumbnail.titleBgColor+"; "+(""==t.thumbnail.titleShadow?"":"Text-Shadow:"+t.thumbnail.titleShadow+";")+" }\n",n+=i+".nGY2GThumbnailAlbumTitle { color:"+t.thumbnail.titleColor+"; background-color:"+t.thumbnail.titleBgColor+"; "+(""==t.thumbnail.titleShadow?"":"Text-Shadow:"+t.thumbnail.titleShadow+";")+" }\n",n+=i+".nGY2GThumbnailDescription { color:"+t.thumbnail.descriptionColor+"; backgound-color:"+t.thumbnail.descriptionBgColor+"; "+(""==t.thumbnail.descriptionShadow?"":"Text-Shadow:"+t.thumbnail.descriptionShadow+";")+" }\n",n+=i+".nGY2GThumbnailIcons { padding:"+t.thumbnailIcon.padding+"; }\n",n+=i+".nGY2GThumbnailIcon { color:"+t.thumbnailIcon.color+"; }\n",n+=i+".nGY2GThumbnailIconTextBadge { background-color:"+t.thumbnailIcon.color+"; }\n","NUMBERS"!=fe.O.galleryPaginationMode?(n+=i+".nGY2paginationDot { border:"+t.pagination.shapeBorder+"; background:"+t.pagination.shapeColor+";}\n",n+=i+".nGY2paginationDotCurrentPage { border:"+t.pagination.shapeBorder+"; background:"+t.pagination.shapeSelectedColor+";}\n",n+=i+".nGY2paginationRectangle { border:"+t.pagination.shapeBorder+"; background:"+t.pagination.shapeColor+";}\n",n+=i+".nGY2paginationRectangleCurrentPage { border:"+t.pagination.shapeBorder+"; background:"+t.pagination.shapeSelectedColor+";}\n"):(n+=i+".nGY2paginationItem { background:"+t.pagination.background+"; color:"+t.pagination.color+"; border-radius:"+t.pagination.borderRadius+"; }\n",n+=i+".nGY2paginationItemCurrentPage { background:"+t.pagination.background+"; color:"+t.pagination.color+"; border-radius:"+t.pagination.borderRadius+"; }\n",n+=i+".nGY2PaginationPrev { background:"+t.pagination.background+"; color:"+t.pagination.color+"; border-radius:"+t.pagination.borderRadius+"; }\n",n+=i+".nGY2PaginationNext { background:"+t.pagination.background+"; color:"+t.pagination.color+"; border-radius:"+t.pagination.borderRadius+"; }\n",n+=i+".nGY2paginationItemCurrentPage { background:"+t.pagination.backgroundSelected+"; }\n"),n+=i+".nGY2GalleryMoreButtonAnnotation { background:"+t.thumbnail.background+"; border-color:"+t.thumbnail.borderColor+"; border-top-width:"+fe.O.thumbnailBorderVertical+"px; border-right-width:"+fe.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+fe.O.thumbnailBorderVertical+"px; border-left-width:"+fe.O.thumbnailBorderHorizontal+"px;}\n",n+=i+".nGY2GalleryMoreButtonAnnotation  { color:"+t.thumbnail.titleColor+"; "+(""==t.thumbnail.titleShadow?"":"Text-Shadow:"+t.thumbnail.titleShadow)+"; }\n",jQuery("head").append('<style id="ngycs_'+fe.baseEltID+'">'+n+"</style>"),fe.$E.base.addClass(e)}function ct(){if(""==fe.VOM.colorSchemeLabel){var t=null;switch(Oe(fe.O.colorSchemeViewer)){case"object":t=fe.colorSchemeViewer_dark,jQuery.extend(!0,t,fe.O.colorSchemeViewer),fe.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_custom_"+fe.baseEltID;break;case"string":switch(fe.O.colorSchemeViewer){case"none":return;case"light":t=fe.colorSchemeViewer_light,fe.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_light_"+fe.baseEltID;break;case"border":t=fe.colorSchemeViewer_border,fe.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_border_"+fe.baseEltID;break;case"dark":case"default":t=fe.colorSchemeViewer_dark,fe.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_dark_"+fe.baseEltID}break;default:return void be(fe,"Error in colorSchemeViewer parameter.")}var e="."+fe.VOM.colorSchemeLabel+" ",i=e+".nGY2Viewer { background:"+t.background+"; }\n";i+=e+".nGY2ViewerImage { border:"+t.imageBorder+"; box-shadow:"+t.imageBoxShadow+"; }\n",i+=e+".nGY2Viewer .toolbarBackground { background:"+t.barBackground+"; }\n",i+=e+".nGY2Viewer .toolbar { border:"+t.barBorder+"; color:"+t.barColor+"; }\n",i+=e+".nGY2Viewer .toolbar .previousButton:after { color:"+t.barColor+"; }\n",i+=e+".nGY2Viewer .toolbar .nextButton:after { color:"+t.barColor+"; }\n",i+=e+".nGY2Viewer .toolbar .closeButton:after { color:"+t.barColor+"; }\n",i+=e+".nGY2Viewer .toolbar .label .title { color:"+t.barColor+"; }\n",i+=e+".nGY2Viewer .toolbar .label .description { color:"+t.barDescriptionColor+"; }\n",jQuery("head").append("<style>"+i+"</style>"),fe.VOM.$cont.addClass(fe.VOM.colorSchemeLabel)}else fe.VOM.$cont.addClass(fe.VOM.colorSchemeLabel)}function ht(){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),a=Math.max(0,16-(n-t)),o=window.setTimeout(function(){e(n+a)},a);return t=n+a,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();try{!window.addEventListener&&function(t,e,i,n,a,o,r){t.addEventListener=e.addEventListener=i.addEventListener=function(t,e){var i=this;r.unshift([i,t,e,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,e.call(i,t)}]),this.attachEvent("on"+t,r[0][3])},t.removeEventListener=e.removeEventListener=i.removeEventListener=function(t,e){for(var i,n=0;i=r[n];++n)if(i[0]==this&&i[1]==t&&i[2]==e)return this.detachEvent("on"+t,r.splice(n,1)[0][3])},t.dispatchEvent=e.dispatchEvent=i.dispatchEvent=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,0,0,0,[])}catch(t){return ce(),!1}Array.prototype.removeIf=function(t){for(var e=this.length;e--;)t(this[e],e)&&this.splice(e,1)}}function mt(t){var e=Gt(t,!1);if(-1==e.GOMidx)return"exit";var i=fe.GOM.items[e.GOMidx].thumbnailIdx;switch(e.action){case"OPEN":return Tt(i,!1),"exit";case"DISPLAY":return Tt(i,!0),"exit";case"TOGGLESELECT":return ft(i),"exit";case"SHARE":return yt(i),"exit";case"DOWNLOAD":return dt(i),"exit";case"INFO":return _t(fe.I[i]),"exit";case"CART":return pt(i),"exit";default:null!==fe.O.fnThumbnailToolCustAction&&("function"==typeof fe.O.fnThumbnailToolCustAction?fe.O.fnThumbnailToolCustAction(e.action,fe.I[i]):window[fe.O.fnThumbnailToolCustAction](e.action,fe.I[i]))}}function dt(t){var e=fe.I[t].src;void 0!=fe.I[t].downloadURL&&""!=fe.I[t].downloadURL&&(e=fe.I[t].downloadURL);var i=document.createElement("a");i.href=e,i.download=e.split(".").pop(),document.body.appendChild(i),i.click(),document.body.removeChild(i)}function pt(t){for(var e=0;e<fe.shoppingCart.length;e++)if(fe.shoppingCart[e].idx==t)return fe.shoppingCart[e].cnt++,null!==fe.O.fnShoppingCartUpdated&&("function"==typeof fe.O.fnShoppingCartUpdated?fe.O.fnShoppingCartUpdated(fe.shoppingCart):window[fe.O.fnShoppingCartUpdated](fe.shoppingCart)),void ee("shoppingCartUpdated");fe.shoppingCart.push({idx:t,ID:fe.I[t].GetID(),cnt:1}),null!==fe.O.fnShoppingCartUpdated&&("function"==typeof fe.O.fnShoppingCartUpdated?fe.O.fnShoppingCartUpdated(fe.shoppingCart):window[fe.O.fnShoppingCartUpdated](fe.shoppingCart)),ee("shoppingCartUpdated")}function gt(){fe.GOM.nbSelected=0;for(var t=fe.GOM.items.length,e=0;e<t;e++){var i=fe.I[fe.GOM.items[e].thumbnailIdx];i.selected&&(i.selected=!1,null!==fe.O.fnThumbnailSelection&&("function"==typeof fe.O.fnThumbnailSelection?fe.O.fnThumbnailSelection(i.$elt,i,fe.I):window[fe.O.fnThumbnailSelection](i.$elt,i,fe.I))),i.selected=!1}}function ft(t){var e=fe.I[t];!0===e.selected?(bt(e,!1),fe.GOM.nbSelected--,ee("itemUnSelected")):(bt(e,!0),fe.GOM.nbSelected++,ee("itemSelected"))}function bt(t,e){t.selected=e,vt(t),null!==fe.O.fnThumbnailSelection&&("function"==typeof fe.O.fnThumbnailSelection?fe.O.fnThumbnailSelection(t.$elt,t,fe.I):window[fe.O.fnThumbnailSelection](t.$elt,t,fe.I))}function vt(t){if(null!=t.$elt){var e=t.$getElt(".nGY2GThumbnailSub"),i=t.$getElt(".nGY2GThumbnailIconImageSelect");!0===t.selected?(e.addClass("nGY2GThumbnailSubSelected"),i.addClass("nGY2ThumbnailSelected"),i.removeClass("nGY2ThumbnailUnselected"),i.html(fe.O.icons.thumbnailSelected)):(e.removeClass("nGY2GThumbnailSubSelected"),i.removeClass("nGY2ThumbnailSelected"),i.addClass("nGY2ThumbnailUnselected"),i.html(fe.O.icons.thumbnailUnselected))}}function yt(t){var e=fe.I[t],i=document.location.protocol+"//"+document.location.hostname+document.location.pathname,n="#nanogallery/"+fe.baseEltID+"/";"image"==e.kind?n+=e.albumID+"/"+e.GetID():n+=e.GetID();var a="";a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="facebook">'+fe.O.icons.shareFacebook+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="pinterest">'+fe.O.icons.sharePinterest+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="tumblr">'+fe.O.icons.shareTumblr+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="twitter">'+fe.O.icons.shareTwitter+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="googleplus">'+fe.O.icons.shareGooglePlus+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="vk">'+fe.O.icons.shareVK+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="mail">'+fe.O.icons.shareMail+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;"></div>',a+='<input class="nGY2PopupOneItemText" readonly type="text" value="'+i+n+'" style="width:100%;text-align:center;">',a+="<br>",i=encodeURIComponent(document.location.protocol+"//"+document.location.hostname+document.location.pathname+n);var o=e.title,r=e.thumbImg().src;Ot("Share to:",a,"Center"),fe.popup.$elt.find(".nGY2PopupOneItem").on("click",function(t){t.stopPropagation();var e="",n=!0;switch(jQuery(this).attr("data-share").toUpperCase()){case"FACEBOOK":e="https://www.facebook.com/sharer.php?u="+i;break;case"VK":e="http://vk.com/share.php?url="+i;break;case"GOOGLEPLUS":e="https://plus.google.com/share?url="+i;break;case"TWITTER":e="https://twitter.com/intent/tweet?text="+o+"url="+i;break;case"PINTEREST":e="https://pinterest.com/pin/create/button/?media="+r+"&url="+i+"&description="+o;break;case"TUMBLR":e="http://www.tumblr.com/share/link?url="+i+"&name="+o;break;case"MAIL":e="mailto:?subject="+o;break;default:n=!1}n&&(window.open(e,"","height=550,width=500,left=100,top=100,menubar=0"),window.open(e,"","height=550,width=500,left=100,top=100,menubar=0"),fe.popup.close())})}function Ot(t,e,i){var n='<div class="nGY2Popup" style="opacity:0;"><div class="nGY2PopupContent'+i+'">';n+='<div class="nGY2PopupCloseButton">'+fe.O.icons.buttonClose+"</div>",n+='<div class="nGY2PopupTitle">'+t+"</div>",n+=e,n+="</div></div>",fe.popup.$elt=jQuery(n).appendTo("body"),de(fe.VOM.$viewer,fe.popup.$elt),fe.popup.isDisplayed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},easing:"easeInOutSine",duration:180,step:function(t,e){fe.popup.$elt.css("opacity",t.opacity)},finish:function(t,e){fe.popup.$elt.css("opacity",1)}}),fe.popup.$elt.find(".nGY2PopupCloseButton").on("click",function(t){t.stopPropagation(),fe.popup.close()})}function wt(t){if(!fe.VOM.viewerDisplayed&&-1!=fe.GOM.albumIdx){var e=Gt(t,!0);if(-1!=e.GOMidx){t.target||t.srcElement;U(e.GOMidx)}}}function It(t){if(!fe.VOM.viewerDisplayed&&-1!=fe.GOM.albumIdx){var e=Gt(t,!0);if(-1!=e.GOMidx){t.target||t.srcElement;j(e.GOMidx)}}}function Gt(t,e){var i={action:"NONE",GOMidx:-1};if(void 0==t)return i;for(var n=t.target||t.srcElement;n!=fe.$E.conTnParent[0];){if(jQuery(n).hasClass("nGY2GThumbnail"))return"NONE"==i.action&&(i.action="OPEN"),i.GOMidx=jQuery(n).data("index"),i;if(!e){var a=jQuery(n).data("ngy2action");""!=a&&void 0!=a&&(i.action=a)}if(null==n.parentNode)return i;n=n.parentNode}return i}function Tt(t,e){var i=fe.I[t];if(null!==fe.O.fnThumbnailClicked&&("function"==typeof fe.O.fnThumbnailClicked?fe.O.fnThumbnailClicked(i.$elt,i):window[fe.O.fnThumbnailClicked](i.$elt,i)),void 0!==i.destinationURL&&i.destinationURL.length>0)window.location=i.destinationURL;else switch(i.kind){case"image":!1===e&&fe.GOM.nbSelected>0?ft(t):xt(t);break;case"album":!1===e&&fe.GOM.nbSelected>0?ft(t):r("-1",i.GetID());break;case"albumUp":r("-1",NGY2Item.Get(fe,i.albumID).albumID)}}function Mt(t){switch(fe.O.kind){case"flickr":e="https://www.flickr.com/photos/"+fe.O.userID+"/"+t.GetID();window.open(e,"_blank");break;case"picasa":case"google":case"google2":var e="https://plus.google.com/photos/"+fe.O.userID+"/albums/"+t.albumID+"/"+t.GetID();window.open(e,"_blank")}}function xt(t){if(fe.O.thumbnailOpenImage)if(fe.O.thumbnailOpenOriginal)Mt(fe.I[t]);else{var e=[];fe.VOM.currItemIdx=0,fe.VOM.items=[],fe.VOM.albumID=fe.I[t].albumID;o=new i(t);fe.VOM.items.push(o),e.push(fe.I[t]);for(var n=fe.I.length,a=t+1;a<n;a++)if("image"==(s=fe.I[a]).kind&&s.isToDisplay(fe.VOM.albumID)&&""==s.destinationURL){var o=new i(a);fe.VOM.items.push(o),e.push(s)}for(var r=fe.VOM.items.length,l=1,a=0;a<t;a++){var s=fe.I[a];"image"==s.kind&&s.isToDisplay(fe.VOM.albumID)&&""==s.destinationURL&&((o=new i(a)).imageNumber=l,fe.VOM.items.push(o),e.push(s),l++)}for(var u=0;u<r;u++)fe.VOM.items[u].imageNumber=l,l++;null!==fe.O.fnThumbnailOpen&&("function"==typeof fe.O.fnThumbnailOpen?fe.O.fnThumbnailOpen(e):window[fe.O.fnThumbnailOpen](e)),fe.VOM.viewerDisplayed?(fe.VOM.$imgC.css({opacity:0,left:0,visibility:"hidden"}).attr("src",""),fe.VOM.ImageLoader.loadImage(Lt,fe.VOM.Item(0).responsiveURL(),fe.VOM.Item(0)),fe.VOM.$imgC.children().eq(0).attr("src",fe.emptyGif).attr("src",fe.VOM.Item(0).responsiveURL()),Wt(0,"")):Ct(0)}}function St(t,e){}function Lt(t,e,i,n,a){n.imageWidth=t,n.imageHeight=e,null!==fe.VOM.$imgC&&fe.VOM.$imgC.children().prop("src")===i&&(Jt(fe.VOM.$imgC,n),fe.VOM.$imgC.css("opacity",1))}function Ct(t){fe.VOM.viewerDisplayed=!0,jQuery("body").css({overflow:"hidden"}),fe.VOM.$cont=jQuery('<div  class="nGY2 nGY2ViewerContainer" style="opacity:1"></div>').appendTo("body"),ct(),fe.VOM.$viewer=jQuery('<div class="nGY2Viewer" style="opacity:0" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(fe.VOM.$cont),fe.VOM.$viewer.css({msTouchAction:"none",touchAction:"none"});var e="";fe.I.length;e+='<div class="nGY2ViewerImagePan"><img class="nGY2ViewerImage" src="'+fe.VOM.ItemPrevious(t).responsiveURL()+'" alt=" " itemprop="contentURL"></div>',e+='<div class="nGY2ViewerImagePan"><img class="nGY2ViewerImage" src="'+fe.VOM.Item(t).responsiveURL()+'" alt=" " itemprop="contentURL"></div>',e+='<div class="nGY2ViewerImagePan"><img class="nGY2ViewerImage" src="'+fe.VOM.ItemNext(t).responsiveURL()+'" alt=" " itemprop="contentURL"></div>';var i="";void 0!=fe.O.icons.viewerImgPrevious&&""!=fe.O.icons.viewerImgPrevious&&(i+='<div class="nGY2ViewerAreaPrevious ngy2viewerToolAction" data-ngy2action="previous">'+fe.O.icons.viewerImgPrevious+"</div>"),void 0!=fe.O.icons.viewerImgNext&&""!=fe.O.icons.viewerImgNext&&(i+='<div class="nGY2ViewerAreaNext ngy2viewerToolAction" data-ngy2action="next">'+fe.O.icons.viewerImgNext+"</div>"),fe.VOM.$content=jQuery('<div class="nGY2ViewerContent">'+e+i+"</div>").appendTo(fe.VOM.$viewer),fe.VOM.$imgP=fe.VOM.$content.find(".nGY2ViewerImagePan").eq(0),fe.VOM.$imgC=fe.VOM.$content.find(".nGY2ViewerImagePan").eq(1),fe.VOM.$imgN=fe.VOM.$content.find(".nGY2ViewerImagePan").eq(2),fe.VOM.ImageLoader.loadImage(Lt,fe.VOM.Item(t).responsiveURL(),fe.VOM.Item(t)),fe.VOM.ImageLoader.loadImage(Lt,fe.VOM.ItemPrevious(t).responsiveURL(),fe.VOM.ItemPrevious(t)),fe.VOM.ImageLoader.loadImage(Lt,fe.VOM.ItemNext(t).responsiveURL(),fe.VOM.ItemNext(t)),St(fe.VOM.Item(t),fe.VOM.$imgC.children()),St(fe.VOM.ItemPrevious(t),fe.VOM.$imgP.children()),St(fe.VOM.ItemNext(t),fe.VOM.$imgN.children()),fe.VOM.$cont.find("*").attr("draggable","false").attr("unselectable","on"),fe.VOM.padding.H=parseInt(fe.VOM.$content.css("padding-left"))+parseInt(fe.VOM.$content.css("padding-right")),fe.VOM.padding.V=parseInt(fe.VOM.$content.css("padding-top"))+parseInt(fe.VOM.$content.css("padding-bottom"));var n="",a=" toolbarBackground";fe.O.viewerToolbar.fullWidth&&(n=" toolbarBackground",a="");var o="text-align:center;";switch(fe.O.viewerToolbar.align){case"left":o="text-align:left;";break;case"right":o="text-align:right;"}var r='<div class="toolbarContainer nGEvent'+n+'" style="visibility:'+(fe.O.viewerToolbar.display?"visible":"hidden")+";"+o+'"><div class="toolbar nGEvent'+a+'">';if(r+="</div></div>",fe.VOM.$toolbar=jQuery(r).appendTo(fe.VOM.$viewer),"min"==fe.VOM.toolbarMode||fe.O.viewerToolbar.autoMinimize>0&&fe.O.viewerToolbar.autoMinimize>=me().w?zt():Ft(),""!=fe.O.viewerTools.topLeft){for(var l='<div class="nGY2ViewerToolsTopLeft nGEvent"><div class="toolbar nGEvent">',s=fe.O.viewerTools.topLeft.split(","),u=0,c=s.length;u<c;u++)l+=Vt(s[u]);l+="</div></div>",fe.VOM.$toolbarTL=jQuery(l).appendTo(fe.VOM.$viewer)}if(""!=fe.O.viewerTools.topRight){for(var h='<div class="nGY2ViewerToolsTopRight nGEvent"><div class="toolbar nGEvent">',m=fe.O.viewerTools.topRight.split(","),u=0,d=m.length;u<d;u++)h+=Vt(m[u]);h+="</div></div>",fe.VOM.$toolbarTR=jQuery(h).appendTo(fe.VOM.$viewer)}ngscreenfull.enabled&&fe.O.viewerFullscreen&&ngscreenfull.request(),At(),fe.O.viewerDisplayLogo&&(fe.$E.vwLogo=jQuery('<div class="nGY2 nGY2ViewerLogo"></div>').appendTo(fe.VOM.$viewer)),de("",fe.VOM.$viewer),Zt(!0),fe.VOM.timeImgChanged=(new Date).getTime(),(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},delay:0,duration:500,easing:"easeOutQuart",step:function(t){fe.VOM.$viewer.css("opacity",t.opacity)}}),fe.VOM.$viewer.find("img").on("click",function(t){t.stopPropagation()}),Ut(fe.VOM.swipePosX),Wt(t,""),null==fe.VOM.hammertime&&(fe.VOM.hammertime=new NGHammer.Manager(fe.VOM.$cont[0],{recognizers:[[NGHammer.Pinch,{enable:!0}],[NGHammer.Pan,{direction:NGHammer.DIRECTION_ALL}]]}),fe.VOM.hammertime.on("pan",function(t){fe.VOM.viewerDisplayed&&(fe.VOM.isZooming?Kt(fe.VOM.panPosX+t.deltaX,fe.VOM.panPosY+t.deltaY,!1):Ut(t.deltaX))}),fe.VOM.hammertime.on("panend",function(t){if(fe.VOM.viewerDisplayed)if(fe.VOM.isZooming)fe.VOM.timeImgChanged=(new Date).getTime(),Kt(fe.VOM.panPosX+t.deltaX,fe.VOM.panPosY+t.deltaY,!0);else{if(t.deltaX>50)return void jt();if(t.deltaX<-50)return void Ht();Ut(0)}}),fe.O.viewerZoom?(fe.VOM.hammertime.add(new NGHammer.Tap({event:"doubletap",taps:2})),fe.VOM.hammertime.add(new NGHammer.Tap({event:"singletap"})),fe.VOM.hammertime.get("doubletap").recognizeWith("singletap"),fe.VOM.hammertime.get("singletap").requireFailure("doubletap"),fe.VOM.hammertime.on("singletap",function(t){fe.VOM.viewerDisplayed&&(kt(t.srcEvent),0==fe.VOM.toolbarsDisplayed?Dt():-1!==t.target.className.indexOf("nGY2ViewerImage")&&(t.srcEvent.pageX<jQuery(window).width()/2?jt():Ht()))}),fe.VOM.hammertime.on("doubletap",function(t){fe.VOM.viewerDisplayed&&(kt(t.srcEvent),-1!==t.target.className.indexOf("nGY2ViewerImage")&&(fe.VOM.isZooming?(fe.VOM.isZooming=!1,fe.VOM.currentZoom=1,Zt(!0)):(fe.VOM.currentZoom=4,$t()&&Yt(!0))))}),fe.VOM.hammertime.on("pinchend",function(t){t.srcEvent.stopPropagation(),t.srcEvent.preventDefault(),fe.VOM.timeImgChanged=(new Date).getTime()}),fe.VOM.hammertime.on("pinch",function(t){t.srcEvent.stopPropagation(),t.srcEvent.preventDefault(),$t()&&(fe.VOM.currentZoom=t.scale,fe.VOM.currentZoom>2&&(fe.VOM.currentZoom=2),fe.VOM.currentZoom<.2&&(fe.VOM.currentZoom=.2),Rt())})):fe.VOM.hammertime.on("tap",function(t){fe.VOM.viewerDisplayed&&(kt(t.srcEvent),-1!==t.target.className.indexOf("nGY2ViewerImage")&&(t.srcEvent.pageX<jQuery(window).width()/2?jt():Ht()))})),fe.O.slideshowAutoStart&&(fe.VOM.playSlideshow=!1,Pt())}function kt(t){t.stopPropagation(),t.preventDefault()}function Et(){fe.VOM.viewerDisplayed&&(fe.VOM.toolbarsDisplayed=!1,fe.VOM.$toolbar.css("opacity",0),fe.VOM.$toolbarTL.css("opacity",0),fe.VOM.$toolbarTR.css("opacity",0),fe.VOM.$content.find(".nGY2ViewerAreaNext").css("opacity",0),fe.VOM.$content.find(".nGY2ViewerAreaPrevious").css("opacity",0))}function Dt(){fe.VOM.viewerDisplayed&&(fe.VOM.toolbarsDisplayed=!0,fe.VOM.$toolbar.css("opacity",1),fe.VOM.$toolbarTL.css("opacity",1),fe.VOM.$toolbarTR.css("opacity",1),fe.VOM.$content.find(".nGY2ViewerAreaNext").css("opacity",1),fe.VOM.$content.find(".nGY2ViewerAreaPrevious").css("opacity",1),fe.VOM.toolsHide())}function At(){fe.VOM.$viewer.off("touchstart click",".ngy2viewerToolAction",Nt),fe.VOM.$viewer.on("touchstart click",".ngy2viewerToolAction",Nt)}function Nt(e){if(!((new Date).getTime()-fe.timeLastTouchStart<300)){fe.timeLastTouchStart=(new Date).getTime();var i=t(this),n=i.data("ngy2action");if(void 0!=n){switch(n){case"next":kt(e),Ht();break;case"previous":kt(e),jt();break;case"playPause":e.stopPropagation(),Pt();break;case"zoomIn":kt(e),$t()&&Yt(!0);break;case"zoomOut":kt(e),$t()&&Yt(!1);break;case"minimize":kt(e),"std"==fe.VOM.toolbarMode?zt():Ft();break;case"fullScreen":e.stopPropagation(),ngscreenfull.enabled&&ngscreenfull.toggle();break;case"info":e.stopPropagation(),_t(fe.VOM.Item(fe.VOM.currItemIdx));break;case"close":if(kt(e),(new Date).getTime()-fe.VOM.timeImgChanged<400)return;qt(fe.VOM.currItemIdx);break;case"download":kt(e),dt(fe.VOM.items[fe.VOM.currItemIdx].imageIdx);break;case"share":case"custom":kt(e),yt(fe.VOM.items[fe.VOM.currItemIdx].imageIdx);break;case"linkOriginal":if(kt(e),Mt(fe.VOM.Item(fe.VOM.currItemIdx)),"google"==fe.O.kind||"google2"==fe.O.kind){a="https://plus.google.com/photos/"+fe.O.userID+"/albums/"+fe.VOM.Item(fe.VOM.currItemIdx).albumID+"/"+fe.VOM.Item(fe.VOM.currItemIdx).GetID();window.open(a,"_blank")}if("flickr"==fe.O.kind){var a="https://www.flickr.com/photos/"+fe.O.userID+"/"+fe.VOM.Item(fe.VOM.currItemIdx).GetID();window.open(a,"_blank")}}0==n.indexOf("custom")&&null!==fe.O.fnImgToolbarCustClick&&("function"==typeof fe.O.fnImgToolbarCustClick?fe.O.fnImgToolbarCustClick(n,i,fe.VOM.Item(fe.VOM.currItemIdx)):window[fe.O.fnImgToolbarCustClick](n,i,fe.VOM.Item(fe.VOM.currItemIdx)))}}}function _t(t){var e='<div class="nGY2PopupOneItemText">'+t.title+"</div>";e+='<div class="nGY2PopupOneItemText">'+t.description+"</div>",""!=t.author&&(e+='<div class="nGY2PopupOneItemText">'+fe.O.icons.user+" "+t.author+"</div>"),""!=t.exif.model&&(e+='<div class="nGY2PopupOneItemText">'+fe.O.icons.config+" "+t.exif.model+"</div>");var i="";""!=t.exif.flash&&(i+=" &nbsp; "+t.exif.flash),""!=t.exif.focallength&&(i+=" &nbsp; "+t.exif.focallength+"mm"),""!=t.exif.fstop&&(i+=" &nbsp; f"+t.exif.fstop),""!=t.exif.exposure&&(i+=" &nbsp; "+t.exif.exposure+"s"),""!=t.exif.iso&&(i+=" &nbsp; "+t.exif.iso+" ISO"),""!=t.exif.time&&(i+=" &nbsp; "+new Date(parseInt(t.exif.time)).toLocaleDateString()),e+='<div class="nGY2PopupOneItemText">'+i+"</div>",""!=t.exif.location&&(e+='<div class="nGY2PopupOneItemText">'+fe.O.icons.location+' <a href="http://maps.google.com/maps?z=12&t=m&q='+encodeURIComponent(t.exif.location)+'" target="_blank">'+t.exif.location+"</a></div>",e+='<iframe width="300" height="150" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?&amp;t=m&amp;q='+encodeURIComponent(t.exif.location)+'&amp;output=embed"></iframe>');Ot(fe.O.icons.viewerInfo,e,"Left")}function Vt(t){var e="",i=t.replace(/^\s+|\s+$/g,"");switch(i){case"minimizeButton":var n=fe.O.icons.viewerToolbarMin;"min"==fe.VOM.toolbarMode&&(n=fe.O.icons.viewerToolbarStd),e='<div class="ngbt ngy2viewerToolAction minimizeButton nGEvent" data-ngy2action="minimize">'+n+"</div>";break;case"previousButton":e='<div class="ngbt ngy2viewerToolAction previousButton nGEvent" data-ngy2action="previous">'+fe.O.icons.viewerPrevious+"</div>";break;case"pageCounter":e='<div class="ngbt ngy2viewerToolAction pageCounter nGEvent"></div>';break;case"nextButton":e='<div class="ngbt ngy2viewerToolAction nextButton nGEvent" data-ngy2action="next">'+fe.O.icons.viewerNext+"</div>";break;case"playPauseButton":e='<div class="ngbt ngy2viewerToolAction playButton playPauseButton nGEvent" data-ngy2action="playPause">'+fe.O.icons.viewerPlay+"</div>";break;case"downloadButton":e='<div class="ngbt ngy2viewerToolAction downloadButton nGEvent" data-ngy2action="download">'+fe.O.icons.viewerDownload+"</div>";break;case"zoomButton":e='<div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomIn">'+fe.O.icons.viewerZoomIn+'</div><div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomOut">'+fe.O.icons.viewerZoomOut+"</div>";break;case"fullscreenButton":var a=fe.O.icons.viewerFullscreenOn;ngscreenfull.enabled&&fe.VOM.viewerIsFullscreen&&(a=fe.O.icons.viewerFullscreenOff),e='<div class="ngbt ngy2viewerToolAction setFullscreenButton fullscreenButton nGEvent" data-ngy2action="fullScreen">'+a+"</div>";break;case"infoButton":e='<div class="ngbt ngy2viewerToolAction infoButton nGEvent" data-ngy2action="info">'+fe.O.icons.viewerInfo+"</div>";break;case"linkOriginalButton":"flickr"!=fe.O.kind&&"google"!=fe.O.kind&&"google2"!=fe.O.kind||(e='<div class="ngbt ngy2viewerToolAction linkOriginalButton nGEvent" data-ngy2action="linkOriginal">'+fe.O.icons.viewerLinkOriginal+"</div>");break;case"closeButton":e='<div class="ngbt ngy2viewerToolAction closeButton nGEvent" data-ngy2action="close">'+fe.O.icons.buttonClose+"</div>";break;case"shareButton":e='<div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="share">'+fe.O.icons.viewerShare+"</div>";break;case"label":e='<div class="label ngy2viewerToolAction"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:if(0==i.indexOf("custom")){var o="";if(null!==fe.O.fnImgToolbarCustInit&&("function"==typeof fe.O.fnImgToolbarCustInit?fe.O.fnImgToolbarCustInit(i):window[fe.O.fnImgToolbarCustInit](i)),void 0==o||""==o){var r=i.substring(6);o=fe.O.icons["viewerCustomTool"+r]}e='<div class="ngbt ngy2viewerToolAction ngy2CustomBtn '+i+' nGEvent" data-ngy2action="'+i+'">'+o+"</div>"}}return e}function $t(){if(fe.O.viewerZoom&&!fe.VOM.viewerImageIsChanged){var t=fe.VOM.Item(fe.VOM.currItemIdx);if(t.imageHeight>0&&t.imageWidth>0){if(!1===fe.VOM.isZooming){var e=fe.VOM.$viewer.height()-fe.VOM.padding.H;fe.VOM.currentZoom=e/t.imageHeight,fe.VOM.isZooming=!0}return!0}}}function Yt(t){t?(fe.VOM.currentZoom+=.1,fe.VOM.currentZoom>2&&(fe.VOM.currentZoom=2)):(fe.VOM.currentZoom-=.1,fe.VOM.currentZoom<.2&&(fe.VOM.currentZoom=.2)),Rt()}function Rt(){var t=fe.VOM.Item(fe.VOM.currItemIdx),e=t.imageHeight/window.devicePixelRatio*fe.VOM.currentZoom,i=t.imageWidth/window.devicePixelRatio*fe.VOM.currentZoom;fe.VOM.$imgC.children().eq(0).css({height:e,"max-height":"none"}),fe.VOM.$imgC.children().eq(0).css({width:i,"max-width":"none"});var n=0;i>fe.VOM.window.lastWidth&&(n=-(i-fe.VOM.window.lastWidth)/2);fe.VOM.$viewer.height(),fe.VOM.padding.H;var a=0;e>fe.VOM.window.lastHeight&&(a=(e-fe.VOM.window.lastHeight)/2),a=0,fe.VOM.zoomPosX=n,fe.VOM.zoomPosY=a,Zt(!0)}function Pt(){fe.VOM.playSlideshow?(window.clearTimeout(fe.VOM.playSlideshowTimerID),fe.VOM.playSlideshow=!1,fe.VOM.$viewer.find(".playPauseButton").html(fe.O.icons.viewerPlay)):(fe.VOM.playSlideshow=!0,Ht(),fe.VOM.$viewer.find(".playPauseButton").html(fe.O.icons.viewerPause))}function Ft(){fe.VOM.toolbarMode="std";for(var t="",e=fe.O.viewerToolbar.standard.split(","),i=0,n=e.length;i<n;i++)t+=Vt(e[i]);fe.VOM.$toolbar.find(".toolbar").html(t),Bt()}function zt(){if(void 0==fe.O.viewerToolbar.minimized||""==fe.O.viewerToolbar.minimized)Ft();else{fe.VOM.toolbarMode="min";for(var t="",e=fe.O.viewerToolbar.minimized.split(","),i=0,n=e.length;i<n;i++)t+=Vt(e[i]);fe.VOM.$toolbar.find(".toolbar").html(t),Bt()}}function Bt(){var t=fe.VOM.currItemIdx;if(null!=t){var e=fe.VOM.Item(t),i=!1;void 0!==e.title&&""!=e.title?(fe.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(e.title),i=!0):fe.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(""),void 0!==e.description&&""!=e.description?(fe.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(e.description),i=!0):fe.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(""),i?fe.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").show():fe.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").hide();var n=fe.VOM.items.length;n>0&&fe.VOM.$viewer.find(".pageCounter").html(fe.VOM.items[t].imageNumber+"/"+n);var a=fe.VOM.$viewer.find(".ngy2CustomBtn");a.length>0&&null!==fe.O.fnImgToolbarCustDisplay&&("function"==typeof fe.O.fnImgToolbarCustDisplay?fe.O.fnImgToolbarCustDisplay(a,e):window[fe.O.fnImgToolbarCustDisplay](a,e)),At()}}function Ut(t){if(fe.VOM.swipePosX=t,null==fe.CSStransformName);else if(fe.VOM.$imgC[0].style[fe.CSStransformName]="translateX("+t+"px)","swipe"==fe.O.imageTransition)if(t>0){fe.VOM.$imgP;e=fe.VOM.$viewer.width();fe.VOM.$imgP.css({visibility:"visible",opacity:1}),fe.VOM.$imgP[0].style[fe.CSStransformName]="translateX("+(-e+t)+"px) ",fe.VOM.$imgN[0].style[fe.CSStransformName]="translateX("+-e+"px) "}else{fe.VOM.$imgN;var e=-fe.VOM.$viewer.width();fe.VOM.$imgN.css({visibility:"visible",opacity:1}),fe.VOM.$imgN[0].style[fe.CSStransformName]="translateX("+(-e+t)+"px) ",fe.VOM.$imgP[0].style[fe.CSStransformName]="translateX("+-e+"px) "}}function Ht(){fe.VOM.viewerImageIsChanged||(new Date).getTime()-fe.VOM.timeImgChanged<300||(ee("lightboxNextImage"),Wt(fe.VOM.IdxNext(fe.VOM.currItemIdx),"nextImage"))}function jt(){fe.VOM.viewerImageIsChanged||(new Date).getTime()-fe.VOM.timeImgChanged<300||(fe.VOM.playSlideshow&&Pt(),ee("lightboxPreviousImage"),Wt(fe.VOM.IdxPrevious(fe.VOM.currItemIdx),"previousImage"))}function Wt(t,e){fe.VOM.$imgC.children().eq(0).unbind(".imagesLoaded"),fe.VOM.playSlideshow&&window.clearTimeout(fe.VOM.playSlideshowTimerID);var i=fe.VOM.Item(fe.VOM.currItemIdx),n=fe.VOM.Item(t),a="nextImage"==e?fe.VOM.$imgN:fe.VOM.$imgP;fe.VOM.timeImgChanged=(new Date).getTime(),fe.VOM.viewerImageIsChanged=!0,fe.VOM.isZooming=!1,Zt(!0);fe.O.debugMode&&console.timeline&&console.timeline("nanogallery2_viewer"),fe.VOM.currItemIdx=t;var o=me();if(ae(n.albumID,n.GetID()),""==e)fe.VOM.$imgC.css({opacity:1,visibility:"visible"}),null==fe.CSStransformName?(a.css({opacity:1,visibility:"visible"}),Qt(t,e)):(a.css({opacity:0,visibility:"visible"}),(l=new NGTweenable).tween({from:{scale:.8,opacity:0},to:{scale:1,opacity:1},attachment:{idx:t,dT:e,item:i},easing:"easeInOutSine",duration:400,step:function(t,e){fe.VOM.$content.css("opacity",t.opacity),Xt(fe.VOM.$imgC,e.item)},finish:function(t,e){fe.VOM.$content.css("opacity",1),Xt(fe.VOM.$imgC,e.item),Dt(),Qt(e.idx,e.dT)}}));else switch(fe.O.imageTransition.toUpperCase()){case"FADE":(a="nextImage"==e?fe.VOM.$imgN:fe.VOM.$imgP).css({opacity:0,left:0,visibility:"visible"}),(l=new NGTweenable).tween({from:{o:0},to:{o:1},easing:"easeInOutSine",attachment:{idx:t,dT:e,$e:a},duration:300,step:function(t,e){fe.VOM.$imgC.css({opacity:1-t.o}),e.$e.css({opacity:t.o})},finish:function(t,e){fe.VOM.$imgC.css({opacity:0}),e.$e.css({opacity:1}),Qt(e.idx,e.dT)}});break;case"SWIPE":if(null==fe.CSStransformName)a.css({opacity:1,visibility:"visible"}),fe.VOM.$imgC.css({opacity:1}),Qt(t,e);else{r="nextImage"==e?-o.w:o.w;a.css({visibility:"visible"}),a[0].style[fe.CSStransformName]="translateX("+-r+"px) ",(l=new NGTweenable).tween({from:{t:fe.VOM.swipePosX},to:{t:"nextImage"==e?-o.w:o.w},attachment:{idx:t,dT:e,$e:a,item:i,itemNew:n,dir:r},duration:300,easing:"easeInOutSine",step:function(t,e){Xt(fe.VOM.$imgC,e.item),fe.VOM.$imgC[0].style[fe.CSStransformName]="translateX("+t.t+"px)",Xt(e.$e,e.itemNew),e.$e[0].style[fe.CSStransformName]="translateX("+(-e.dir+t.t)+"px) "},finish:function(t,e){Xt(fe.VOM.$imgC,e.item),fe.VOM.$imgC[0].style[fe.CSStransformName]="",Xt(e.$e,e.itemNew),e.$e[0].style[fe.CSStransformName]="",Qt(e.idx,e.dT)}})}break;case"SLIDEAPPEAR":default:if(null==fe.CSStransformName)a.css({opacity:1,visibility:"visible"}),fe.VOM.$imgC.css({opacity:1}),Qt(t,e);else{var r="nextImage"==e?-o.w:o.w;a.css({visibility:"visible"});var l=new NGTweenable;l.tween({from:{o:0,t:fe.VOM.swipePosX},to:{o:1,t:"nextImage"==e?-o.w:o.w},attachment:{idx:t,dT:e,$e:a,item:i,itemNew:n,dir:r},duration:300,easing:"easeInOutSine",step:function(t,e){Xt(fe.VOM.$imgC,e.item),fe.VOM.$imgC[0].style[fe.CSStransformName]="translateX("+t.t+"px)",e.$e.css({opacity:t.o}),Jt(e.$e,e.itemNew)},finish:function(t,e){Xt(fe.VOM.$imgC,e.item),fe.VOM.$imgC[0].style[fe.CSStransformName]="",e.$e.css({opacity:1}),Qt(e.idx,e.dT)}})}}}function Qt(t,e){Bt(),fe.O.debugMode&&console.timeline&&console.timelineEnd("nanogallery2_viewer"),null!==fe.O.fnImgDisplayed&&("function"==typeof fe.O.fnImgDisplayed?fe.O.fnImgDisplayed(fe.VOM.Item(t)):window[fe.O.fnImgDisplayed](fe.VOM.Item(t))),fe.VOM.swipePosX=0,fe.VOM.$imgC.off("click"),fe.VOM.$imgC.removeClass("imgCurrent");var i=fe.VOM.$imgC;switch(e){case"nextImage":fe.VOM.$imgC=fe.VOM.$imgN,fe.VOM.$imgN=i;break;case"previousImage":fe.VOM.$imgC=fe.VOM.$imgP,fe.VOM.$imgP=i}fe.VOM.$imgC.addClass("imgCurrent"),fe.VOM.$imgC.css({opacity:1}),fe.VOM.$imgN.css({opacity:0}),fe.VOM.ImageLoader.loadImage(Lt,fe.VOM.ItemNext(t).responsiveURL(),fe.VOM.ItemNext(t)),fe.VOM.$imgN.children().eq(0).attr("src",""),fe.VOM.$imgN.children().eq(0).attr("src",fe.emptyGif).attr("src",fe.VOM.ItemNext(t).responsiveURL()),St(fe.VOM.ItemNext(t),fe.VOM.$imgN.children()),fe.VOM.$imgP.css({opacity:0}),fe.VOM.$imgP.children().eq(0).attr("src",""),fe.VOM.ImageLoader.loadImage(Lt,fe.VOM.ItemPrevious(t).responsiveURL(),fe.VOM.ItemPrevious(t)),fe.VOM.$imgP.children().eq(0).attr("src",fe.emptyGif).attr("src",fe.VOM.ItemPrevious(t).responsiveURL()),St(fe.VOM.ItemPrevious(t),fe.VOM.$imgP.children()),fe.VOM.playSlideshow&&fe.VOM.$imgC.children().eq(0).ngimagesLoaded().always(function(t){fe.VOM.playSlideshow&&(fe.VOM.playSlideshowTimerID=window.setTimeout(function(){Ht()},fe.VOM.slideshowDelay))}),fe.VOM.$imgC.on("click",function(e){if(e.stopPropagation(),!((new Date).getTime()-fe.VOM.timeImgChanged<400))return kt(e),qt(t),!1}),Zt(),fe.VOM.viewerImageIsChanged=!1,ee("lightboxImageDisplayed")}function Xt(t,e){0==t[0].style.opacity&&0!=e.imageWidth&&(Jt(t,e),t[0].style.opacity=1)}function qt(t){fe.VOM.viewerImageIsChanged=!1,fe.VOM.viewerDisplayed&&(jQuery("body").css({overflow:"visible"}),fe.VOM.playSlideshow&&(window.clearTimeout(fe.VOM.playSlideshowTimerID),fe.VOM.playSlideshow=!1),fe.VOM.hammertime.destroy(),fe.VOM.hammertime=null,ngscreenfull.enabled&&fe.VOM.viewerIsFullscreen&&(fe.VOM.viewerIsFullscreen=!1,ngscreenfull.exit()),fe.VOM.$cont.hide(0).off().show(0).html("").remove(),fe.VOM.viewerDisplayed=!1,null!=t&&(-1==fe.GOM.albumIdx?r("",fe.VOM.Item(t).albumID):(I(),ae(fe.VOM.Item(t).albumID,""),B())),fe.VOM.timeImgChanged=(new Date).getTime())}function Zt(t){t=void 0!==t&&t;var e=fe.VOM.$viewer.width(),i=fe.VOM.$viewer.height(),n=fe.VOM.$imgC.children().eq(0);if(null!=n&&-1!=fe.VOM.currItemIdx&&(t||fe.VOM.window.lastWidth!=e||fe.VOM.window.lastHeight!=i)){fe.VOM.window.lastWidth=e,fe.VOM.window.lastHeight=i;n.height(),n.width(),n.outerHeight(!0),n.outerHeight(!1);var a=fe.VOM.$toolbar.find(".toolbar").outerHeight(!0);switch(fe.O.viewerToolbar.position){case"topOverImage":fe.VOM.$content.css({height:i,width:e,top:0}),fe.VOM.$toolbar.css({top:0,bottom:""});break;case"top":i-=a,fe.VOM.$content.css({height:i,width:e,top:a}),fe.VOM.$toolbar.css({top:0});break;case"bottomOverImage":fe.VOM.$content.css({height:i,width:e,bottom:0,top:0}),fe.VOM.$toolbar.css({bottom:0});break;case"bottom":default:i-=a,fe.VOM.$content.css({width:e,top:0,bottom:a}),fe.VOM.$toolbar.css({bottom:0})}if(!fe.VOM.viewerImageIsChanged&&fe.VOM.isZooming)Kt(fe.VOM.panPosX,fe.VOM.panPosY,!1);else{fe.VOM.isZooming=!1,fe.VOM.panPosX=0,fe.VOM.panPosY=0,fe.VOM.zoomPosX=0,fe.VOM.zoomPosY=0,fe.VOM.$imgC[0].style[fe.CSStransformName]="translate3D(0,0,0) ";fe.VOM.padding.H;var o=fe.VOM.Item(fe.VOM.currItemIdx);Jt(fe.VOM.$imgC,o),Jt(fe.VOM.$imgN,fe.VOM.ItemNext(fe.VOM.currItemIdx)),Jt(fe.VOM.$imgP,fe.VOM.ItemPrevious(fe.VOM.currItemIdx))}}}function Jt(t,e){var i=fe.VOM.window.lastWidth-fe.VOM.padding.H;if(e.imageWidth>0&&window.devicePixelRatio>1){var n=e.imageWidth/window.devicePixelRatio;i>n&&(i=n)}t.find("img").css({"max-width":i,"max-height":fe.VOM.window.lastHeight-fe.VOM.padding.V,height:"auto",width:"auto"})}function Kt(t,e,i){i&&(fe.VOM.panPosX=t,fe.VOM.panPosY=e),t+=fe.VOM.zoomPosX,e+=fe.VOM.zoomPosY,fe.VOM.$imgC[0].style[fe.CSStransformName]="translate3D("+t+"px, "+e+"px, 0) "}function te(){var t=fe.$E.base.children("a");t.length>0&&(fe.O.$markup=t),fe.$E.base.text(""),fe.$E.base.addClass("ngy2_container");fe.O.RTL,fe.$E.base.addClass(fe.O.theme),ut(),fe.O.thumbnailLabel.get("hideIcons")&&(fe.O.icons.thumbnailAlbum="",fe.O.icons.thumbnailImage="");var e="";switch(void 0!=fe.O.navigationFontSize&&""!=fe.O.navigationFontSize&&(e=' style="font-size:'+fe.O.navigationFontSize+';"'),fe.$E.conNavigationBar=jQuery('<div class="nGY2Navigationbar" '+e+"></div>").appendTo(fe.$E.base),fe.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(fe.$E.base),fe.$E.conTnParent=jQuery('<div class="nGY2Gallery"></div>').appendTo(fe.$E.base),fe.$E.conTn=jQuery('<div class="nGY2GallerySub"></div>').appendTo(fe.$E.conTnParent),fe.O.thumbnailAlignment){case"left":fe.$E.conTnParent.css({"text-align":"left"});break;case"right":fe.$E.conTnParent.css({"text-align":"right"})}if(void 0!==fe.O.galleryBuildInit2)for(var i=fe.O.galleryBuildInit2.split("|"),n=0;n<i.length;n++){var a=i[n].split("_");2==a.length&&fe.$E.conTn.css(a[0],a[1])}for(var o=fe.tn.hoverEffects.std.concat(fe.tn.hoverEffects.level1),r=0;r<o.length;r++)switch(o[r].type){case"scale":case"rotateZ":case"rotateX":case"rotateY":case"translateX":case"translateY":case"translateY":".nGY2GThumbnail"==o[r].element&&(fe.$E.base.css("overflow","visible"),fe.$E.base.find(".nGY2GallerySub").css("overflow","visible"),fe.$E.conTnParent.css("overflow","visible"))}if(fe.$E.conTnBottom=jQuery('<div class="nGY2GalleryBottom" '+e+"></div>").appendTo(fe.$E.conTnParent),fe.O.portable){fe.$E.ngy2i=jQuery('<div class="nGY2PortInfo"><a href="http://nano.gallery" target="_blank" title="nanogallery2 | easy photo gallery for your website" style="font-weight: bold !important;color: #888 !important;font-size: 11px !important;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAWCAYAAAA4oUfxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4QMPBwY6mxZgsAAABTFJREFUSMe1ll9oVGcaxn/fd86ZSWbSkEBMiWNdTTfRxiVbXFiU1bjKGqNexlURKys0tHqXpQZ64Sq4FxKqFy4qFSm9kA1FHNhFISgJqFCd6lL/YC7M3jhrJv5JmGSSMzPnzDnfuxdpZtP4b1vaF154P3gPD+/zPC/nVSKiAQOsBj7O5XK/nZiYeEtELH6iUEqFNTU1U9XV1d8AnwNfA1qJCMCfHz169NcjR45UXL16VWWzWQnD0PxU4JZl6draWtXW1iYHDx4sLlmy5C/AZwRB0JVOpyWRSHhACMjPmOHChQuL6XRagiDoUiIyumvXrpq+vr6obduqs7OTjRvbsbSFUgqUgKjyFG5+mlKpVH6LCMYYRAQRQSmF1hqtNd+xijGGVCpFMpkkCALZuXOn19fXN6Gmp6dNc3NzMDo66nR2dnL+/Hm+Ov933PwUAPHKagqei4gBFNs7dxGPx38U/du2bSOZTNLQ0FB6+PChbWez2WI+n3dEhI3tf+Det0N8de0Imz9YQWHa48u/3afjgxbqEpUM/es/uF8W+fijffi+TywWQ0S4fv06t2/fJpfLsXjxYtauXUtTUxNBECAihGFIJBJh1apVXLhwgXw+r7LZbNGeYU7MLD1BEPCLxkWs+HUT+SmPJY0TvPerd6l/J05YcLCGHWzbxrZtHjx4wP79+7l27dr3Jqyurqarq4ujR49i2zYAWmvCMJyVygCiZ7dh9kOtNb5XopD3KBQ8fL9EseBRyHsUCz6zS3Dnzh3WrVtXBq6oqGDBggUA5HI5jh07xo4dOzDmf0ujVBlGAWjmhTGC41hEow6RiI3j2DgRh0jUxonYWJaFGGHPnj2Mj49jWRYHDhzg7t27DA0NMTAwwOrVqwFIJpOcOHECx3Fe6oEXwG3bYux5ltHHz3mSGePpk+c8yczUI+knVFVVcePmDe7fvw9AT08Pvb29NDc3U1dXx4YNG7h8+TItLS1orTl58iT5fL68Ga8En55yWb6iifff/iPD/0iQGfglG3/zJ6a+beHf/3yH6Mjv+P269Vy5cgWlFDU1NXR3dxOGYdlcnudRVVXFvn37MMaQTqcZHh5+Kbg99zHjSodPuj997cqMjY0hItTW1hKPx9FalzW1LIswDFm0aBEAQRDguu6bJ581hOd5GBNiTEgYhuXa8z1EhIaGBgAymQzpdBqlFKVSiTCc6bcsi5s3bwJQWVlJfX39fMO9XHMAy7LQeibn1o7toJSio6MDAN/36e7uxvd9IpEIlmURjUZJpVKcOXMGpRStra0sXbr0peDfo30+LS+4U2uMMaxcuZLdu3dz7tw5+vv7aWtrY+/evdTX13Pr1i1OnTrF5OQkAIcPH8ayrNeCvx51njTGGE6fPk0mk2FwcJBUKkUqlXqh9/jx42zatKnMzJzhBEArpZT+zjGWZSEiBEHwypzVtbKykosXL3Lo0CEaGxvLpovFYqxZs4ZLly6VJQnDEBEpM6C11kopheu6JpFI+Fpr2bJli/zYGBkZkeHhYZmcnHxlz9atW0VrLYlEwndd19ixWOzx5s2b3z579qzp7+/X7e3ttLa2Yox5QaP5MfenEY1G0VoTBAHFYhFjTJlJrTX37t1jYGAAY4zp6OiQWCz2mCAItj979kyWL1/uAwE/7zERLFu2zH/69KkEQbB99ozaOz4+fqy3t7d2cHAwdF1XKaXe6P7/16AiQjwel/Xr1+uenp6Jurq6T4Av1JwD8j3gQ2BVsVh8S72J8x8QIiIVFRVTQAo4CwwB+r93qCLI9wKZ8AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMy0xNVQwNzowNjo1OC0wNDowMBNQsyUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDMtMTVUMDc6MDY6NTgtMDQ6MDBiDQuZAAAAAElFTkSuQmCC" style="height:16px !important;box-shadow: none !important;vertical-align: middle !important;"/> &nbsp; nanogallery2</a></div>').appendTo(fe.$E.base),fe.$E.ngy2i.find("a").on({mouseenter:function(){jQuery(this).attr("style","color: #73A623 !important")},mouseleave:function(){jQuery(this).attr("style","color: #888 !important")}})}switch(fe.$E.conConsole=jQuery('<div class="nGY2ConsoleParent"></div>').appendTo(fe.$E.base),le(),rt(),fe.tn.opt.Get("displayTransition")){case"SCALEDOWN":case"RANDOMSCALE":default:fe.$E.base.css("overflow","visible"),fe.$E.conTnParent.css("overflow","visible"),fe.$E.conTn.css("overflow","visible")}}function ee(t){var e=t+".nanogallery2",i=null;try{i=new Event(e)}catch(t){(i=document.createEvent("Event")).initEvent(e,!1,!1)}fe.$E.base.trigger(e,i)}function ie(){fe.$E.conTnParent.on({mouseenter:wt,mouseleave:It},".nGY2GThumbnail"),fe.GOM.hammertime=new NGHammer(fe.$E.conTn[0]),fe.GOM.hammertime.on("pan",function(t){fe.O.paginationSwipe&&fe.layout.support.rows&&"PAGINATION"==fe.galleryDisplayMode.Get()&&fe.$E.conTn.css(fe.CSStransformName,"translateX("+t.deltaX+"px)")}),fe.GOM.hammertime.on("panend",function(t){if(fe.O.paginationSwipe&&fe.layout.support.rows&&"PAGINATION"==fe.galleryDisplayMode.Get()){if(Math.abs(t.deltaY)>100)return void fe.$E.conTn.css(fe.CSStransformName,"translateX(0px)");if(t.deltaX>50)return void g();if(t.deltaX<-50)return void p();fe.$E.conTn.css(fe.CSStransformName,"translateX(0px)")}}),fe.GOM.hammertime.on("tap",function(t){if(t.srcEvent.stopPropagation(),t.srcEvent.preventDefault(),"mouse"==t.pointerType){if("exit"==mt(t.srcEvent))return}else{var e=Gt(t.srcEvent,!1);if(-1==e.GOMidx)return;if("NONE"!=e.action&&"OPEN"!=e.action)return void mt(t.srcEvent);fe.O.touchAutoOpenDelay>0?(H(),U(e.GOMidx),window.clearInterval(fe.touchAutoOpenDelayTimerID),fe.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(fe.touchAutoOpenDelayTimerID),Tt(fe.GOM.items[e.GOMidx].thumbnailIdx,!0)},fe.O.touchAutoOpenDelay)):fe.I[fe.GOM.items[e.GOMidx].thumbnailIdx].hovered?Tt(fe.GOM.items[e.GOMidx].thumbnailIdx,!0):(H(),U(e.GOMidx))}}),fe.O.locationHash&&jQuery(window).bind("hashchange",function(){ne()}),jQuery(window).on("resize.nanogallery2."+fe.baseEltID,ge(oe,100,!1)),t(window).on("scroll.nanogallery2."+fe.baseEltID,ge(re,100,!1)),fe.VOM.toolsHide=ge(Et,fe.O.viewerHideToolsDelay,!1),jQuery(document).keyup(function(t){if(fe.popup.isDisplayed)switch(t.keyCode){case 27:fe.popup.close()}else if(fe.VOM.viewerDisplayed)switch(Dt(),t.keyCode){case 27:qt(fe.VOM.currItemIdx);break;case 32:case 13:Pt();break;case 38:case 39:case 33:Ht();break;case 40:case 37:case 34:jt()}}),jQuery(window).bind("mousewheel wheel",function(t){if(fe.VOM.viewerDisplayed){var e=0;t.preventDefault(),$t()&&(t.originalEvent.deltaY?e=t.originalEvent.deltaY:t.originalEvent.wheelDelta&&(e=-t.originalEvent.wheelDelta),Yt(e<=0))}}),jQuery(window).bind("mousemove",function(t){fe.galleryResizeEventEnabled&&Dt()}),ngscreenfull.enabled&&ngscreenfull.onchange(function(){fe.VOM.viewerDisplayed&&(ngscreenfull.isFullscreen?(fe.VOM.viewerIsFullscreen=!0,fe.VOM.$viewer.find(".fullscreenButton").html(fe.O.icons.viewerFullscreenOff)):(fe.VOM.viewerIsFullscreen=!1,fe.VOM.$viewer.find(".fullscreenButton").html(fe.O.icons.viewerFullscreenOn)))})}function ne(){if(!fe.O.locationHash)return!1;var t="#nanogallery/"+fe.baseEltID+"/",e=location.hash;if(fe.O.debugMode&&(console.log("------------------------ PROCESS LOCATION HASH"),console.log("newLocationHash1: "+e),console.log("G.locationHashLastUsed: "+fe.locationHashLastUsed)),""==e&&""!==fe.locationHashLastUsed)return fe.O.debugMode&&console.log("display root album"),fe.locationHashLastUsed="",fe.O.debugMode&&console.log("new3 G.locationHashLastUsed: "+fe.locationHashLastUsed),r("","0"),!0;if(e!=fe.locationHashLastUsed){if(0==e.indexOf(t)){var i=o(e.substring(t.length));return"0"!=i.imageID?(fe.O.debugMode&&console.log("display image: "+i.albumID+"-"+i.imageID),W(i.imageID,i.albumID),!0):(fe.O.debugMode&&console.log("display album: "+i.albumID),r("-1",i.albumID),!0)}return!1}}function ae(t,e){if(!fe.O.locationHash)return!1;if(fe.O.debugMode&&console.log("------------------------ SET LOCATION HASH"),""==e&&("-1"==t||"0"==t||fe.O.album==t))return""!=location.hash&&("pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):location.hash=""),fe.locationHashLastUsed="",void(fe.O.debugMode&&console.log("new2 G.locationHashLastUsed: "+fe.locationHashLastUsed));var i="#nanogallery/"+fe.baseEltID+"/"+t;""!=e&&(i+="/"+e);var n=location.hash;if(fe.O.debugMode&&(console.log("newLocationHash2: "+i),console.log("location.hash: "+n)),fe.locationHashLastUsed=i,fe.O.debugMode&&console.log("new G.locationHashLastUsed: "+fe.locationHashLastUsed),""==n||n!=i)try{top.location.hash=i}catch(t){fe.O.locationHash=!1}}function oe(){if(fe.VOM.viewerDisplayed)Zt();else if(fe.galleryResizeEventEnabled){var t=ue();-1==fe.GOM.albumIdx||fe.tn.settings.getH()==fe.tn.settings.height[fe.GOM.curNavLevel][t]&&fe.tn.settings.getW()==fe.tn.settings.width[fe.GOM.curNavLevel][t]?I():(fe.GOM.curWidth=t,fe.GOM.pagination.currentPage=0,b(fe.GOM.albumIdx))}}function re(){fe.scrollTimeOut&&clearTimeout(fe.scrollTimeOut),fe.scrollTimeOut=setTimeout(function(){fe.VOM.viewerDisplayed||fe.galleryResizeEventEnabled&&I()},10)}function le(){fe.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===fe.i18nLang&&(fe.i18nLang="");var t=-("_"+fe.i18nLang).length;if("object"==Oe(fe.O.i18n))for(var e in fe.O.i18n){var i=e.substr(t);i=="_"+fe.i18nLang?fe.i18nTranslations[e.substr(0,e.length-i.length)]=fe.O.i18n[e]:fe.i18nTranslations[e]=fe.O.i18n[e]}}function se(t,e){return""!=fe.i18nLang&&void 0!==t[e+"_"+fe.i18nLang]&&t[e+"_"+fe.i18nLang].length>0?t[e+"_"+fe.i18nLang]:t[e]}function ue(){var t=me().w;return fe.O.breakpointSizeSM>0&&t<fe.O.breakpointSizeSM?"xs":fe.O.breakpointSizeME>0&&t<fe.O.breakpointSizeME?"sm":fe.O.breakpointSizeLA>0&&t<fe.O.breakpointSizeLA?"me":fe.O.breakpointSizeXL>0&&t<fe.O.breakpointSizeXL?"la":"xl"}function ce(){var t="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";t+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/?hl=en-US)">Chrome</a><br>',t+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/)">Firefox</a><br>',t+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>',be(fe,t+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',!1)}function he(t){for(var e=document.createElement("div"),i=0;i<t.length;++i)if(void 0!==e.style[t[i]])return t[i];return null}function me(){var t=jQuery(window);return{l:t.scrollLeft(),t:t.scrollTop(),w:t.width(),h:t.height()}}function de(t,e){var i=0;""==t&&(t="*"),jQuery(t).each(function(){var t=parseInt(jQuery(this).css("z-index"));i=t>i?t:i}),i++,jQuery(e).css("z-index",i)}this.ReloadAlbum=function(){if(""===fe.O.kind)throw"Not supported for this content source:"+fe.O.kind;var t=fe.GOM.albumIdx;if(-1==t)throw"Current album not found.";for(var e=fe.I[t].GetID(),i=fe.I.length,n=0;n<i;n++){var a=fe.I[n];a.albumID==e&&(a.selected=!1)}fe.I[t].contentIsLoaded=!1,r("-1",e)},this.ItemsSetSelectedValue=function(t,e){for(var i=t.length,n=0;n<i;n++)bt(t[n],e)},this.ItemsSelectedGet=function(){for(var t=[],e=fe.I.length,i=0;i<e;i++)1==fe.I[i].selected&&t.push(fe.I[i]);return t},this.Get=function(t){return fe.O[t]},this.Set=function(t,e){switch(fe.O[t]=e,t){case"thumbnailSelectable":gt(),b(fe.GOM.albumIdx)}},this.Refresh=function(){b(fe.GOM.albumIdx)},this.DisplayItem=function(t){var e=o(t);"0"!=e.imageID?W(e.imageID,e.albumID):r("-1",e.albumID)};var pe=function(t){if(void 0==fe.I[t])return 0;for(var e=fe.I[t].GetID(),i=fe.I.length,n=0,a=0;a<i;a++)fe.I[a].isToDisplay(e)&&n++;return n};this.Search=function(t){fe.GOM.albumSearch=t.toUpperCase();var e=fe.GOM.albumIdx;return b(fe.GOM.albumIdx),pe(e)},this.Search2=function(t,e){return fe.GOM.albumSearch=null!=t&&void 0!=t?t.toUpperCase():"",fe.GOM.albumSearchTags=null!=e&&void 0!=e?e.toUpperCase():"",pe(fe.GOM.albumIdx)},this.Search2Execute=function(){var t=fe.GOM.albumIdx;return b(fe.GOM.albumIdx),pe(t)},this.Destroy=function(){null!=fe.GOM.hammertime&&(fe.GOM.hammertime.destroy(),fe.GOM.hammertime=null),null!=fe.VOM.hammertime&&(fe.VOM.hammertime.destroy(),fe.VOM.hammertime=null),t("#ngycs_"+fe.baseEltID).remove(),fe.GOM.items=[],fe.GOM.navigationBar.$newContent=null,fe.$E.base.empty(),fe.$E.base.removeData(),jQuery(window).off("resize.nanogallery2."+fe.baseEltID),jQuery(window).off("scroll.nanogallery2."+fe.baseEltID),fe.GOM.firstDisplay=!1};var ge=function(t,e,i){var n;return function(){function a(){i||t.apply(o,r),n=null}var o=this,r=arguments;n?clearTimeout(n):i&&t.apply(o,r),n=setTimeout(a,e||100)}},fe=this;fe.I=[],fe.Id=[],fe.O=null,fe.baseEltID=null,fe.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conNavigationBar:null,conTnBottom:null},fe.shoppingCart=[],fe.layout={internal:!0,engine:"",support:{rows:!1},prerequisite:{imageSize:!1},SetEngine:function(){if(fe.layout.internal){if("auto"==fe.tn.settings.getW()||""==fe.tn.settings.getW())return fe.layout.engine="JUSTIFIED",fe.layout.support.rows=!0,void(fe.layout.prerequisite.imageSize=!0);if("auto"==fe.tn.settings.getH()||""==fe.tn.settings.getH())return fe.layout.engine="CASCADING",fe.layout.support.rows=!1,void(fe.layout.prerequisite.imageSize=!0);fe.layout.engine="GRID",fe.layout.support.rows=!0,!0===fe.tn.opt.Get("crop")?fe.layout.prerequisite.imageSize=!0:fe.layout.prerequisite.imageSize=!1}}},fe.galleryResizeEventEnabled=!1,fe.galleryMaxRows={l1:0,lN:0,Get:function(){return fe.galleryMaxRows[fe.GOM.curNavLevel]}},fe.galleryMaxItems={l1:0,lN:0,Get:function(){return fe.galleryMaxItems[fe.GOM.curNavLevel]}},fe.galleryFilterTags={l1:0,lN:0,Get:function(){return fe.galleryFilterTags[fe.GOM.curNavLevel]}},fe.galleryDisplayMode={l1:"FULLCONTENT",lN:"FULLCONTENT",Get:function(){return fe.galleryDisplayMode[fe.GOM.curNavLevel]}},fe.galleryLastRowFull={l1:!1,lN:!1,Get:function(){return fe.galleryLastRowFull[fe.GOM.curNavLevel]}},fe.gallerySorting={l1:"",lN:"",Get:function(){return fe.gallerySorting[fe.GOM.curNavLevel]}},fe.galleryDisplayTransition={l1:"none",lN:"none",Get:function(){return fe.galleryDisplayTransition[fe.GOM.curNavLevel]}},fe.galleryDisplayTransitionDuration={l1:500,lN:500,Get:function(){return fe.galleryDisplayTransitionDuration[fe.GOM.curNavLevel]}},fe.$currentTouchedThumbnail=null,fe.tn={opt:{l1:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},lN:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},Get:function(t){return fe.tn.opt[fe.GOM.curNavLevel][t]}},scale:1,borderWidth:0,borderHeight:0,labelHeight:{l1:0,lN:0,get:function(){return fe.tn.labelHeight[fe.GOM.curNavLevel]}},defaultSize:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},getWidth:function(){return fe.tn.defaultSize.width[fe.GOM.curNavLevel][fe.GOM.curWidth]},getOuterWidth:function(){return fe.tn.defaultSize.width[fe.GOM.curNavLevel][fe.GOM.curWidth]+2*fe.tn.borderWidth},getHeight:function(){return fe.tn.defaultSize.height[fe.GOM.curNavLevel][fe.GOM.curWidth]},getOuterHeight:function(){return fe.tn.defaultSize.height[fe.GOM.curNavLevel][fe.GOM.curWidth]+2*fe.tn.borderHeight}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return fe.tn.settings.height[fe.GOM.curNavLevel][fe.GOM.curWidth]},getW:function(){return fe.tn.settings.width[fe.GOM.curNavLevel][fe.GOM.curWidth]}},hoverEffects:{std:[],level1:[],get:function(){return"l1"==fe.GOM.curNavLevel&&0!==fe.tn.hoverEffects.level1.length?fe.tn.hoverEffects.level1:fe.tn.hoverEffects.std}},buildInit:{std:[],level1:[],get:function(){return"l1"==fe.GOM.curNavLevel&&0!==fe.tn.buildInit.level1.length?fe.tn.buildInit.level1:fe.tn.buildInit.std}},toolbar:{album:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},image:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},albumUp:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},get:function(t){return fe.tn.toolbar[t.kind]}},style:{l1:{annotation:"",label:"",title:"",desc:""},lN:{annotation:"",label:"",title:"",desc:""},getTitle:function(){return'style="'+fe.tn.style[fe.GOM.curNavLevel].title+'"'},getDesc:function(){return'style="'+fe.tn.style[fe.GOM.curNavLevel].desc+'"'},getAnnotation:function(){var t='style="'+fe.tn.style[fe.GOM.curNavLevel].annotation;return t+=fe.O.RTL?'"direction:RTL;"':"",t+='"'},getLabel:function(){return'style="'+fe.tn.style[fe.GOM.curNavLevel].label+'"'}}},fe.scrollTimeOut=0,fe.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},fe.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",fe.CSStransformName=he(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),fe.CSStransformStyle=he(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),fe.CSSperspective=he(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),fe.CSSbackfaceVisibilityName=he(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),fe.CSStransitionName=he(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),fe.CSSanimationName=he(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),fe.GalleryResizeThrottled=function(t,e,i){var n,a,o,r=null,l=0;i||(i={});var s=function(){l=!1===i.leading?0:(new Date).getTime(),r=null,o=t.apply(n,a),r||(n=a=null)};return function(){var u=(new Date).getTime();l||!1!==i.leading||(l=u);var c=e-(u-l);return n=this,a=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),l=u,o=t.apply(n,a),r||(n=a=null)):r||!1===i.trailing||(r=setTimeout(s,c)),o}}(I,100,{leading:!1}),fe.blackList=null,fe.whiteList=null,fe.albumList=[],fe.albumListHidden=[],fe.locationHashLastUsed="",fe.custGlobals={},fe.touchAutoOpenDelayTimerID=0,fe.i18nLang="",fe.timeLastTouchStart=0,fe.custGlobals={},fe.GOM={albumIdx:-1,clipArea:{top:0,height:0},displayArea:{width:0,height:0},displayAreaLast:{width:0,height:0},displayedMoreSteps:0,items:[],$imgPreloader:[],itemsDisplayed:0,firstDisplay:!0,navigationBar:{displayed:!1,$newContent:""},cache:{viewport:null,containerOffset:null},nbSelected:0,pagination:{currentPage:0},lastFullRow:-1,lastDisplayedIdx:-1,displayInterval:{from:0,len:0},userEvents:null,hammertime:null,curNavLevel:"l1",curWidth:"me",albumSearch:"",albumSearchTags:"",lastZIndex:0,lastRandomValue:0},fe.VOM={viewerDisplayed:!1,viewerIsFullscreen:!1,infoDisplayed:!1,toolbarsDisplayed:!0,toolsHide:null,currentZoom:1,isZooming:!1,padding:{H:0,V:0},window:{lastWidth:0,lastHeight:0},$cont:null,$viewer:null,$toolbar:null,$toolbarTL:null,$toolbarTR:null,$content:null,$imgP:null,$imgC:null,$imgN:null,toolbarMode:"std",playSlideshow:!1,playSlideshowTimerID:0,slideshowDelay:3e3,albumID:-1,currItemIdx:-1,viewerImageIsChanged:!1,items:[],Item:function(t){return fe.I[this.items[t].imageIdx]},IdxNext:function(t){var e=0;return t!=fe.VOM.items.length-1&&(e=t+1),e},IdxPrevious:function(t){var e=t-1;return 0==t&&(e=fe.VOM.items.length-1),e},ItemNext:function(t){return fe.I[this.items[this.IdxNext(t)].imageIdx]},ItemPrevious:function(t){return fe.I[this.items[this.IdxPrevious(t)].imageIdx]},userEvents:null,hammertime:null,swipePosX:0,panPosX:0,panPosY:0,zoomPosX:0,zoomPosY:0,colorSchemeLabel:"",timeImgChanged:0,ImageLoader:{maxChecks:1e3,list:[],intervalHandle:null,loadImage:function(t,e,i){var n=new Image;if(n.src=e,n.width&&n.height)t(n.width,n.height,e,i,0);else{var a,o={image:n,url:e,ngitem:i,callback:t,checks:1};for(a=0;a<this.list.length&&null!=this.list[a];a++);this.list[a]=o,this.intervalHandle||(this.intervalHandle=setInterval(this.interval,60))}},interval:function(){for(var t,e=0,i=fe.VOM.ImageLoader.list,n=0;n<i.length;n++)null!=(t=i[n])&&(t.image.width&&t.image.height?(t.callback(t.image.width,t.image.height,t.url,t.ngitem,t.checks),fe.VOM.ImageLoader.list[n]=null):t.checks>fe.VOM.ImageLoader.maxChecks?(t.callback(0,0,t.url,t.ngitem,t.checks),fe.VOM.ImageLoader.list[n]=null):(e++,t.checks++));0==e&&(fe.VOM.ImageLoader.list=[],clearInterval(fe.VOM.ImageLoader.intervalHandle),delete fe.VOM.ImageLoader.intervalHandle)}}},fe.popup={isDisplayed:!1,$elt:null,close:function(){null!=this.$elt&&(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},attachment:{t:this},easing:"easeInOutSine",duration:100,step:function(t,e){null!=e.t.$elt&&e.t.$elt.css("opacity",t.opacity)},finish:function(t,e){null!=e.t.$elt&&(e.t.$elt.remove(),e.t.$elt=null),e.t.isDisplayed=!1}})}},fe.colorScheme_dark={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#111",color:"#fff",colorHover:"#ccc",borderRadius:"4px"},navigationFilter:{color:"#ddd",background:"#111",colorSelected:"#fff",backgroundSelected:"#111",borderRadius:"4px"},thumbnail:{background:"#444",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#aaa"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#111",backgroundSelected:"#666",color:"#fff",borderRadius:"4px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},fe.colorScheme_light={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#eee",color:"#000",colorHover:"#333",borderRadius:"4px"},navigationFilter:{background:"#eee",color:"#222",colorSelected:"#000",backgroundSelected:"#eee",borderRadius:"4px"},thumbnail:{background:"#444",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#888"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#eee",backgroundSelected:"#aaa",color:"#000",borderRadius:"4px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},fe.colorSchemeViewer_dark={background:"#000",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},fe.colorSchemeViewer_border={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},fe.colorSchemeViewer_light={background:"#f8f8f8",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var be=NGY2Tools.NanoAlert,ve=NGY2Tools.NanoConsoleLog;this.initiateGallery2=function(t,e){fe.O=e,fe.$E.base=jQuery(t),fe.baseEltID=fe.$E.base.attr("id"),void 0==fe.baseEltID&&(fe.baseEltID="my_nanogallery",fe.$E.base.attr("id",fe.baseEltID)),fe.O.$markup=[],tt(),ht(),te(),ie();var i=fe.O.album;if(""==i&&""!=fe.O.photoset&&(i=fe.O.photoset),""==i||(fe.O.displayBreadcrumb=!1,"NONE"==i.toUpperCase())){NGY2Item.New(fe,fe.i18nTranslations.breadcrumbHome,"","0","-1","album");n()}else{var a=i.indexOf("&authkey=");if(-1==a&&(a=i.indexOf("?authkey=")),a>0){fe.O.locationHash=!1;var o=i.substring(0,a),l=i.substring(a);-1==l.indexOf("Gv1sRg")&&(l="&authkey=Gv1sRg"+l.substring(9)),NGY2Item.New(fe,"","",o,"-1","album").authkey=l,r("-1",o)}else{"nano_photos_provider2"==fe.O.kind&&i==decodeURIComponent(i)&&(i=encodeURIComponent(i),fe.O.album=i);NGY2Item.New(fe,"","",i,"-1","album");r("-1",i)}}};var ye={RANDOMSCALE:function(t,e){function i(t,e){return Math.floor(Math.random()*(e-t+1)+t)}for(var n=[.95,1,1.05,1.1],a=[1,2,3,4],o=i(0,3);o==fe.GOM.lastRandomValue;)o=i(0,3);fe.GOM.lastRandomValue=o;var r=n[o];t.$elt.css({"z-index":fe.GOM.lastZIndex+a[o],"box-shadow":"0px 0px 5px 3px rgba(0,0,0,0.74)"});var l=new NGTweenable;l.tween({from:{scale:.5,opacity:0},to:{scale:r,opacity:1},attachment:{$e:t.$elt,item:t,tw:l},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?e.$e.css(fe.CSStransformName,"scale("+t.scale+")").css("opacity",t.opacity):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(e.$e.css(fe.CSStransformName,"scale("+t.scale+")").css("opacity",""),P(e.item))}})},SCALEUP:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=.6);var n=new NGTweenable;n.tween({from:{scale:i,opacity:0},to:{scale:1,opacity:1},attachment:{$e:t.$elt,item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?e.$e.css(fe.CSStransformName,"scale("+t.scale+")").css("opacity",t.opacity):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(e.$e.css(fe.CSStransformName,"").css("opacity",""),P(e.item))}})},SCALEDOWN:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=1.3);var n=new NGTweenable;n.tween({from:{scale:i,opacity:0},to:{scale:1,opacity:1},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.last().css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","scale",t.scale),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(e.item.$elt.last().css("opacity",""),e.item.CSSTransformSet(".nGY2GThumbnail","scale",t.scale),e.item.CSSTransformApply(".nGY2GThumbnail"),P(e.item))}})},SLIDEUP:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=50);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i},to:{opacity:1,translateY:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateY",t.translateY+"px"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},SLIDEDOWN:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-50);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i},to:{opacity:1,translateY:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateY",t.translateY+"px"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},FLIPUP:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=100);var n=new NGTweenable;n.tween({from:{opacity:0,translateX:i,rotateX:45},to:{opacity:1,translateX:0,rotateX:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateX:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateY",t.translateX+"px"),e.item.CSSTransformSet(".nGY2GThumbnail","rotateX",t.rotateX+"deg"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},FLIPDOWN:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-100);var n=new NGTweenable;n.tween({from:{opacity:0,translateX:i,rotateX:-45},to:{opacity:1,translateX:0,rotateX:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateX:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateY",t.translateX+"px"),e.item.CSSTransformSet(".nGY2GThumbnail","rotateX",t.rotateX+"deg"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},SLIDEUP2:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=100);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i,rotateY:40},to:{opacity:1,translateY:0,rotateY:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateX:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateY",t.translateY+"px"),e.item.CSSTransformSet(".nGY2GThumbnail","rotateY",t.rotateY+"deg"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},SLIDEDOWN2:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-100);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i,rotateY:40},to:{opacity:1,translateY:0,rotateY:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:fe.tn.opt.Get("displayTransitionEasing")},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateY",t.translateY+"px"),e.item.CSSTransformSet(".nGY2GThumbnail","rotateY",t.rotateY+"deg"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){this._step(t,e),e.item.$elt.css("opacity",""),e.item.CSSTransformApply(".nGY2GThumbnail"),P(e.item)}})},SLIDERIGHT:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-150);var n=new NGTweenable;n.tween({from:{opacity:0,translateX:i,rotateZ:10},to:{opacity:1,translateX:0,rotateZ:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",translateX:fe.tn.opt.Get("displayTransitionEasing"),rotateZ:"easeOutQuart"},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateX",t.translateX+"px"),e.item.CSSTransformSet(".nGY2GThumbnail","rotateZ",t.rotateZ+"deg"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},SLIDELEFT:function(t,e){var i=fe.tn.opt.Get("displayTransitionStartVal");0==i&&(i=150);var n=new NGTweenable;n.tween({from:{opacity:0,translateX:i,rotateZ:-10},to:{opacity:1,translateX:0,rotateZ:0},attachment:{item:t,tw:n},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",translateX:fe.tn.opt.Get("displayTransitionEasing"),rotateZ:"easeOutQuart"},step:function(t,e){null!==e.item.$elt?(e.item.$elt.css("opacity",t.opacity),e.item.CSSTransformSet(".nGY2GThumbnail","translateX",t.translateX+"px"),e.item.CSSTransformSet(".nGY2GThumbnail","rotateZ",t.rotateZ+"deg"),e.item.CSSTransformApply(".nGY2GThumbnail")):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(this._step(t,e),e.item.$elt.css("opacity",""),P(e.item))}})},FADEIN:function(t,e){var i=new NGTweenable;i.tween({from:{opacity:0},to:{opacity:1},attachment:{$e:t.$elt,item:t,tw:i},delay:e,duration:fe.tn.opt.Get("displayTransitionDuration"),easing:"easeInOutSine",step:function(t,e){null!==e.item.$elt?e.$e.css(t):e.tw.stop(!1)},finish:function(t,e){null!==e.item.$elt&&(e.$e.css("opacity",""),P(e.item))}})}},Oe=function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}}t.nanogallery2=function(t,i){var n=this;n.$e=jQuery(t),n.e=t,n.$e.data("nanogallery2data",n),n.init=function(){void 0===window.NGY2Item&&(window.NGY2Tools=function(){function t(){}return t.FilterAlbumName=function(t,e){var i=t.toUpperCase();if(!(this.albumList.length>0)){var n=!1;if(null!==this.whiteList){for(a=0;a<this.whiteList.length;a++)-1!==i.indexOf(this.whiteList[a])&&(n=!0);if(!n)return!1}if(null!==this.blackList)for(a=0;a<this.blackList.length;a++)if(-1!==i.indexOf(this.blackList[a]))return!1;return!0}for(var a=0;a<this.albumList.length;a++)if(i===this.albumList[a].toUpperCase()||e===this.albumList[a])return!0},t.NanoAlert=function(e,i,n){t.NanoConsoleLog.call(e,i),null!=e.$E.conConsole&&(e.$E.conConsole.css({visibility:"visible",minHeight:"100px"}),0==n?e.$E.conConsole.append("<p>"+i+"</p>"):e.$E.conConsole.append("<p>nanogallery2: "+i+" ["+e.baseEltID+"]</p>"))},t.NanoConsoleLog=function(t,e){window.console&&console.log("nanogallery2: "+e+" ["+t.baseEltID+"]")},t.PreloaderDisplay=function(t){!0===t?this.$E.conLoadingB.removeClass("nanoGalleryLBarOff").addClass("nanoGalleryLBar"):this.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")},t.AreaShuffle=function(t){for(var e,i,n=t.length;n;e=Math.floor(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t},t.GetImageTitleFromURL=function(t){return"%filename"==this.O.thumbnailLabel.get("title")?t.split("/").pop().replace("_"," "):"%filenameNoExt"==this.O.thumbnailLabel.get("title")?t.split("/").pop().split(".").shift().replace("_"," "):""},t.AlbumPostProcess=function(e){var i=this.gallerySorting[this.GOM.curNavLevel],n=this.galleryMaxItems[this.GOM.curNavLevel];if(""!=i||n>0){var a=this.I.filter(function(t){return t.albumID==e&&"albumUp"!=t.kind});switch(i){case"RANDOM":a=t.AreaShuffle(a);break;case"REVERSED":a=a.reverse();break;case"TITLEASC":a.sort(function(t,e){return t.title.toUpperCase()<e.title.toUpperCase()?-1:t.title.toUpperCase()>e.title.toUpperCase()?1:0});break;case"TITLEDESC":a.sort(function(t,e){return t.title.toUpperCase()>e.title.toUpperCase()?-1:t.title.toUpperCase()<e.title.toUpperCase()?1:0})}n>0&&a.length>n&&a.splice(n-1,a.length-n),this.I.removeIf(function(t){return t.albumID==e&&"albumUp"!=t.kind}),this.I.push.apply(this.I,a)}},t}(),window.NGY2Item=function(){function t(t){var e=0;e=void 0===t||null===t?n++:t,this.GetID=function(){return e},this.kind="",this.G=null,this.title="",this.description="",this.albumID=0,this.src="",this.width=0,this.height=0,this.destinationURL="",this.downloadURL="",this.author="",this.left=0,this.top=0,this.width=0,this.height=0,this.resizedContentWidth=0,this.resizedContentHeight=0,this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.thumbnailImgRevealed=!1,this.imageDominantColors=null,this.imageDominantColor=null,this.featured=!1,this.flickrThumbSizes={},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.numberItems=0,this.imageNumber=0,this.imageCounter=0,this.eltTransform=[],this.eltFilter=[],this.eltEffect=[],this.authkey="",this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.imageWidth=0,this.imageHeight=0,this.$elt=null,this.$Elts=[],this.tags=[],this.albumTagList=[],this.albumTagListSel=[],this.exif={exposure:"",flash:"",focallength:"",fstop:"",iso:"",model:"",time:"",location:""}}function e(t,e){return 1==t.O.allowHTMLinData?e:String(e).replace(/[&<>"'`=\/]/g,function(t){return a[t]})}function i(t,e){if("0"===(t=String(t))||1==e)return t;var i=Number(t.replace(/[a-zA-Z]/g,"")),n=t.match(/([^\-0-9\.]+)/g),a="";return null!=n&&n.length>0&&(a=n.join()),isNaN(i)||0==i?t:(i*=e)+a}var n=1;t.Get=function(t,e){for(var i=t.I.length,n=0;n<i;n++)if(t.I[n].GetID()==e)return t.I[n];return null},t.GetIdx=function(t,e){for(var i=t.I.length,n=0;n<i;n++)if(t.I[n].GetID()==e)return n;return-1},t.New=function(i,n,a,o,r,l,s){var u=t.Get(i,r);if(-1!=r&&0!=r&&"image gallery by nanogallery2 [build]"!=n&&i.O.thumbnailLevelUp&&0==u.getContentLength(!1)){var c=new t("0");i.I.push(c),u.contentLength+=1,c.title="UP",c.albumID=r,c.kind="albumUp",c.G=i,jQuery.extend(!0,c.thumbs.width,i.tn.defaultSize.width),jQuery.extend(!0,c.thumbs.height,i.tn.defaultSize.height)}null===(c=t.Get(i,o))&&(c=new t(o),i.I.push(c),-1!=r&&"image gallery by nanogallery2 [build]"!=n&&(u.contentLength+=1)),c.G=i,c.albumID=r,c.kind=l,"image"==l&&(u.imageCounter+=1,c.imageNumber=u.imageCounter);var h=i.O.thumbnailFeaturedKeyword;if(""!=h){h=h.toUpperCase();var m=n.toUpperCase().indexOf(h);m>-1&&(c.featured=!0,n=n.substring(0,m)+n.substring(m+h.length,n.length)),(m=a.toUpperCase().indexOf(h))>-1&&(c.featured=!0,a=a.substring(0,m)+a.substring(m+h.length,a.length))}if("string"==typeof i.galleryFilterTags.Get())switch(i.galleryFilterTags.Get().toUpperCase()){case"TITLE":for(var d=/(?:^|\W)#(\w+)(?!\w)/g,p=[],s="";g=d.exec(n);)p.push(g[1].replace(/^\s*|\s*$/,""));c.setTags(p),n=n.split("#").join("");break;case"DESCRIPTION":for(var g,d=/(?:^|\W)#(\w+)(?!\w)/g,p=[],s="";g=d.exec(a);)p.push(g[1].replace(/^\s*|\s*$/,""));c.setTags(p),a=a.split("#").join("")}else""!=s&&void 0!=s&&c.setTags(s.split(" "));return c.title=e(i,n),c.description=e(i,a),c};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return t.get_nextId=function(){return n},t.prototype.$getElt=function(t,e){return null==this.$elt?null:void 0!==this.$Elts[t]&&1==!e?this.$Elts[t]:(this.$Elts[t]=".nGY2GThumbnail"==t?this.$elt:this.$elt.find(t),this.$Elts[t])},t.prototype.album=function(){return this.G.I[t.GetIdx(this.G,this.albumID)]},t.prototype.imageSet=function(t,e,i){this.src=t,this.width=e,this.height=i},t.prototype.thumbSet=function(t,e,i,n,a){o=["xs","sm","me","la","xl"];if(void 0===n||""==n||null==n)for(r=0;r<o.length;r++)void 0===a||""==a?(this.thumbs.url.l1[o[r]]=t,this.thumbs.height.l1[o[r]]=i,this.thumbs.width.l1[o[r]]=e,this.thumbs.url.lN[o[r]]=t,this.thumbs.height.lN[o[r]]=i,this.thumbs.width.lN[o[r]]=e):(this.thumbs.url[a][o[r]]=t,this.thumbs.height[a][o[r]]=i,this.thumbs.width[a][o[r]]=e);else void 0===a||""==a||null==a?(this.thumbs.url.l1[n]=t,this.thumbs.height.l1[n]=i,this.thumbs.width.l1[n]=e,this.thumbs.url.lN[n]=t,this.thumbs.height.lN[n]=i,this.thumbs.width.lN[n]=e):(this.thumbs.url[a][n]=t,this.thumbs.height[a][n]=i,this.thumbs.width[a][n]=e);for(var o=["xs","sm","me","la","xl"],r=0;r<o.length;r++)this.thumbs.height.l1[o[r]]=i;for(r=0;r<o.length;r++)this.G.tn.settings.height.lN[o[r]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[o[r]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[o[r]]=i)},t.prototype.thumbSetImgHeight=function(t){for(var e=["xs","sm","me","la","xl"],i=0;i<e.length;i++)this.G.tn.settings.height.l1[e[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[e[i]]==this.G.tn.settings.getW()&&(this.thumbs.height.l1[e[i]]=t);for(i=0;i<e.length;i++)this.G.tn.settings.height.lN[e[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[e[i]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[e[i]]=t)},t.prototype.thumbSetImgWidth=function(t){for(var e=["xs","sm","me","la","xl"],i=0;i<e.length;i++)this.G.tn.settings.height.l1[e[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[e[i]]==this.G.tn.settings.getW()&&(this.thumbs.width.l1[e[i]]=t);for(i=0;i<e.length;i++)this.G.tn.settings.height.lN[e[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[e[i]]==this.G.tn.settings.getW()&&(this.thumbs.width.lN[e[i]]=t)},t.prototype.thumbImg=function(){var t={src:"",width:0,height:0};return"image gallery by nanogallery2 [build]"==this.title?(t.src=this.G.emptyGif,t.url=this.G.emptyGif,t):(t.src=this.thumbs.url[this.G.GOM.curNavLevel][this.G.GOM.curWidth],t.width=this.thumbs.width[this.G.GOM.curNavLevel][this.G.GOM.curWidth],t.height=this.thumbs.height[this.G.GOM.curNavLevel][this.G.GOM.curWidth],t)},t.prototype.setTags=function(t){if(t.length>0){this.tags=t;for(var e=this.album().albumTagList,i=0;i<t.length;i++){for(var n=!1,a=0;a<e.length;a++)t[i].toUpperCase()==e[a].toUpperCase()&&(n=!0);0==n&&(this.album().albumTagList.push(t[i]),this.album().albumTagListSel.push(t[i]))}}},t.prototype.checkTagFilter=function(){if(0!=this.G.galleryFilterTags.Get()&&this.album().albumTagList.length>0){if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var t=!1,e=this.album().albumTagListSel,i=0;i<this.tags.length;i++)for(var n=0;n<e.length;n++)if(this.tags[i].toUpperCase()==e[n].toUpperCase()){t=!0;break}return t}return!0},t.prototype.isSearchTagFound=function(){if(""==this.G.GOM.albumSearchTags)return!0;if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var t=0;t<this.tags.length;t++)if(this.tags[t].toUpperCase().indexOf(this.G.GOM.albumSearchTags)>=0)return!0;return!1},t.prototype.isToDisplay=function(t){return this.albumID==t&&this.checkTagFilter()&&this.isSearchFound()&&this.isSearchTagFound()},t.prototype.getContentLength=function(t){if(0==t||0==this.albumTagList.length||0==this.G.galleryFilterTags.Get())return this.contentLength;for(var e=this.G.I.length,i=0,n=this.GetID(),a=0;a<e;a++)this.G.I[a].isToDisplay(n)&&i++;return i},t.prototype.isSearchFound=function(){return""==this.G.GOM.albumSearch||-1!=this.title.toUpperCase().indexOf(this.G.GOM.albumSearch)},t.prototype.responsiveURL=function(){var t="";switch(this.G.O.kind){case"":case"flickr":t=this.src;break;case"picasa":case"google":case"google2":default:t=this.src}return t},t.prototype.ThumbnailImageReveal=function(){0==this.thumbnailImgRevealed&&(this.thumbnailImgRevealed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{item:this},delay:0,duration:600,easing:"easeOutQuart",step:function(t,e){null!=e.item.$getElt(".nGY2TnImg")&&e.item.$getElt(".nGY2TnImg").css("opacity",t.opacity)}}))},t.prototype.CSSTransformApply=function(t){var e=this.eltTransform[t];if(".nGY2GThumbnail"==t)for(var n=e.$elt.length-1,a=1,o=1,r=1,l=1,s=1,u=1,c=1,h=n;h>=0;h--){m="translateX("+i(e.translateX,a)+") translateY("+i(e.translateY,o)+") translateZ("+i(e.translateZ,r)+") scale("+i(e.scale,c)+")";this.G.IE<=9||this.G.isGingerbread?m+=" rotate("+i(e.rotateZ,u)+")":m+=" rotateX("+i(e.rotateX,l)+") rotateY("+i(e.rotateY,s)+") rotateZ("+i(e.rotateZ,u)+")",e.$elt[h].style[this.G.CSStransformName]=m,n>0&&(a-=this.G.tn.opt.Get("stacksTranslateX"),o-=this.G.tn.opt.Get("stacksTranslateY"),r-=this.G.tn.opt.Get("stacksTranslateZ"),l-=this.G.tn.opt.Get("stacksRotateX"),s-=this.G.tn.opt.Get("stacksRotateY"),u-=this.G.tn.opt.Get("stacksRotateZ"),c-=this.G.tn.opt.Get("stacksScale"))}else if(void 0!=e.$elt[0]){var m="translateX("+e.translateX+") translateY("+e.translateY+") translateZ("+e.translateY+") scale("+e.scale+")";this.G.IE<=9||this.G.isGingerbread?m+=" rotate("+e.rotateZ+")":m+=" rotateX("+e.rotateX+") rotateY("+e.rotateY+") rotateZ("+e.rotateZ+")",e.$elt[0].style[this.G.CSStransformName]=m}},t.prototype.CSSTransformSet=function(t,e,i){void 0==this.eltTransform[t]&&(this.eltTransform[t]={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scale:1},this.eltTransform[t].$elt=this.$getElt(t)),this.eltTransform[t][e]=i},t.prototype.CSSFilterApply=function(t){var e=this.eltFilter[t],i="blur("+e.blur+") brightness("+e.brightness+") grayscale("+e.grayscale+") sepia("+e.sepia+") contrast("+e.contrast+") opacity("+e.opacity+") saturate("+e.saturate+")";if(null!=e.$elt)for(var n=0;n<e.$elt.length;n++)void 0!=e.$elt[n]&&(e.$elt[n].style.WebkitFilter=i,e.$elt[n].style.filter=i)},t.prototype.CSSFilterSet=function(t,e,i){void 0==this.eltFilter[t]&&(this.eltFilter[t]={blur:0,brightness:"100%",grayscale:"0%",sepia:"0%",contrast:"100%",opacity:"100%",saturate:"100%"},this.eltFilter[t].$elt=this.$getElt(t)),this.eltFilter[t][e]=i},t.prototype.animate=function(t,e,i){if(null!=this.$getElt()){var n={};n.G=this.G,n.item=this,n.effect=t,n.hoverIn=i,n.cssKind="",i?(void 0==this.eltEffect[t.element]&&(this.eltEffect[t.element]=[]),void 0==this.eltEffect[t.element][t.type]&&(this.eltEffect[t.element][t.type]={initialValue:0,lastValue:0}),t.firstKeyframe&&(this.eltEffect[t.element][t.type]={initialValue:t.from,lastValue:t.from}),n.animeFrom=t.from,n.animeTo=t.to,n.animeDuration=parseInt(t.duration),n.animeDelay=30+parseInt(t.delay+e),n.animeEasing=t.easing):(t.firstKeyframe,n.animeFrom=this.eltEffect[t.element][t.type].lastValue,n.animeTo=this.eltEffect[t.element][t.type].initialValue,n.animeDuration=parseInt(t.durationBack),n.animeDelay=30+parseInt(t.delayBack+e),n.animeEasing=t.easingBack);for(var a=["translateX","translateY","translateZ","scale","rotateX","rotateY","rotateZ"],o=0;o<a.length;o++)if(t.type==a[o]){n.cssKind="transform";break}for(var r=["blur","brightness","grayscale","sepia","contrast","opacity","saturate"],o=0;o<r.length;o++)if(t.type==r[o]){n.cssKind="filter";break}!i||".nGY2GThumbnail"!=t.element||"scale"!=t.type&&"rotateX"!=t.type||(this.G.GOM.lastZIndex++,this.$getElt(t.element).css("z-index",this.G.GOM.lastZIndex));var l=new NGTweenable;n.tweenable=l,l.tween({attachment:n,from:{v:n.animeFrom},to:{v:n.animeTo},duration:n.animeDuration,delay:n.animeDelay,easing:n.animeEasing,step:function(t,e){if(null!=e.item.$getElt())if(!e.hoverIn||e.item.hovered){if(e.G.VOM.viewerDisplayed)e.tweenable.stop(!1);else if(t.v!=e.animeFrom){switch(e.cssKind){case"transform":e.item.CSSTransformSet(e.effect.element,e.effect.type,t.v),e.item.CSSTransformApply(e.effect.element);break;case"filter":e.item.CSSFilterSet(e.effect.element,e.effect.type,t.v),e.item.CSSFilterApply(e.effect.element);break;default:var n=t.v;"rgb("!=t.v.substring(0,3)&&"rgba("!=t.v.substring(0,5)||(n=tinycolor(t.v).toRgbString()),e.item.$getElt(e.effect.element).css(e.effect.type,n)}i&&(e.item.eltEffect[e.effect.element][e.effect.type].lastValue=t.v)}}else e.tweenable.stop(!1);else e.tweenable.stop(!1)},finish:function(t,e){if(i&&(e.item.eltEffect[e.effect.element][e.effect.type].lastValue=t.v),null!=e.item.$getElt()&&(!e.hoverIn||e.item.hovered)&&!e.G.VOM.viewerDisplayed)switch(e.cssKind){case"transform":e.item.CSSTransformSet(e.effect.element,e.effect.type,e.animeTo),e.item.CSSTransformApply(e.effect.element);break;case"filter":e.item.CSSFilterSet(e.effect.element,e.effect.type,e.animeTo),e.item.CSSFilterApply(e.effect.element);break;default:e.item.$getElt(e.effect.element).css(e.effect.type,e.animeTo)}}})}},t}()),n.options=jQuery.extend(!0,{},jQuery.nanogallery2.defaultOptions,i),n.nG2=null,n.nG2=new e,n.nG2.initiateGallery2(n.e,n.options)},n.test=function(){},n.init()},jQuery.nanogallery2.defaultOptions={kind:"",userID:"",photoset:"",album:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",albumList2:null,RTL:!1,poogleplusUseUrlCrossDomain:!0,flickrSkipOriginal:!0,breadcrumbAutoHideTopLevel:!0,displayBreadcrumb:!0,breadcrumbOnlyCurrentLevel:!0,breadcrumbHideIcons:!0,theme:"nGY2",colorScheme:"dark",colorSchemeViewer:"dark",items:null,itemsBaseURL:"",thumbnailSelectable:!1,dataProvider:"",dataCharset:"Latin",allowHTMLinData:!1,locationHash:!0,slideshowDelay:3e3,slideshowAutoStart:!1,debugMode:!1,galleryDisplayMoreStep:2,galleryDisplayMode:"fullContent",galleryL1DisplayMode:null,galleryPaginationMode:"rectangles",galleryMaxRows:2,galleryL1MaxRows:null,galleryLastRowFull:!1,galleryLayoutEngine:"default",paginationSwipe:!0,paginationVisiblePages:10,paginationSwipeSensibilityVert:10,galleryFilterTags:!1,galleryL1FilterTags:null,galleryMaxItems:0,galleryL1MaxItems:null,gallerySorting:"",galleryL1Sorting:null,galleryDisplayTransition:"none",galleryL1DisplayTransition:null,galleryDisplayTransitionDuration:1e3,galleryL1DisplayTransitionDuration:null,galleryResizeAnimation:!0,galleryRenderDelay:60,thumbnailCrop:!0,thumbnailL1Crop:null,thumbnailCropScaleFactor:1.5,thumbnailLevelUp:!1,thumbnailAlignment:"center",thumbnailWidth:300,thumbnailL1Width:null,thumbnailHeight:200,thumbnailL1Height:null,thumbnailGutterWidth:2,thumbnailL1GutterWidth:null,thumbnailGutterHeight:2,thumbnailL1GutterHeight:null,thumbnailBorderVertical:2,thumbnailBorderHorizontal:2,thumbnailFeaturedKeyword:"*featured",thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect2:"toolsAppear",thumbnailBuildInit2:"",thumbnailStacks:0,thumbnailL1Stacks:null,thumbnailStacksTranslateX:0,thumbnailL1StacksTranslateX:null,thumbnailStacksTranslateY:0,thumbnailL1StacksTranslateY:null,thumbnailStacksTranslateZ:0,thumbnailL1StacksTranslateZ:null,thumbnailStacksRotateX:0,thumbnailL1StacksRotateX:null,thumbnailStacksRotateY:0,thumbnailL1StacksRotateY:null,thumbnailStacksRotateZ:0,thumbnailL1StacksRotateZ:null,thumbnailStacksScale:0,thumbnailL1StacksScale:null,thumbnailDisplayOutsideScreen:!1,thumbnailWaitImageLoaded:!0,galleryBuildInit2:"",portable:!1,touchAnimation:!0,touchAutoOpenDelay:0,thumbnailLabel:{position:"overImageOnBottom",align:"center",display:!0,displayDescription:!1,titleMaxLength:0,titleMultiLine:!1,descriptionMaxLength:0,descriptionMultiLine:!1,hideIcons:!0,title:""},thumbnailToolbarImage:{topLeft:"select",topRight:"featured"},thumbnailToolbarAlbum:{topLeft:"select",topRight:"counter"},thumbnailDisplayInterval:15,thumbnailL1DisplayInterval:null,thumbnailDisplayTransition:"fadeIn",thumbnailL1DisplayTransition:null,thumbnailDisplayTransitionDuration:240,thumbnailL1DisplayTransitionDuration:null,thumbnailOpenImage:!0,thumbnailOpenOriginal:!1,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,imageTransition:"swipe",viewerZoom:!0,openOnStart:"",viewerHideToolsDelay:3e3,viewerToolbar:{display:!0,position:"bottomOverImage",fullWidth:!0,align:"center",autoMinimize:0,standard:"minimizeButton,label",minimized:"minimizeButton,label,infoButton,shareButton,downloadButton,linkOriginalButton,fullscreenButton"},viewerTools:{topLeft:"pageCounter,playPauseButton",topRight:"zoomButton,closeButton"},breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnThumbnailSelection:null,fnGalleryRenderStart:null,fnGalleryRenderEnd:null,fnGalleryObjectModelBuilt:null,fnGalleryLayoutApplied:null,fnThumbnailClicked:null,fnShoppingCartUpdated:null,fnThumbnailToolCustAction:null,fnThumbnailOpen:null,fnImgDisplayed:null,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"},icons:{thumbnailAlbum:'<i class="nGY2Icon icon-folder-empty"></i>',thumbnailImage:'<i class="nGY2Icon icon-picture"></i>',breadcrumbAlbum:'<i class="nGY2Icon icon-folder-empty"></i>',breadcrumbHome:'<i class="nGY2Icon icon-home"></i>',breadcrumbSeparator:'<i class="nGY2Icon icon-left-open"></i>',breadcrumbSeparatorRtl:'<i class="nGY2Icon icon-right-open"></i>',navigationFilterSelected:'<i style="color:#fff;" class="nGY2Icon icon-toggle-on"></i>',navigationFilterUnselected:'<i style="color:#ddd;" class="nGY2Icon icon-toggle-off"></i>',navigationFilterSelectedAll:'<i class="nGY2Icon icon-toggle-on"></i><i class="nGY2Icon icon-ok"></i>',thumbnailSelected:'<i style="color:#bff;" class="nGY2Icon icon-ok-circled"></i>',thumbnailUnselected:'<i style="color:#bff;" class="nGY2Icon icon-circle-empty"></i>',thumbnailFeatured:'<i style="color:#dd5;" class="nGY2Icon icon-star"></i>',thumbnailCounter:'<i class="nGY2Icon icon-picture"></i>',thumbnailShare:'<i class="nGY2Icon icon-ngy2_share2"></i>',thumbnailDownload:'<i class="nGY2Icon icon-ngy2_download2"></i>',thumbnailInfo:'<i class="nGY2Icon icon-ngy2_info2"></i>',thumbnailCart:'<i class="nGY2Icon icon-basket"></i>',thumbnailDisplay:'<i class="nGY2Icon icon-ngy2_zoom_in2"></i>',thumbnailCustomTool1:"T1",thumbnailCustomTool2:"T2",thumbnailCustomTool3:"T3",thumbnailCustomTool4:"T4",thumbnailCustomTool5:"T5",thumbnailCustomTool6:"T6",thumbnailCustomTool7:"T7",thumbnailCustomTool8:"T8",thumbnailCustomTool9:"T9",thumbnailCustomTool10:"T10",thumbnailAlbumUp:'<i style="font-size: 3em;" class="nGY2Icon icon-ngy2_chevron_up2"></i>',paginationNext:'<i class="nGY2Icon icon-right-open"></i>',paginationPrevious:'<i class="nGY2Icon icon-left-open"></i>',galleryMoreButton:'<i class="nGY2Icon icon-picture"></i> &nbsp; <i class="nGY2Icon icon-right-open"></i>',buttonClose:'<i class="nGY2Icon icon-ngy2_close2"></i>',viewerPrevious:'<i class="nGY2Icon icon-ngy2_chevron-left"></i>',viewerNext:'<i class="nGY2Icon icon-ngy2_chevron-right"></i>',viewerImgPrevious:'<i class="nGY2Icon icon-ngy2_chevron_left3"></i>',viewerImgNext:'<i class="nGY2Icon icon-ngy2_chevron_right3"></i>',viewerDownload:'<i class="nGY2Icon icon-ngy2_download2"></i>',viewerToolbarMin:'<i class="nGY2Icon icon-ellipsis-vert"></i>',viewerToolbarStd:'<i class="nGY2Icon icon-menu"></i>',viewerPlay:'<i class="nGY2Icon icon-play"></i>',viewerPause:'<i class="nGY2Icon icon-pause"></i>',viewerFullscreenOn:'<i class="nGY2Icon icon-resize-full"></i>',viewerFullscreenOff:'<i class="nGY2Icon icon-resize-small"></i>',viewerZoomIn:'<i class="nGY2Icon icon-ngy2_zoom_in2"></i>',viewerZoomOut:'<i class="nGY2Icon icon-ngy2_zoom_out2"></i>',viewerLinkOriginal:'<i class="nGY2Icon icon-ngy2_external2"></i>',viewerInfo:'<i class="nGY2Icon icon-ngy2_info2"></i>',viewerShare:'<i class="nGY2Icon icon-ngy2_share2"></i>',user:'<i class="nGY2Icon icon-user"></i>',location:'<i class="nGY2Icon icon-location"></i>',config:'<i class="nGY2Icon icon-wrench"></i>',shareFacebook:'<i style="color:#3b5998;" class="nGY2Icon icon-facebook-squared"></i>',shareTwitter:'<i style="color:#00aced;" class="nGY2Icon icon-twitter-squared"></i>',shareGooglePlus:'<i style="color:#dd4b39;" class="nGY2Icon icon-gplus-squared"></i>',shareTumblr:'<i style="color:#32506d;" class="nGY2Icon icon-tumblr-squared"></i>',sharePinterest:'<i style="color:#cb2027;" class="nGY2Icon icon-pinterest-squared"></i>',shareVK:'<i style="color:#3b5998;" class="nGY2Icon icon-vkontakte"></i>',shareMail:'<i style="color:#555;" class="nGY2Icon icon-mail-alt"></i>',viewerCustomTool1:"T1",viewerCustomTool2:"T2",viewerCustomTool3:"T3",viewerCustomTool4:"T4",viewerCustomTool5:"T5",viewerCustomTool6:"T6",viewerCustomTool7:"T7",viewerCustomTool8:"T8",viewerCustomTool9:"T9",viewerCustomTool10:"T10"}},jQuery.fn.nanogallery2=function(e,i,n){if(void 0===jQuery(this).data("nanogallery2data")){if("destroy"==e)return;return this.each(function(){new jQuery.nanogallery2(this,e)})}var a=t(this).data("nanogallery2data").nG2;switch(e){case"displayItem":a.DisplayItem(i);break;case"search":return a.Search(i);case"search2":return a.Search2(i,n);case"search2Execute":return a.Search2Execute();case"refresh":a.Refresh();break;case"instance":return a;case"data":return a.data={items:a.I,gallery:a.GOM,lightbox:a.VOM},a.data;case"reload":return a.ReloadAlbum(),t(this);case"itemsSelectedGet":return a.ItemsSelectedGet();case"itemsSetSelectedValue":a.ItemsSetSelectedValue(i,n);break;case"option":if(void 0===n)return a.Get(i);a.Set(i,n),"demoViewportWidth"==i&&t(window).trigger("resize");break;case"destroy":a.Destroy(),t(this).removeData("nanogallery2data");break;case"shoppingCartGet":return a.shoppingCart;case"shoppingCartUpdate":if(void 0===n||void 0===i)return!1;for(var o=i,r=n,l=0;l<a.shoppingCart.length;l++)(a.shoppingCart[l].ID=o)&&(a.shoppingCart[l].cnt=r);return null!==G.O.fnShoppingCartUpdated&&("function"==typeof G.O.fnShoppingCartUpdated?G.O.fnShoppingCartUpdated(a.shoppingCart):window[G.O.fnShoppingCartUpdated](a.shoppingCart)),a.shoppingCart;case"shoppingCartRemove":if(void 0===i)return!1;for(var o=i,l=0;l<a.shoppingCart.length;l++)if(a.shoppingCart[l].ID=o){a.shoppingCart.splice(l,1);break}return null!==G.O.fnShoppingCartUpdated&&("function"==typeof G.O.fnShoppingCartUpdated?G.O.fnShoppingCartUpdated(a.shoppingCart):window[G.O.fnShoppingCartUpdated](a.shoppingCart)),a.shoppingCart}return t(this)}}(jQuery),function(t){function e(t,n){if(t=t||"",n=n||{},t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var a=i(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=P(100*this._a)/100,this._format=n.format||a.format,this._gradientType=n.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=a.ok,this._tc_id=R++}function i(t){var e={r:0,g:0,b:0},i=1,a=null,r=null,s=null,u=!1,c=!1;return"string"==typeof t&&(t=_(t)),"object"==typeof t&&(N(t.r)&&N(t.g)&&N(t.b)?(e=n(t.r,t.g,t.b),u=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):N(t.h)&&N(t.s)&&N(t.v)?(a=E(t.s),r=E(t.v),e=l(t.h,a,r),u=!0,c="hsv"):N(t.h)&&N(t.s)&&N(t.l)&&(a=E(t.s),s=E(t.l),e=o(t.h,a,s),u=!0,c="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=T(i),{ok:u,format:t.format||c,r:F(255,z(e.r,0)),g:F(255,z(e.g,0)),b:F(255,z(e.b,0)),a:i}}function n(t,e,i){return{r:255*M(t,255),g:255*M(e,255),b:255*M(i,255)}}function a(t,e,i){t=M(t,255),e=M(e,255),i=M(i,255);var n,a,o=z(t,e,i),r=F(t,e,i),l=(o+r)/2;if(o==r)n=a=0;else{var s=o-r;switch(a=l>.5?s/(2-o-r):s/(o+r),o){case t:n=(e-i)/s+(i>e?6:0);break;case e:n=(i-t)/s+2;break;case i:n=(t-e)/s+4}n/=6}return{h:n,s:a,l:l}}function o(t,e,i){function n(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+6*(e-t)*(2/3-i):t}var a,o,r;if(t=M(t,360),e=M(e,100),i=M(i,100),0===e)a=o=r=i;else{var l=.5>i?i*(1+e):i+e-i*e,s=2*i-l;a=n(s,l,t+1/3),o=n(s,l,t),r=n(s,l,t-1/3)}return{r:255*a,g:255*o,b:255*r}}function r(t,e,i){t=M(t,255),e=M(e,255),i=M(i,255);var n,a,o=z(t,e,i),r=F(t,e,i),l=o,s=o-r;if(a=0===o?0:s/o,o==r)n=0;else{switch(o){case t:n=(e-i)/s+(i>e?6:0);break;case e:n=(i-t)/s+2;break;case i:n=(t-e)/s+4}n/=6}return{h:n,s:a,v:l}}function l(e,i,n){e=6*M(e,360),i=M(i,100),n=M(n,100);var a=t.floor(e),o=e-a,r=n*(1-i),l=n*(1-o*i),s=n*(1-(1-o)*i),u=a%6;return{r:255*[n,l,r,r,s,n][u],g:255*[s,n,n,l,r,r][u],b:255*[r,r,s,n,n,l][u]}}function s(t,e,i,n){var a=[k(P(t).toString(16)),k(P(e).toString(16)),k(P(i).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function u(t,e,i,n,a){var o=[k(P(t).toString(16)),k(P(e).toString(16)),k(P(i).toString(16)),k(D(n))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function c(t,e,i,n){return[k(D(n)),k(P(t).toString(16)),k(P(e).toString(16)),k(P(i).toString(16))].join("")}function h(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.s-=i/100,n.s=x(n.s),e(n)}function m(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.s+=i/100,n.s=x(n.s),e(n)}function d(t){return e(t).desaturate(100)}function p(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.l+=i/100,n.l=x(n.l),e(n)}function g(t,i){i=0===i?0:i||10;var n=e(t).toRgb();return n.r=z(0,F(255,n.r-P(-i/100*255))),n.g=z(0,F(255,n.g-P(-i/100*255))),n.b=z(0,F(255,n.b-P(-i/100*255))),e(n)}function f(t,i){i=0===i?0:i||10;var n=e(t).toHsl();return n.l-=i/100,n.l=x(n.l),e(n)}function b(t,i){var n=e(t).toHsl(),a=(n.h+i)%360;return n.h=0>a?360+a:a,e(n)}function v(t){var i=e(t).toHsl();return i.h=(i.h+180)%360,e(i)}function y(t){var i=e(t).toHsl(),n=i.h;return[e(t),e({h:(n+120)%360,s:i.s,l:i.l}),e({h:(n+240)%360,s:i.s,l:i.l})]}function O(t){var i=e(t).toHsl(),n=i.h;return[e(t),e({h:(n+90)%360,s:i.s,l:i.l}),e({h:(n+180)%360,s:i.s,l:i.l}),e({h:(n+270)%360,s:i.s,l:i.l})]}function w(t){var i=e(t).toHsl(),n=i.h;return[e(t),e({h:(n+72)%360,s:i.s,l:i.l}),e({h:(n+216)%360,s:i.s,l:i.l})]}function I(t,i,n){i=i||6,n=n||30;var a=e(t).toHsl(),o=360/n,r=[e(t)];for(a.h=(a.h-(o*i>>1)+720)%360;--i;)a.h=(a.h+o)%360,r.push(e(a));return r}function G(t,i){i=i||6;for(var n=e(t).toHsv(),a=n.h,o=n.s,r=n.v,l=[],s=1/i;i--;)l.push(e({h:a,s:o,v:r})),r=(r+s)%1;return l}function T(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function M(e,i){L(e)&&(e="100%");var n=C(e);return e=F(i,z(0,parseFloat(e))),n&&(e=parseInt(e*i,10)/100),t.abs(e-i)<1e-6?1:e%i/parseFloat(i)}function x(t){return F(1,z(0,t))}function S(t){return parseInt(t,16)}function L(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function C(t){return"string"==typeof t&&-1!=t.indexOf("%")}function k(t){return 1==t.length?"0"+t:""+t}function E(t){return 1>=t&&(t=100*t+"%"),t}function D(e){return t.round(255*parseFloat(e)).toString(16)}function A(t){return S(t)/255}function N(t){return!!j.CSS_UNIT.exec(t)}function _(t){t=t.replace($,"").replace(Y,"").toLowerCase();var e=!1;if(U[t])t=U[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=j.rgb.exec(t))?{r:i[1],g:i[2],b:i[3]}:(i=j.rgba.exec(t))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=j.hsl.exec(t))?{h:i[1],s:i[2],l:i[3]}:(i=j.hsla.exec(t))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=j.hsv.exec(t))?{h:i[1],s:i[2],v:i[3]}:(i=j.hsva.exec(t))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=j.hex8.exec(t))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),a:A(i[4]),format:e?"name":"hex8"}:(i=j.hex6.exec(t))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:e?"name":"hex"}:(i=j.hex4.exec(t))?{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),a:A(i[4]+""+i[4]),format:e?"name":"hex8"}:!!(i=j.hex3.exec(t))&&{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:e?"name":"hex"}}function V(t){var e,i;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==i&&"large"!==i&&(i="small"),{level:e,size:i}}var $=/^\s+/,Y=/\s+$/,R=0,P=t.round,F=t.min,z=t.max,B=t.random;e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,i,n,a,o,r,l=this.toRgb();return e=l.r/255,i=l.g/255,n=l.b/255,a=.03928>=e?e/12.92:t.pow((e+.055)/1.055,2.4),o=.03928>=i?i/12.92:t.pow((i+.055)/1.055,2.4),r=.03928>=n?n/12.92:t.pow((n+.055)/1.055,2.4),.2126*a+.7152*o+.0722*r},setAlpha:function(t){return this._a=T(t),this._roundA=P(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=P(360*t.h),i=P(100*t.s),n=P(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=a(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=a(this._r,this._g,this._b),e=P(360*t.h),i=P(100*t.s),n=P(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return u(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*M(this._r,255))+"%",g:P(100*M(this._g,255))+"%",b:P(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*M(this._r,255))+"%, "+P(100*M(this._g,255))+"%, "+P(100*M(this._b,255))+"%)":"rgba("+P(100*M(this._r,255))+"%, "+P(100*M(this._g,255))+"%, "+P(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(H[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var i="#"+c(this._r,this._g,this._b,this._a),n=i,a=this._gradientType?"GradientType = 1, ":"";if(t){var o=e(t);n="#"+c(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+i+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0;return!e&&n&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t)?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(y,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},e.fromRatio=function(t,i){if("object"==typeof t){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]="a"===a?t[a]:E(t[a]));t=n}return e(t,i)},e.equals=function(t,i){return!(!t||!i)&&e(t).toRgbString()==e(i).toRgbString()},e.random=function(){return e.fromRatio({r:B(),g:B(),b:B()})},e.mix=function(t,i,n){n=0===n?0:n||50;var a=e(t).toRgb(),o=e(i).toRgb(),r=n/100;return e({r:(o.r-a.r)*r+a.r,g:(o.g-a.g)*r+a.g,b:(o.b-a.b)*r+a.b,a:(o.a-a.a)*r+a.a})},e.readability=function(i,n){var a=e(i),o=e(n);return(t.max(a.getLuminance(),o.getLuminance())+.05)/(t.min(a.getLuminance(),o.getLuminance())+.05)},e.isReadable=function(t,i,n){var a,o,r=e.readability(t,i);switch(o=!1,(a=V(n)).level+a.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7}return o},e.mostReadable=function(t,i,n){var a,o,r,l,s=null,u=0;o=(n=n||{}).includeFallbackColors,r=n.level,l=n.size;for(var c=0;c<i.length;c++)(a=e.readability(t,i[c]))>u&&(u=a,s=e(i[c]));return e.isReadable(t,s,{level:r,size:l})||!o?s:(n.includeFallbackColors=!1,e.mostReadable(t,["#fff","#000"],n))};var U=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},H=e.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(U),j=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):window.tinycolor=e}(Math),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.ngEvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,a=i[n];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];a;){var r=o&&o[a];r&&(this.off(t,a),delete o[a]),a.apply(this,e),a=i[n+=r?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.ngimagesLoaded=e(t,t.ngEvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function a(t,e,o){if(!(this instanceof a))return new a(t,e,o);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?o=e:i(this.options,e),o&&this.on("always",o),this.getImages(),l&&(this.jqDeferred=new l.Deferred),setTimeout(function(){this.check()}.bind(this))}function o(t){this.img=t}function r(t,e){this.url=t,this.element=e,this.img=new Image}var l=jQuery,s=t.console;a.prototype=Object.create(e.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var a=i[n];this.addImage(a)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var u={1:!0,9:!0,11:!0};return a.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var a=n&&n[2];a&&this.addBackground(a,t),n=i.exec(e.backgroundImage)}},a.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},a.prototype.addBackground=function(t,e){var i=new r(t,e);this.images.push(i)},a.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},a.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+i,t,e)},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((l=e).fn.ngimagesLoaded=function(t,e){return new a(this,t,e).jqDeferred.promise(l(this))})},a.makeJQueryPlugin(),a}),function(){"use strict";var t="undefined"==typeof window?{}:window.document,e="undefined"!=typeof module&&module.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,n=function(){for(var e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,a=i.length,o={};n<a;n++)if((e=i[n])&&e[1]in t){for(n=0;n<e.length;n++)o[i[0][n]]=e[n];return o}return!1}(),a={request:function(e){var a=n.requestFullscreen;e=e||t.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?e[a]():e[a](i&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(e){t.addEventListener(n.fullscreenchange,e,!1)},onerror:function(e){t.addEventListener(n.fullscreenerror,e,!1)},raw:n};n?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}}),e?module.exports=a:window.ngscreenfull=a):e?module.exports=!1:window.ngscreenfull=!1}(),function(){var t=this,e=function(){"use strict";function e(){}function i(t,e){var i;for(i in t)Object.hasOwnProperty.call(t,i)&&e(i)}function n(t,e){return i(e,function(i){t[i]=e[i]}),t}function a(t,e){i(e,function(i){void 0===t[i]&&(t[i]=e[i])})}function o(t,e,i,n,a,o,l){var s,u,c,m=o>t?0:(t-o)/a;for(s in e)e.hasOwnProperty(s)&&(u=l[s],c="function"==typeof u?u:h[u],e[s]=r(i[s],n[s],c,m));return e}function r(t,e,i,n){return t+(e-t)*i(n)}function l(t,e){var n=c.prototype.filter,a=t._filterArgs;i(n,function(i){void 0!==n[i][e]&&n[i][e].apply(t,a)})}function s(t,e,i,n,a,r,s,u,c,h,m){b=e+i+n,v=Math.min(m||f(),b),y=v>=b,O=n-(b-v),t.isPlaying()&&!y?(t._scheduleId=h(t._timeoutHandler,p),l(t,"beforeTween"),e+i>v?o(1,a,r,s,1,1,u):o(v,a,r,s,n,e+i,u),l(t,"afterTween"),c(a,t._attachment,O)):t.isPlaying()&&y&&(c(s,t._attachment,O),t.stop(!0))}function u(t,e){var n={},a=typeof e;return"string"===a||"function"===a?i(t,function(t){n[t]=e}):i(t,function(t){n[t]||(n[t]=e[t]||d)}),n}function c(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=m,void 0!==e&&this.setConfig(e)}var h,m,d="linear",p=1e3/60,g=Date.now?Date.now:function(){return+new Date},f="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:g;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var b,v,y,O;return c.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=f(),this._start(this.get(),this._attachment),this.resume())},c.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||e,this._step=t.step||e,this._finish=t.finish||e,this._duration=t.duration||500,this._currentState=n({},t.from)||this.get(),this._originalState=this.get(),this._targetState=n({},t.to)||this.get();var i=this;this._timeoutHandler=function(){s(i,i._timestamp,i._delay,i._duration,i._currentState,i._originalState,i._targetState,i._easing,i._step,i._scheduleFunction)};var o=this._currentState,r=this._targetState;return a(r,o),this._easing=u(o,t.easing||d),this._filterArgs=[o,this._originalState,r,this._easing],l(this,"tweenCreated"),this},c.prototype.get=function(){return n({},this._currentState)},c.prototype.set=function(t){this._currentState=t},c.prototype.pause=function(){return this._pausedAtTime=f(),this._isPaused=!0,this},c.prototype.resume=function(){return this._isPaused&&(this._timestamp+=f()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},c.prototype.seek=function(t){t=Math.max(t,0);var e=f();return 0===this._timestamp+t?this:(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,s(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause()),this)},c.prototype.stop=function(i){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=e,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),i&&(l(this,"beforeTween"),o(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),l(this,"afterTween"),l(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},c.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},c.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},c.prototype.dispose=function(){var t;for(t in this)this.hasOwnProperty(t)&&delete this[t]},c.prototype.filter={},c.prototype.formula={linear:function(t){return t}},h=c.prototype.formula,n(c,{now:f,each:i,tweenProps:o,tweenProp:r,applyFilter:l,shallowCopy:n,defaults:a,composeEasingObject:u}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=s),"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amdDISABLED?define(function(){return c}):void 0===t.NGTweenable&&(t.NGTweenable=c),c}();(function(){e.shallowCopy(e.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return 1>(t/=.5)?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*((1+(e*=1.525))*t-e):.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin(2*(6*t-1)*Math.PI/2)+1},swingFromTo:function(t){var e=1.70158;return 1>(t/=.5)?.5*t*t*((1+(e*=1.525))*t-e):.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){var e=1.70158;return t*t*((e+1)*t-e)},swingTo:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return 1>(t/=.5)?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})})(),function(){function t(t,e,i,n,a,o){function r(t){return((h*t+m)*t+d)*t}function l(t){return((p*t+g)*t+f)*t}function s(t){return(3*h*t+2*m)*t+d}function u(t){return t>=0?t:0-t}function c(t,e){var i,n,a,o,l,c;for(a=t,c=0;8>c;c++){if(o=r(a)-t,e>u(o))return a;if(l=s(a),1e-6>u(l))break;a-=o/l}if(i=0,n=1,a=t,i>a)return i;if(a>n)return n;for(;n>i;){if(o=r(a),e>u(o-t))return a;t>o?i=a:n=a,a=.5*(n-i)+i}return a}var h=0,m=0,d=0,p=0,g=0,f=0;return d=3*e,m=3*(n-e)-d,h=1-d-m,f=3*i,g=3*(a-i)-f,p=1-f-g,function(t,e){return l(c(t,e))}(t,function(t){return 1/(200*t)}(o))}function i(e,i,n,a){return function(o){return t(o,e,i,n,a,1)}}e.setBezierFunction=function(t,n,a,o,r){var l=i(n,a,o,r);return l.displayName=t,l.x1=n,l.y1=a,l.x2=o,l.y2=r,e.prototype.formula[t]=l},e.unsetBezierFunction=function(t){delete e.prototype.formula[t]}}(),function(){function t(t,i,n,a,o,r){return e.tweenProps(a,i,t,n,1,r,o)}var i=new e;i._filterArgs=[],e.interpolate=function(n,a,o,r,l){var s=e.shallowCopy({},n),u=l||0,c=e.composeEasingObject(n,r||"linear");i.set({});var h=i._filterArgs;h.length=0,h[0]=s,h[1]=n,h[2]=a,h[3]=c,e.applyFilter(i,"tweenCreated"),e.applyFilter(i,"beforeTween");var m=t(n,s,a,o,c,u);return e.applyFilter(i,"afterTween"),m}}(),function(t){function e(t,e){var i,n=[],a=t.length;for(i=0;a>i;i++)n.push("_"+e+"_"+i);return n}function i(t){var e=t.match(w);return e?(1===e.length||t[0].match(O))&&e.unshift(""):e=["",""],e.join(x)}function n(e){t.each(e,function(t){var i=e[t];"string"==typeof i&&i.match(M)&&(e[t]=a(i))})}function a(t){return s(M,t,o)}function o(t){var e=r(t);return"rgb("+e[0]+","+e[1]+","+e[2]+")"}function r(t){return 3===(t=t.replace(/#/,"")).length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),S[0]=l(t.substr(0,2)),S[1]=l(t.substr(2,2)),S[2]=l(t.substr(4,2)),S}function l(t){return parseInt(t,16)}function s(t,e,i){var n=e.match(t),a=e.replace(t,x);if(n)for(var o,r=n.length,l=0;r>l;l++)o=n.shift(),a=a.replace(x,i(o));return a}function u(t){return s(G,t,c)}function c(t){for(var e=t.match(I),i=e.length,n=t.match(T)[0],a=0;i>a;a++)n+=parseInt(e[a],10)+",";return n=n.slice(0,-1)+")"}function h(n){var a={};return t.each(n,function(t){var o=n[t];if("string"==typeof o){var r=b(o);a[t]={formatString:i(o),chunkNames:e(r,t)}}}),a}function m(e,i){t.each(i,function(t){for(var n=b(e[t]),a=n.length,o=0;a>o;o++)e[i[t].chunkNames[o]]=+n[o];delete e[t]})}function d(e,i){t.each(i,function(t){var n=e[t],a=g(p(e,i[t].chunkNames),i[t].chunkNames);n=f(i[t].formatString,a),e[t]=u(n)})}function p(t,e){for(var i,n={},a=e.length,o=0;a>o;o++)i=e[o],n[i]=t[i],delete t[i];return n}function g(t,e){L.length=0;for(var i=e.length,n=0;i>n;n++)L.push(t[e[n]]);return L}function f(t,e){for(var i=t,n=e.length,a=0;n>a;a++)i=i.replace(x,+e[a].toFixed(4));return i}function b(t){return t.match(I)}function v(e,i){t.each(i,function(t){var n,a=i[t].chunkNames,o=a.length,r=e[t];if("string"==typeof r){var l=r.split(" "),s=l[l.length-1];for(n=0;o>n;n++)e[a[n]]=l[n]||s}else for(n=0;o>n;n++)e[a[n]]=r;delete e[t]})}function y(e,i){t.each(i,function(t){var n=i[t].chunkNames,a=n.length,o=e[n[0]];if("string"===typeof o){for(var r="",l=0;a>l;l++)r+=" "+e[n[l]],delete e[n[l]];e[t]=r.substr(1)}else e[t]=o})}var O=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,I=/[0-9.\-]+/g,G=RegExp("rgb\\("+I.source+/,\s*/.source+I.source+/,\s*/.source+I.source+"\\)","g"),T=/^.*\(/,M=/#([0-9]|[a-f]){3,6}/gi,x="VAL",S=[],L=[];t.prototype.filter.token={tweenCreated:function(t,e,i){n(t),n(e),n(i),this._tokenData=h(t)},beforeTween:function(t,e,i,n){v(n,this._tokenData),m(t,this._tokenData),m(e,this._tokenData),m(i,this._tokenData)},afterTween:function(t,e,i,n){d(t,this._tokenData),d(e,this._tokenData),d(i,this._tokenData),y(n,this._tokenData)}}}(e)}.call(null),function(t,e,i,n){"use strict";function a(t,e,i){return setTimeout(u(t,i),e)}function o(t,e,i){return!!Array.isArray(t)&&(r(t,i[e],i),!0)}function r(t,e,i){var a;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(a=0;a<t.length;)e.call(i,t[a],a,t),a++;else for(a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function l(e,i,n){var a="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,a,n),e.apply(this,arguments)}}function s(t,e,i){var n,a=e.prototype;(n=t.prototype=Object.create(a)).constructor=t,n._super=a,i&&ct(n,i)}function u(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==dt?t.apply(e?e[0]||n:n,e):t}function h(t,e){return t===n?e:t}function m(t,e,i){r(f(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){r(f(e),function(e){t.removeEventListener(e,i,!1)})}function p(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function f(t){return t.trim().split(/\s+/g)}function b(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function v(t){return Array.prototype.slice.call(t,0)}function y(t,e,i){for(var n=[],a=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];b(a,r)<0&&n.push(t[o]),a[o]=r,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function O(t,e){for(var i,a,o=e[0].toUpperCase()+e.slice(1),r=0;r<ht.length;){if(i=ht[r],(a=i?i+o:e)in t)return a;r++}return n}function w(){return yt++}function I(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function G(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function T(t){var e=t.options.inputClass;return new(e||(It?Y:Gt?F:wt?B:$))(t,M)}function M(t,e,i){var n=i.pointers.length,a=i.changedPointers.length,o=e&Mt&&n-a==0,r=e&(St|Lt)&&n-a==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,x(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function x(t,e){var i=t.session,n=e.pointers,a=n.length;i.firstInput||(i.firstInput=C(e)),a>1&&!i.firstMultiple?i.firstMultiple=C(e):1===a&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,l=r?r.center:o.center,s=e.center=k(n);e.timeStamp=ft(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(l,s),e.distance=A(l,s),S(i,e),e.offsetDirection=D(e.deltaX,e.deltaY);var u=E(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=gt(u.x)>gt(u.y)?u.x:u.y,e.scale=r?V(r.pointers,n):1,e.rotation=r?_(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,L(i,e);var c=t.element;p(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function S(t,e){var i=e.center,n=t.offsetDelta||{},a=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Mt&&o.eventType!==St||(a=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=a.x+(i.x-n.x),e.deltaY=a.y+(i.y-n.y)}function L(t,e){var i,a,o,r,l=t.lastInterval||e,s=e.timeStamp-l.timeStamp;if(e.eventType!=Lt&&(s>Tt||l.velocity===n)){var u=e.deltaX-l.deltaX,c=e.deltaY-l.deltaY,h=E(s,u,c);a=h.x,o=h.y,i=gt(h.x)>gt(h.y)?h.x:h.y,r=D(u,c),t.lastInterval=e}else i=l.velocity,a=l.velocityX,o=l.velocityY,r=l.direction;e.velocity=i,e.velocityX=a,e.velocityY=o,e.direction=r}function C(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:pt(t.pointers[i].clientX),clientY:pt(t.pointers[i].clientY)},i++;return{timeStamp:ft(),pointers:e,center:k(e),deltaX:t.deltaX,deltaY:t.deltaY}}function k(t){var e=t.length;if(1===e)return{x:pt(t[0].clientX),y:pt(t[0].clientY)};for(var i=0,n=0,a=0;a<e;)i+=t[a].clientX,n+=t[a].clientY,a++;return{x:pt(i/e),y:pt(n/e)}}function E(t,e,i){return{x:e/t||0,y:i/t||0}}function D(t,e){return t===e?Ct:gt(t)>=gt(e)?t<0?kt:Et:e<0?Dt:At}function A(t,e,i){i||(i=$t);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return Math.sqrt(n*n+a*a)}function N(t,e,i){i||(i=$t);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return 180*Math.atan2(a,n)/Math.PI}function _(t,e){return N(e[1],e[0],Yt)+N(t[1],t[0],Yt)}function V(t,e){return A(e[0],e[1],Yt)/A(t[0],t[1],Yt)}function $(){this.evEl=Pt,this.evWin=Ft,this.pressed=!1,G.apply(this,arguments)}function Y(){this.evEl=Ut,this.evWin=Ht,G.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Wt,this.evWin=Qt,this.started=!1,G.apply(this,arguments)}function P(t,e){var i=v(t.touches),n=v(t.changedTouches);return e&(St|Lt)&&(i=y(i.concat(n),"identifier",!0)),[i,n]}function F(){this.evTarget=qt,this.targetIds={},G.apply(this,arguments)}function z(t,e){var i=v(t.touches),n=this.targetIds;if(e&(Mt|xt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,o,r=v(t.changedTouches),l=[],s=this.target;if(o=i.filter(function(t){return p(t.target,s)}),e===Mt)for(a=0;a<o.length;)n[o[a].identifier]=!0,a++;for(a=0;a<r.length;)n[r[a].identifier]&&l.push(r[a]),e&(St|Lt)&&delete n[r[a].identifier],a++;return l.length?[y(o.concat(l),"identifier",!0),l]:void 0}function B(){G.apply(this,arguments);var t=u(this.handler,this);this.touch=new F(this.manager,t),this.mouse=new $(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function U(t,e){t&Mt?(this.primaryTouch=e.changedPointers[0].identifier,H.call(this,e)):t&(St|Lt)&&H.call(this,e)}function H(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,a=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(a,Zt)}}function j(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],o=Math.abs(e-a.x),r=Math.abs(i-a.y);if(o<=Jt&&r<=Jt)return!0}return!1}function W(t,e){this.manager=t,this.set(e)}function Q(t){if(g(t,ne))return ne;var e=g(t,ae),i=g(t,oe);return e&&i?ne:e||i?e?ae:oe:g(t,ie)?ie:ee}function X(t){this.options=ct({},this.defaults,t||{}),this.id=w(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=le,this.simultaneous={},this.requireFail=[]}function q(t){return t&me?"cancel":t&ce?"end":t&ue?"move":t&se?"start":""}function Z(t){return t==At?"down":t==Dt?"up":t==kt?"left":t==Et?"right":""}function J(t,e){var i=e.manager;return i?i.get(t):t}function K(){X.apply(this,arguments)}function tt(){K.apply(this,arguments),this.pX=null,this.pY=null}function et(){K.apply(this,arguments)}function it(){X.apply(this,arguments),this._timer=null,this._input=null}function nt(){K.apply(this,arguments)}function at(){K.apply(this,arguments)}function ot(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=h(e.recognizers,rt.defaults.preset),new lt(t,e)}function lt(t,e){this.options=ct({},rt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=T(this),this.touchAction=new W(this,this.options.touchAction),st(this,!0),r(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function st(t,e){var i=t.element;if(i.style){var n;r(t.options.cssProps,function(a,o){n=O(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=a):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function ut(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var ct,ht=["","webkit","Moz","MS","ms","o"],mt=e.createElement("div"),dt="function",pt=Math.round,gt=Math.abs,ft=Date.now;ct="function"!=typeof Object.assign?function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var a=arguments[i];if(a!==n&&null!==a)for(var o in a)a.hasOwnProperty(o)&&(e[o]=a[o])}return e}:Object.assign;var bt=l(function(t,e,i){for(var a=Object.keys(e),o=0;o<a.length;)(!i||i&&t[a[o]]===n)&&(t[a[o]]=e[a[o]]),o++;return t},"extend","Use `assign`."),vt=l(function(t,e){return bt(t,e,!0)},"merge","Use `assign`."),yt=1,Ot=/mobile|tablet|ip(ad|hone|od)|android/i,wt="ontouchstart"in t,It=!1,Gt=wt&&Ot.test(navigator.userAgent),Tt=25,Mt=1,xt=2,St=4,Lt=8,Ct=1,kt=2,Et=4,Dt=8,At=16,Nt=kt|Et,_t=Dt|At,Vt=Nt|_t,$t=["x","y"],Yt=["clientX","clientY"];G.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(I(this.element),this.evWin,this.domHandler)}};var Rt={mousedown:Mt,mousemove:xt,mouseup:St},Pt="mousedown",Ft="mousemove mouseup";s($,G,{handler:function(t){var e=Rt[t.type];e&Mt&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=St),this.pressed&&(e&St&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var zt={pointerdown:Mt,pointermove:xt,pointerup:St,pointercancel:Lt,pointerout:Lt},Bt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ut="pointerdown",Ht="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ut="MSPointerDown",Ht="MSPointerMove MSPointerUp MSPointerCancel"),s(Y,G,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),a=zt[n],o=Bt[t.pointerType]||t.pointerType,r="touch"==o,l=b(e,t.pointerId,"pointerId");a&Mt&&(0===t.button||r)?l<0&&(e.push(t),l=e.length-1):a&(St|Lt)&&(i=!0),l<0||(e[l]=t,this.callback(this.manager,a,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(l,1))}});var jt={touchstart:Mt,touchmove:xt,touchend:St,touchcancel:Lt},Wt="touchstart",Qt="touchstart touchmove touchend touchcancel";s(R,G,{handler:function(t){var e=jt[t.type];if(e===Mt&&(this.started=!0),this.started){var i=P.call(this,t,e);e&(St|Lt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var Xt={touchstart:Mt,touchmove:xt,touchend:St,touchcancel:Lt},qt="touchstart touchmove touchend touchcancel";s(F,G,{handler:function(t){var e=Xt[t.type],i=z.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var Zt=2500,Jt=25;s(B,G,{handler:function(t,e,i){var n="touch"==i.pointerType,a="mouse"==i.pointerType;if(!(a&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)U.call(this,e,i);else if(a&&j.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kt=O(mt.style,"touchAction"),te=Kt!==n,ee="auto",ie="manipulation",ne="none",ae="pan-x",oe="pan-y",re=function(){if(!te)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}();W.prototype={set:function(t){"compute"==t&&(t=this.compute()),te&&this.manager.element.style&&re[t]&&(this.manager.element.style[Kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Q(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,a=g(n,ne)&&!re[ne],o=g(n,oe)&&!re[oe],r=g(n,ae)&&!re[ae];if(a){var l=1===t.pointers.length,s=t.distance<2,u=t.deltaTime<250;if(l&&s&&u)return}if(!r||!o)return a||o&&i&Nt||r&&i&_t?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var le=1,se=2,ue=4,ce=8,he=ce,me=16;X.prototype={defaults:{},set:function(t){return ct(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=J(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=J(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=J(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=J(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<ce&&e(i.options.event+q(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=ce&&e(i.options.event+q(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|le)))return!1;t++}return!0},recognize:function(t){var e=ct({},t);if(!c(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(he|me|32)&&(this.state=le),this.state=this.process(e),this.state&(se|ue|ce|me)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},s(K,X,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(se|ue),a=this.attrTest(t);return n&&(i&Lt||!a)?e|me:n||a?i&St?e|ce:e&se?e|ue:se:32}}),s(tt,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:Vt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(oe),t&_t&&e.push(ae),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,a=t.direction,o=t.deltaX,r=t.deltaY;return a&e.direction||(e.direction&Nt?(a=0===o?Ct:o<0?kt:Et,i=o!=this.pX,n=Math.abs(t.deltaX)):(a=0===r?Ct:r<0?Dt:At,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=a,i&&n>e.threshold&&a&e.direction},attrTest:function(t){return K.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Z(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),s(et,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ne]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),s(it,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(St|Lt)&&!o)this.reset();else if(t.eventType&Mt)this.reset(),this._timer=a(function(){this.state=he,this.tryEmit()},e.time,this);else if(t.eventType&St)return he;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===he&&(t&&t.eventType&St?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}}),s(nt,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ne]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),s(at,K,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nt|_t,pointers:1},getTouchAction:function(){return tt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Nt|_t)?e=t.overallVelocity:i&Nt?e=t.overallVelocityX:i&_t&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&gt(e)>this.options.velocity&&t.eventType&St},emit:function(t){var e=Z(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),s(ot,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ie]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Mt&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=St)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,l=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,l&&r?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=he,this.tryEmit()},e.interval,this),se):he}return 32},failTimeout:function(){return this._timer=a(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==he&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.7",rt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[nt,{enable:!1}],[et,{enable:!1},["rotate"]],[at,{direction:Nt}],[tt,{direction:Nt},["swipe"]],[ot],[ot,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};lt.prototype={set:function(t){return ct(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,a=e.curRecognizer;(!a||a&&a.state&he)&&(a=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(t),!a&&i.state&(se|ue|ce)&&(a=e.curRecognizer=i),o++}},get:function(t){if(t instanceof X)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=b(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==n&&e!==n){var i=this.handlers;return r(f(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==n){var i=this.handlers;return r(f(t),function(t){e?i[t]&&i[t].splice(b(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&ut(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(rt,{INPUT_START:Mt,INPUT_MOVE:xt,INPUT_END:St,INPUT_CANCEL:Lt,STATE_POSSIBLE:le,STATE_BEGAN:se,STATE_CHANGED:ue,STATE_ENDED:ce,STATE_RECOGNIZED:he,STATE_CANCELLED:me,STATE_FAILED:32,DIRECTION_NONE:Ct,DIRECTION_LEFT:kt,DIRECTION_RIGHT:Et,DIRECTION_UP:Dt,DIRECTION_DOWN:At,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:_t,DIRECTION_ALL:Vt,Manager:lt,Input:G,TouchAction:W,TouchInput:F,MouseInput:$,PointerEventInput:Y,TouchMouseInput:B,SingleTouchInput:R,Recognizer:X,AttrRecognizer:K,Tap:ot,Pan:tt,Swipe:at,Pinch:et,Rotate:nt,Press:it,on:m,off:d,each:r,merge:vt,extend:bt,assign:ct,inherit:s,bindFn:u,prefixed:O}),(void 0!==t?t:"undefined"!=typeof self?self:{}).NGHammer=rt,"function"==typeof define&&define.amd?define(function(){return rt}):"undefined"!=typeof module&&module.exports?module.exports=rt:t.NGHammer=rt}(window,document),function(){"use strict";jQuery(document).ready(function(){for(var t=document.querySelectorAll("[data-nanogallery2]"),e=0;e<t.length;e++)jQuery(t[e]).nanogallery2(jQuery(t[e]).data("nanogallery2"))})}.call(null),function(t){jQuery.nanogallery2.data_nano_photos_provider2=function(t,e){function i(t){return decodeURIComponent(t)}function n(t,e){var n=!1;jQuery.each(e.album_content,function(t,o){var r=o.title,s=a.O.dataProvider.substring(0,a.O.dataProvider.indexOf("nano_photos_provider2.php")),u=s+i(o.src);""!=a.O.thumbnailLabel.get("title")&&(r=GetImageTitle(o.src));var c=o.description,h="image";void 0!==o.kind&&o.kind.length>0&&(h=o.kind);var m=null;void 0!==o.ID&&(m=o.ID);var d=!0;if("album"==h&&(l(r,m)||(d=!1)),d){var p=0;void 0!==o.albumID&&(p=o.albumID,n=!0);var g="";void 0!==o.tags&&(g=o.tags);var f=NGY2Item.New(a,r.split("_").join(" "),c.split("_").join(" "),m,p,h,g);f.src=u,void 0!==o.dcGIF&&(f.imageDominantColors="data:image/gif;base64,"+o.dcGIF),void 0!==o.dc&&""!==o.dc&&(f.imageDominantColor=o.dc),"album"==h?f.numberItems=o.cnt:(f.imageWidth=o.imgWidth,f.imageHeight=o.imgHeight),""!=o.originalURL&&(f.downloadURL=s+i(o.originalURL));for(var b=a.GOM.curNavLevel,v=["xs","sm","me","la","xl"],y=0;y<v.length;y++)f.thumbs.url[b][v[y]]=s+i(o.t_url[y]),f.thumbs.width[b][v[y]]=parseInt(o.t_width[y]),f.thumbs.height[b][v[y]]=parseInt(o.t_height[y]);"function"==typeof a.O.fnProcessData&&a.O.fnProcessData(f,a.O.dataProvider,e)}}),a.I[t].contentIsLoaded=!0}var a=t,o=NGY2Tools.PreloaderDisplay.bind(a),r=NGY2Tools.NanoAlert,l=(NGY2Tools.GetImageTitleFromURL.bind(a),NGY2Tools.FilterAlbumName.bind(a)),s=NGY2Tools.AlbumPostProcess.bind(a);switch(e){case"GetHiddenAlbums":break;case"AlbumGetContent":!function(e,l,u,c){var h=NGY2Item.GetIdx(a,e);""==t.I[h].title&&(t.I[h].title=i(e));var m=a.O.dataProvider+"?albumID="+e;m+="&wxs="+a.tn.settings.width[a.GOM.curNavLevel].xs,m+="&hxs="+a.tn.settings.height[a.GOM.curNavLevel].xs,m+="&wsm="+a.tn.settings.width[a.GOM.curNavLevel].sm,m+="&hsm="+a.tn.settings.height[a.GOM.curNavLevel].sm,m+="&wme="+a.tn.settings.width[a.GOM.curNavLevel].me,m+="&hme="+a.tn.settings.height[a.GOM.curNavLevel].me,m+="&wla="+a.tn.settings.width[a.GOM.curNavLevel].la,m+="&hla="+a.tn.settings.height[a.GOM.curNavLevel].la,m+="&wxl="+a.tn.settings.width[a.GOM.curNavLevel].xl,m+="&hxl="+a.tn.settings.height[a.GOM.curNavLevel].xl,o(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var d=setTimeout(function(){o(!1),r("Could not retrieve nanoPhotosProvider2 data (timeout).")},6e4);jQuery.getJSON(m,function(t,i,m){clearTimeout(d),o(!1),n(h,t),"ok"==t.nano_status?(s(e),null!==l&&void 0!==l&&l(u,c,null)):r(a,"Could not retrieve nanoPhotosProvider2 data. Error: "+t.nano_status+" - "+t.nano_message)}).fail(function(t,e,i){clearTimeout(d),o(!1);var n="";for(var l in t)n+=l+"="+t[l]+"<br>";r(a,"Could not retrieve nanoPhotosProvider2 data. Error: "+(e+", "+i+" "+n+"<br><br>URL:"+m))})}catch(t){r(a,"Could not retrieve nanoPhotosProvider2 data. Error: "+t)}}(arguments[2],arguments[3],arguments[4],arguments[5])}}}(jQuery),function(t){jQuery.nanogallery2.data_google2=function(t,e){function i(t,e,i){var n=r.I[t].GetID();""==r.I[t].title&&(r.I[t].title=i.feed.title.$t),jQuery.each(i.feed.entry,function(t,i){var o=i.media$group.media$content[0].url,l=i.title.$t,s="",h=i.media$group.media$description.$t;"image"==e&&(s=l,""!=h&&(l=h,h=""),""!=r.O.thumbnailLabel.get("title")&&(l=u(unescape(unescape(unescape(unescape(o)))))));var m=i.gphoto$id.$t;if("album"!=e||c(l,m)){var d=NGY2Item.New(r,l,h,m,n,e,""),p="";if("image"==e){if(p=o,!r.O.viewerZoom&&void 0!=r.O.viewerZoom){var g=o.substring(0,o.lastIndexOf("/"));g=g.substring(0,g.lastIndexOf("/"))+"/",p=window.screen.width>window.screen.height?g+"w"+window.screen.width+"/"+s:g+"h"+window.screen.height+"/"+s}d.src=p,void 0!==i.gphoto$width&&(d.imageWidth=parseInt(i.gphoto$width.$t)),void 0!==i.gphoto$height&&(d.imageHeight=parseInt(i.gphoto$height.$t)),null!=i.media$group&&null!=i.media$group.media$credit&&i.media$group.media$credit.length>0&&(d.author=i.media$group.media$credit[0].$t),void 0!==i.exif$tags&&(void 0!=i.exif$tags.exif$exposure&&(d.exif.exposure=i.exif$tags.exif$exposure.$t),void 0!=i.exif$tags.exif$flash&&"true"==i.exif$tags.exif$flash.$t&&(d.exif.flash="flash"),void 0!=i.exif$tags.exif$focallength&&(d.exif.focallength=i.exif$tags.exif$focallength.$t),void 0!=i.exif$tags.exif$fstop&&(d.exif.fstop=i.exif$tags.exif$fstop.$t),void 0!=i.exif$tags.exif$iso&&(d.exif.iso=i.exif$tags.exif$iso.$t),void 0!=i.exif$tags.exif$model&&(d.exif.model=i.exif$tags.exif$model.$t),void 0!=i.gphoto$location&&(d.exif.location=i.gphoto$location))}else d.author=i.author[0].name.$t,d.numberItems=i.gphoto$numphotos.$t;d.thumbs=a("l1",0,d.thumbs,i,e),d.thumbs=a("lN",5,d.thumbs,i,e),"function"==typeof r.O.fnProcessData&&r.O.fnProcessData(d,"google2",i)}}),r.I[t].contentIsLoaded=!0}function n(t,e){jQuery(document).queue("GoogleAlbumWithAuthkey",function(){var i=t.indexOf("&authkey=");-1==i&&(i=t.indexOf("?authkey="));var n=t.substring(0,i),o=t.substring(i);-1==o.indexOf("Gv1sRg")&&(o="&authkey=Gv1sRg"+o.substring(9));var u=Google.url()+"user/"+r.O.userID+"/albumid/"+n+"?alt=json&kind=photo"+o+"&max-results=1&thumbsize="+r.picasa.thumbSizes+"&imgmax=d";l(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var c=setTimeout(function(){l(!1),s(r,"Could not retrieve AJAX data...")},6e4);jQuery.getJSON(u,function(t,i,s){clearTimeout(c),l(!1);var u=t.feed.title.$t,h=t.feed.entry[0],m=NGY2Item.New(r,u,"",n,"0","album","");m.authkey=o,m.thumbs=a("l1",0,m.thumbs,h,"album"),m.thumbs=a("lN",5,m.thumbs,h,"album"),"function"==typeof r.O.fnProcessData&&r.O.fnProcessData(m,"google",h),m.numberItems=t.feed.gphoto$numphotos.$t,jQuery(document).queue("GoogleAlbumWithAuthkey").length>0?jQuery(document).dequeue("GoogleAlbumWithAuthkey"):e()}).fail(function(t,e,i){clearTimeout(c),l(!1),s(r,"Could not retrieve ajax data (google): "+e+", "+i),jQuery(document).dequeue("GoogleAlbumWithAuthkey")})})}function a(t,e,i,n,a){for(var o=["xs","sm","me","la","xl"],l=0;l<o.length;l++)if(i.url[t][o[l]]=n.media$group.media$thumbnail[e+l].url,"image"==a){i.width[t][o[l]]=n.media$group.media$thumbnail[e+l].width,i.height[t][o[l]]=n.media$group.media$thumbnail[e+l].height;var s=n.media$group.media$thumbnail[e+l].width,u=n.media$group.media$thumbnail[e+l].height;if("auto"==r.tn.settings.width[t][o[l]]&&u<r.tn.settings.height[t][o[l]]){c=s/u;i.width[t][o[l]]=s*c,i.height[t][o[l]]=u*c,h=(h=i.url[t][o[l]].substring(0,i.url[t][o[l]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[t][o[l]]=h+"h"+r.tn.settings.height[t][o[l]]+"/"}if("auto"==r.tn.settings.height[t][o[l]]&&s<r.tn.settings.width[t][o[l]]){var c=u/s;i.height[t][o[l]]=u*c,i.width[t][o[l]]=s*c,h=(h=i.url[t][o[l]].substring(0,i.url[t][o[l]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[t][o[l]]=h+"w"+r.tn.settings.width[t][o[l]]+"/"}}else if("auto"!=r.tn.settings.width[t][o[l]]||(h=(h=i.url[t][o[l]].substring(0,i.url[t][o[l]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[t][o[l]]=h+"h"+r.tn.settings.height[t][o[l]]+"/"),"auto"!=r.tn.settings.height[t][o[l]]);else{var h=i.url[t][o[l]].substring(0,i.url[t][o[l]].lastIndexOf("/"));h=h.substring(0,h.lastIndexOf("/"))+"/",i.url[t][o[l]]=h+"w"+r.tn.settings.width[t][o[l]]+"/"}return i}function o(t,e,i,n,a){var o=Math.ceil(i*r.tn.scale)+a;return isNaN(e)?o=Math.ceil(i*r.tn.scale)+a:isNaN(i)?o=Math.ceil(e*r.tn.scale)+n:e>i&&(o=Math.ceil(e*r.tn.scale)+n),t.length>0&&(t+=","),t+=o}var r=t;Google={url:function(){return"https://photos.googleapis.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "};var l=NGY2Tools.PreloaderDisplay.bind(r),s=NGY2Tools.NanoAlert,u=NGY2Tools.GetImageTitleFromURL.bind(r),c=NGY2Tools.FilterAlbumName.bind(r),h=NGY2Tools.AlbumPostProcess.bind(r);switch(e){case"GetHiddenAlbums":!function(t,e){for(var i=[].concat(t),a=0;a<i.length;a++)n(i[a],e);jQuery(document).dequeue("GoogleAlbumWithAuthkey")}(arguments[2],d=arguments[3]);break;case"AlbumGetContent":var m=arguments[2],d=arguments[3];!function(t,e,n,a){var o=Google.url()+"user/"+r.O.userID,u="image",c=NGY2Item.GetIdx(r,t),m="";r.galleryMaxItems.Get()>0&&(m="&max-results="+r.galleryMaxItems.Get());var d="";if("undefined"!=typeof ngy2_pwa_at&&(d=ngy2_pwa_at),0==t)""!=d?o+="?alt=json&v=3&kind=album&thumbsize="+r.picasa.thumbSizes+m+"&rnd="+(new Date).getTime()+"&access_token="+d:void 0==r.O.google2URL||""==r.O.google2URL?o+="?alt=json&v=3&kind=album&thumbsize="+r.picasa.thumbSizes+m+"&rnd="+(new Date).getTime():o=r.O.google2URL+"?nguserid="+r.O.userID+"&alt=json&v=3&kind=album&thumbsize="+r.picasa.thumbSizes+m+"&rnd="+(new Date).getTime(),u="album";else{var p="";""!=r.I[c].authkey&&(p=r.I[c].authkey),""!=d?o+="/albumid/"+t+"?alt=json&kind=photo&thumbsize="+r.picasa.thumbSizes+m+p+"&imgmax=d&access_token="+d:void 0==r.O.google2URL||""==r.O.google2URL?o+="/albumid/"+t+"?alt=json&v=3&kind=photo&thumbsize="+r.picasa.thumbSizes+m+"&rnd="+(new Date).getTime():o=r.O.google2URL+"?nguserid="+r.O.userID+"&ngalbumid="+t+"&alt=json&v=3&kind=photo&thumbsize="+r.picasa.thumbSizes+m+p+"&imgmax=d"}l(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var g=setTimeout(function(){l(!1),s("Could not retrieve AJAX data...")},6e4),f=function(o){clearTimeout(g),l(!1),i(c,u,o),h(t),null!==e&&void 0!==e&&e(n,a,null)},b=null,v=function(t,e){jQuery.getJSON(t+"&start-index="+e+"&callback=?",function(e){if("error"==e.nano_status)return clearTimeout(g),l(!1),void s(r,"Could not retrieve Google data. Error: "+e.nano_message);null===b?b=e:b.feed.entry=b.feed.entry.concat(e.feed.entry);var i=e.feed.openSearch$startIndex.$t+e.feed.openSearch$itemsPerPage.$t;i>=("image"==u?void 0===e.feed.gphoto$numphotos?e.feed.openSearch$totalResults.$t:e.feed.gphoto$numphotos.$t:e.feed.openSearch$totalResults.$t)||i>=r.galleryMaxItems.Get()?f(b):v(t,i)}).fail(function(e,i,n){clearTimeout(g),l(!1);var a="";for(var o in e)a+=o+"="+e[o]+"<br>";s(r,"Could not retrieve Google data. Error: "+(i+", "+n+" "+a+"<br><br>URL:"+t))})};v(o,1)}catch(t){s(r,"Could not retrieve Google data. Error: "+t)}}(m,d,arguments[4],arguments[5]);break;case"Init":!function(){r.picasa={thumbSizes:""};var t=1;!0===r.tn.opt.l1.crop&&(t=r.O.thumbnailCropScaleFactor);var e=1;!0===r.tn.opt.lN.crop&&(e=r.O.thumbnailCropScaleFactor),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.l1.xs*t,r.tn.settings.height.l1.xs*t,r.tn.settings.width.l1.xsc,r.tn.settings.height.l1.xsc),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.l1.sm*t,r.tn.settings.height.l1.sm*t,r.tn.settings.width.l1.smc,r.tn.settings.height.l1.smc),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.l1.me*t,r.tn.settings.height.l1.me*t,r.tn.settings.width.l1.mec,r.tn.settings.height.l1.mec),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.l1.la*t,r.tn.settings.height.l1.la*t,r.tn.settings.width.l1.lac,r.tn.settings.height.l1.lac),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.l1.xl*t,r.tn.settings.height.l1.xl*t,r.tn.settings.width.l1.xlc,r.tn.settings.height.l1.xlc),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.lN.xs*e,r.tn.settings.height.lN.xs*e,r.tn.settings.width.lN.xsc,r.tn.settings.height.lN.xsc),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.lN.sm*e,r.tn.settings.height.lN.sm*e,r.tn.settings.width.lN.smc,r.tn.settings.height.lN.smc),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.lN.me*e,r.tn.settings.height.lN.me*e,r.tn.settings.width.lN.mec,r.tn.settings.height.lN.mec),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.lN.la*e,r.tn.settings.height.lN.la*e,r.tn.settings.width.lN.lac,r.tn.settings.height.lN.lac),r.picasa.thumbSizes=o(r.picasa.thumbSizes,r.tn.settings.width.lN.xl*e,r.tn.settings.height.lN.xl*e,r.tn.settings.width.lN.xlc,r.tn.settings.height.lN.xlc)}()}}}(jQuery),function(t){jQuery.nanogallery2.data_flickr=function(t,e){function n(t,e){var i=l.I[t].GetID();jQuery.each(e,function(t,e){for(var n=e.title,a=e.id,r=e.description._content,u=e.url_sq,t=s.photoSize;t>=0;t--)if(void 0!=e["url_"+s.photoAvailableSizesStr[t]]){u=e["url_"+s.photoAvailableSizesStr[t]];break}var c={};for(var m in e)0!=m.indexOf("height_")&&0!=m.indexOf("width_")&&0!=m.indexOf("url_")||(c[m]=e[m]);""!=l.O.thumbnailLabel.get("title")&&(n=h(u));var d="";void 0!==e.tags&&(d=e.tags);var p=NGY2Item.New(l,n,r,a,i,"image",d);p.src=u,void 0!==e.url_o?(p.imageWidth=e.width_o,p.imageHeight=e.height_o):(p.imageWidth=e.width_z,p.imageHeight=e.height_z);var g={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};g=o(g=o(g,e,"l1"),e,"lN"),p.thumbs=g}),l.I[t].contentIsLoaded=!0}function a(t,e){var i=l.I[t].GetID();jQuery.each(e,function(t,e){if(itemTitle=e.title._content,m(itemTitle,e.id)){itemID=e.id,itemDescription="",void 0!=e.description._content&&(itemDescription=e.description._content);var n={};for(var a in e.primary_photo_extras)n[a]=e.primary_photo_extras[a];tags="",void 0!==e.primary_photo_extras&&void 0!==e.primary_photo_extras.tags&&(tags=e.primary_photo_extras.tags);var r=NGY2Item.New(l,itemTitle,itemDescription,itemID,i,"album",tags);r.numberItems=e.photos,r.thumbSizes=n;var s={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};s=o(s=o(s,e.primary_photo_extras,"l1"),e.primary_photo_extras,"lN"),r.thumbs=s}}),l.I[t].contentIsLoaded=!0}function o(t,e,i){var n=1;!0===l.tn.opt[i].crop&&(n=l.O.thumbnailCropScaleFactor);for(var a=["xs","sm","me","la","xl"],o=0;o<a.length;o++)if("auto"==l.tn.settings.width[i][a[o]]||""==l.tn.settings.width[i][a[o]]){c=r(s="height_",u=Math.ceil(l.tn.settings.height[i][a[o]]*l.tn.scale*n),e);t.url[i][a[o]]=c.url,t.width[i][a[o]]=c.width,t.height[i][a[o]]=c.height}else if("auto"==l.tn.settings.height[i][a[o]]||""==l.tn.settings.height[i][a[o]]){c=r(s="width_",u=Math.ceil(l.tn.settings.width[i][a[o]]*l.tn.scale*n),e);t.url[i][a[o]]=c.url,t.width[i][a[o]]=c.width,t.height[i][a[o]]=c.height}else{var s="height_",u=Math.ceil(l.tn.settings.height[i][a[o]]*l.tn.scale*n);l.tn.settings.width[i][a[o]]>l.tn.settings.height[i][a[o]]&&(s="width_",u=Math.ceil(l.tn.settings.width[i][a[o]]*l.tn.scale*n));var c=r(s,u,e);t.url[i][a[o]]=c.url,t.width[i][a[o]]=c.width,t.height[i][a[o]]=c.height}return t}function r(t,e,i){for(var n={url:"",width:0,height:0},a=0,o=0;o<s.thumbAvailableSizes.length;o++){var r=i[t+s.photoAvailableSizesStr[o]];if(void 0!=r&&(a=o,r>=e))break}var l=s.photoAvailableSizesStr[a];return n.url=i["url_"+l],n.width=parseInt(i["width_"+l]),n.height=parseInt(i["height_"+l]),n}var l=t,s={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"               sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"0",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},u=NGY2Tools.PreloaderDisplay.bind(l),c=NGY2Tools.NanoAlert,h=NGY2Tools.GetImageTitleFromURL.bind(l),m=NGY2Tools.FilterAlbumName.bind(l),d=NGY2Tools.AlbumPostProcess.bind(l),p=Math.max(window.screen.width,window.screen.height);for(void 0!=window.devicePixelRatio&&window.devicePixelRatio>1&&(p*=window.devicePixelRatio),l.O.flickrSkipOriginal||(s.photoAvailableSizes.push(1e4),s.photoAvailableSizesStr.push("o")),i=0;i<s.photoAvailableSizes.length&&(s.photoSize=i,!(p<=s.photoAvailableSizes[i]));i++);switch(e){case"GetHiddenAlbums":arguments[2];!function(t,e){e()}(0,f=arguments[3]);break;case"AlbumGetContent":var g=arguments[2],f=arguments[3];!function(t,e,i,o){var r=NGY2Item.GetIdx(l,t),h="",m="image";"NONE"==l.O.photoset.toUpperCase()||"NONE"==l.O.album.toUpperCase()?h=s.url()+"?&method=flickr.people.getPublicPhotos&api_key="+s.ApiKey+"&user_id="+l.O.userID+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json":0==l.I[r].GetID()?(h=s.url()+"?&method=flickr.photosets.getList&api_key="+s.ApiKey+"&user_id="+l.O.userID+"&per_page=500&primary_photo_extras=tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",m="album"):h=s.url()+"?&method=flickr.photosets.getPhotos&api_key="+s.ApiKey+"&photoset_id="+l.I[r].GetID()+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",u(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var p=setTimeout(function(){u(!1),c(l,"Could not retrieve AJAX data...")},6e4),g=[],f=function(){clearTimeout(p),u(!1),"album"==m?a(r,g):n(r,g),d(t),null!==e&&void 0!==e&&e(i,o,null)},b=function(t,e){jQuery.getJSON(t+"&page="+e+"&jsoncallback=?",function(i,n,a){var o=0;if("album"==m){if(void 0!==i.stat&&"fail"===i.stat)return c(l,"Could not retrieve Flickr album list: "+i.message+" (code: "+i.code+")."),!1;g=g.concat(i.photosets.photoset),o=i.photosets.pages}else if("NONE"==l.O.photoset.toUpperCase()||"NONE"==l.O.album.toUpperCase())g=g.concat(i.photos.photo),o=i.photos.pages;else{if(void 0!==i.stat&&"fail"===i.stat)return c(l,"Could not retrieve Flickr album: "+i.message+" (code: "+i.code+")."),!1;""==l.I[r].title&&(l.I[r].title=i.photoset.title),g=g.concat(i.photoset.photo),o=i.photoset.pages}o>e?b(t,e+1):f()}).fail(function(t,e,i){clearTimeout(p),u(!1),c(l,"Could not retrieve Flickr ajax data: "+e+", "+i)})};b(h,1)}(g,f,arguments[4],arguments[5])}}}(jQuery);